{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{JzFi:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"VersionHistoryPageModule\",function(){return version_history_module_VersionHistoryPageModule});var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),open_version_page=__webpack_require__(\"GaT9\"),core=__webpack_require__(\"fXoL\"),user_data_service=__webpack_require__(\"DPk/\");function VersionHistoryPage_ion_item_7_Template(rf,ctx){if(1&rf){const _r4=core.Ob();core.Nb(0,\"ion-item\"),core.Nb(1,\"ion-label\"),core.Nb(2,\"h2\"),core.mc(3),core.Yb(4,\"date\"),core.Mb(),core.Nb(5,\"h3\"),core.mc(6),core.Mb(),core.Mb(),core.Nb(7,\"ion-buttons\",3),core.Nb(8,\"ion-button\",4),core.Vb(\"click\",function(){core.hc(_r4);const i_r2=ctx.index;return core.Xb().openVersion(i_r2)}),core.mc(9,\"View\"),core.Mb(),core.Mb(),core.Mb()}if(2&rf){const history_r1=ctx.$implicit;core.xb(3),core.nc(core.ac(4,2,history_r1.time,\"medium\")),core.xb(3),core.nc(history_r1.type)}}const routes=[{path:\"\",component:(()=>{class VersionHistoryPage{constructor(userDataService,modalCtrl){this.userDataService=userDataService,this.modalCtrl=modalCtrl,this.versionHistory=[]}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){yield this.userDataService.loadUserProfile(),yield this.userDataService.loadMedicalRecord(),this.versionHistory=this.userDataService.versionHistoryValue,console.log(this.versionHistory)})}openVersion(index){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const entry=this.versionHistory[index];console.log(typeof entry.value),console.log(entry),console.log(entry.value);const modal=yield this.modalCtrl.create({component:open_version_page.a,componentProps:{date:entry.time,type:entry.type,value:entry.value},cssClass:\"login-modal\"});yield modal.present();const{data:data}=yield modal.onWillDismiss();console.log(data.restoreValues),console.log(typeof data.restoreValues),1==data.restoreValues&&(\"User Profile\"==entry.type?(this.userDataService.userProfileValue=entry.value,this.userDataService.saveUserProfile()):(this.userDataService.medicalRecordValue=entry.value,this.userDataService.saveMedicalRecord()))})}}return VersionHistoryPage.ɵfac=function(t){return new(t||VersionHistoryPage)(core.Ib(user_data_service.a),core.Ib(ionic_angular.P))},VersionHistoryPage.ɵcmp=core.Cb({type:VersionHistoryPage,selectors:[[\"app-version-history\"]],decls:8,vars:1,consts:[[\"slot\",\"start\"],[\"defaultHref\",\"settings\"],[4,\"ngFor\",\"ngForOf\"],[\"slot\",\"end\"],[3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Nb(0,\"ion-header\"),core.Nb(1,\"ion-toolbar\"),core.Nb(2,\"ion-buttons\",0),core.Jb(3,\"ion-back-button\",1),core.Mb(),core.Nb(4,\"ion-title\"),core.mc(5,\"Version History\"),core.Mb(),core.Mb(),core.Mb(),core.Nb(6,\"ion-content\"),core.lc(7,VersionHistoryPage_ion_item_7_Template,10,5,\"ion-item\",2),core.Mb()),2&rf&&(core.xb(7),core.dc(\"ngForOf\",ctx.versionHistory))},directives:[ionic_angular.v,ionic_angular.M,ionic_angular.h,ionic_angular.e,ionic_angular.f,ionic_angular.K,ionic_angular.p,common.k,ionic_angular.z,ionic_angular.A,ionic_angular.g],pipes:[common.d],styles:[\"\"]}),VersionHistoryPage})()}];let version_history_routing_module_VersionHistoryPageRoutingModule=(()=>{class VersionHistoryPageRoutingModule{}return VersionHistoryPageRoutingModule.ɵmod=core.Gb({type:VersionHistoryPageRoutingModule}),VersionHistoryPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||VersionHistoryPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),VersionHistoryPageRoutingModule})(),version_history_module_VersionHistoryPageModule=(()=>{class VersionHistoryPageModule{}return VersionHistoryPageModule.ɵmod=core.Gb({type:VersionHistoryPageModule}),VersionHistoryPageModule.ɵinj=core.Fb({factory:function(t){return new(t||VersionHistoryPageModule)},imports:[[common.b,fesm2015_forms.d,ionic_angular.N,version_history_routing_module_VersionHistoryPageRoutingModule]]}),VersionHistoryPageModule})()}}]);","name":"31-es2015.a60226566b318965892e.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[31],{\n\n/***/ \"JzFi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"VersionHistoryPageModule\", function() { return /* binding */ version_history_module_VersionHistoryPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 15 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/app/open-version/open-version.page.ts\nvar open_version_page = __webpack_require__(\"GaT9\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 1 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/services/user-data.service.ts\nvar user_data_service = __webpack_require__(\"DPk/\");\n\n// CONCATENATED MODULE: ./src/app/version-history/version-history.page.ts\n\n\n\n\n\n\nfunction VersionHistoryPage_ion_item_7_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r4 = core[\"Ob\" /* ɵɵgetCurrentView */]();\n        core[\"Nb\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Nb\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Nb\" /* ɵɵelementStart */](2, \"h2\");\n        core[\"mc\" /* ɵɵtext */](3);\n        core[\"Yb\" /* ɵɵpipe */](4, \"date\");\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Nb\" /* ɵɵelementStart */](5, \"h3\");\n        core[\"mc\" /* ɵɵtext */](6);\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Nb\" /* ɵɵelementStart */](7, \"ion-buttons\", 3);\n        core[\"Nb\" /* ɵɵelementStart */](8, \"ion-button\", 4);\n        core[\"Vb\" /* ɵɵlistener */](\"click\", function VersionHistoryPage_ion_item_7_Template_ion_button_click_8_listener() { core[\"hc\" /* ɵɵrestoreView */](_r4); const i_r2 = ctx.index; const ctx_r3 = core[\"Xb\" /* ɵɵnextContext */](); return ctx_r3.openVersion(i_r2); });\n        core[\"mc\" /* ɵɵtext */](9, \"View\");\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Mb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const history_r1 = ctx.$implicit;\n        core[\"xb\" /* ɵɵadvance */](3);\n        core[\"nc\" /* ɵɵtextInterpolate */](core[\"ac\" /* ɵɵpipeBind2 */](4, 2, history_r1.time, \"medium\"));\n        core[\"xb\" /* ɵɵadvance */](3);\n        core[\"nc\" /* ɵɵtextInterpolate */](history_r1.type);\n    }\n}\nlet version_history_page_VersionHistoryPage = /*@__PURE__*/ (() => {\n    class VersionHistoryPage {\n        constructor(userDataService, modalCtrl) {\n            this.userDataService = userDataService;\n            this.modalCtrl = modalCtrl;\n            this.versionHistory = [];\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.userDataService.loadUserProfile();\n                yield this.userDataService.loadMedicalRecord();\n                this.versionHistory = this.userDataService.versionHistoryValue;\n                console.log(this.versionHistory);\n            });\n        }\n        openVersion(index) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                //console.log(typeof this.userDataService.old[index]);\n                const entry = this.versionHistory[index];\n                console.log(typeof entry.value);\n                console.log(entry);\n                console.log(entry.value);\n                const modal = yield this.modalCtrl.create({\n                    component: open_version_page[\"a\" /* OpenVersionPage */],\n                    componentProps: {\n                        date: entry.time,\n                        type: entry.type,\n                        value: entry.value,\n                    },\n                    cssClass: 'login-modal'\n                });\n                yield modal.present();\n                const { data } = yield modal.onWillDismiss();\n                console.log(data.restoreValues);\n                console.log(typeof data.restoreValues);\n                if (data.restoreValues == true) {\n                    if (entry.type == 'User Profile') {\n                        this.userDataService.userProfileValue = entry.value;\n                        this.userDataService.saveUserProfile();\n                    }\n                    else {\n                        this.userDataService.medicalRecordValue = entry.value;\n                        this.userDataService.saveMedicalRecord();\n                    }\n                }\n            });\n        }\n    }\n    VersionHistoryPage.ɵfac = function VersionHistoryPage_Factory(t) { return new (t || VersionHistoryPage)(core[\"Ib\" /* ɵɵdirectiveInject */](user_data_service[\"a\" /* UserDataService */]), core[\"Ib\" /* ɵɵdirectiveInject */](ionic_angular[\"P\" /* ModalController */])); };\n    VersionHistoryPage.ɵcmp = core[\"Cb\" /* ɵɵdefineComponent */]({ type: VersionHistoryPage, selectors: [[\"app-version-history\"]], decls: 8, vars: 1, consts: [[\"slot\", \"start\"], [\"defaultHref\", \"settings\"], [4, \"ngFor\", \"ngForOf\"], [\"slot\", \"end\"], [3, \"click\"]], template: function VersionHistoryPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Nb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Nb\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Nb\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"Jb\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Nb\" /* ɵɵelementStart */](4, \"ion-title\");\n                core[\"mc\" /* ɵɵtext */](5, \"Version History\");\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Nb\" /* ɵɵelementStart */](6, \"ion-content\");\n                core[\"lc\" /* ɵɵtemplate */](7, VersionHistoryPage_ion_item_7_Template, 10, 5, \"ion-item\", 2);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"xb\" /* ɵɵadvance */](7);\n                core[\"dc\" /* ɵɵproperty */](\"ngForOf\", ctx.versionHistory);\n            }\n        }, directives: [ionic_angular[\"v\" /* IonHeader */], ionic_angular[\"M\" /* IonToolbar */], ionic_angular[\"h\" /* IonButtons */], ionic_angular[\"e\" /* IonBackButton */], ionic_angular[\"f\" /* IonBackButtonDelegate */], ionic_angular[\"K\" /* IonTitle */], ionic_angular[\"p\" /* IonContent */], common[\"k\" /* NgForOf */], ionic_angular[\"z\" /* IonItem */], ionic_angular[\"A\" /* IonLabel */], ionic_angular[\"g\" /* IonButton */]], pipes: [common[\"d\" /* DatePipe */]], styles: [\"\"] });\n    return VersionHistoryPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/version-history/version-history-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: version_history_page_VersionHistoryPage\n    }\n];\nlet version_history_routing_module_VersionHistoryPageRoutingModule = /*@__PURE__*/ (() => {\n    class VersionHistoryPageRoutingModule {\n    }\n    VersionHistoryPageRoutingModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: VersionHistoryPageRoutingModule });\n    VersionHistoryPageRoutingModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function VersionHistoryPageRoutingModule_Factory(t) { return new (t || VersionHistoryPageRoutingModule)(); }, imports: [[router[\"i\" /* RouterModule */].forChild(routes)], router[\"i\" /* RouterModule */]] });\n    return VersionHistoryPageRoutingModule;\n})();\n\n// CONCATENATED MODULE: ./src/app/version-history/version-history.module.ts\n\n\n\n\n\nlet version_history_module_VersionHistoryPageModule = /*@__PURE__*/ (() => {\n    class VersionHistoryPageModule {\n    }\n    VersionHistoryPageModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: VersionHistoryPageModule });\n    VersionHistoryPageModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function VersionHistoryPageModule_Factory(t) { return new (t || VersionHistoryPageModule)(); }, imports: [[\n                common[\"b\" /* CommonModule */],\n                fesm2015_forms[\"d\" /* FormsModule */],\n                ionic_angular[\"N\" /* IonicModule */],\n                version_history_routing_module_VersionHistoryPageRoutingModule\n            ]] });\n    return VersionHistoryPageModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}