{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{tiJM:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"OperativeHistoryPageModule\",function(){return operative_history_module_OperativeHistoryPageModule});var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),edit_operative_history_page=__webpack_require__(\"8x4H\"),view_operative_history_page=__webpack_require__(\"TR9v\"),core=__webpack_require__(\"fXoL\"),user_data_service=__webpack_require__(\"DPk/\"),photo_service=__webpack_require__(\"6/gD\");function OperativeHistoryPage_ion_card_10_Template(rf,ctx){1&rf&&(core.Lb(0,\"ion-card\"),core.Lb(1,\"ion-card-header\"),core.Lb(2,\"ion-card-title\"),core.kc(3,\"No History\"),core.Kb(),core.Kb(),core.Kb())}function OperativeHistoryPage_ion_card_11_Template(rf,ctx){if(1&rf){const _r5=core.Mb();core.Lb(0,\"ion-card\",3),core.Tb(\"click\",function(){core.fc(_r5);const i_r3=ctx.index;return core.Vb().choose(i_r3)}),core.Lb(1,\"ion-item\",6),core.Lb(2,\"ion-label\",7),core.kc(3),core.Wb(4,\"date\"),core.Kb(),core.Kb(),core.Lb(5,\"ion-item\",8),core.Lb(6,\"ion-label\",9),core.Lb(7,\"h3\"),core.kc(8),core.Kb(),core.Kb(),core.Kb(),core.Lb(9,\"ion-card-content\"),core.kc(10),core.Kb(),core.Kb()}if(2&rf){const history_r2=ctx.$implicit;core.xb(3),core.mc(\" \",core.Yb(4,3,history_r2.date,\"d MMM y\"),\" \"),core.xb(5),core.mc(\"\",history_r2.type,\" Details\"),core.xb(2),core.mc(\" \",history_r2.details,\" \")}}const routes=[{path:\"\",component:(()=>{class OperativeHistoryPage{constructor(modalCtrl,userDataService,actionSheetController,photoService){this.modalCtrl=modalCtrl,this.userDataService=userDataService,this.actionSheetController=actionSheetController,this.photoService=photoService,this.operativeHistoryJSON={},this.operativeHistoryString=\"\",this.histories=[],this.photos=[]}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,console.log(this.operativeHistoryString),\"\"!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),console.log(this.operativeHistoryJSON),Object.keys(this.operativeHistoryJSON).forEach(key=>{this.histories.push(this.operativeHistoryJSON[key]),console.log(this.histories)}))})}edit(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:edit_operative_history_page.a,backdropDismiss:!1,componentProps:{isModal:!0}})).present()})}viewPhoto(x){return Object(tslib_es6.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:view_operative_history_page.a,backdropDismiss:!1,componentProps:{index:x}})).present()})}choose(x){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const actionSheet=yield this.actionSheetController.create({header:\"Options\",buttons:[{text:\"View and Edit\",handler:()=>{this.viewPhoto(x)}},{text:\"Delete\",role:\"destructive\",handler:()=>{console.log(\"Delete clicked\"),console.log(x),this.histories.splice(x,1),console.log(this.histories),this.operativeHistoryJSON={};for(let i=0;i<this.histories.length;i++)console.log(i.toString()),this.operativeHistoryJSON[i]=this.histories[i];const lastKey=Object.keys(this.operativeHistoryJSON)[Object.keys(this.operativeHistoryJSON).length-1];delete this.operativeHistoryJSON[lastKey],console.log(this.histories),console.log(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(this.operativeHistoryJSON),this.userDataService.saveMedicalRecord()}},{text:\"Cancel\",role:\"cancel\"}]});yield actionSheet.present()})}}return OperativeHistoryPage.ɵfac=function(t){return new(t||OperativeHistoryPage)(core.Ib(ionic_angular.P),core.Ib(user_data_service.a),core.Ib(ionic_angular.a),core.Ib(photo_service.a))},OperativeHistoryPage.ɵcmp=core.Cb({type:OperativeHistoryPage,selectors:[[\"app-operative-history\"]],decls:12,vars:2,consts:[[\"slot\",\"start\"],[\"defaultHref\",\"/medical-record\"],[\"slot\",\"end\"],[3,\"click\"],[4,\"ngIf\"],[3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"lines\",\"full\"],[2,\"font-weight\",\"bold\",\"color\",\"mediumseagreen\"],[\"lines\",\"none\"],[2,\"margin-bottom\",\"0%\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\"),core.Lb(1,\"ion-toolbar\"),core.Lb(2,\"ion-buttons\",0),core.Jb(3,\"ion-back-button\",1),core.Kb(),core.Lb(4,\"ion-title\"),core.kc(5,\"Operative History\"),core.Kb(),core.Lb(6,\"ion-buttons\",2),core.Lb(7,\"ion-button\",3),core.Tb(\"click\",function(){return ctx.edit()}),core.kc(8,\"Add\"),core.Kb(),core.Kb(),core.Kb(),core.Kb(),core.Lb(9,\"ion-content\"),core.jc(10,OperativeHistoryPage_ion_card_10_Template,4,0,\"ion-card\",4),core.jc(11,OperativeHistoryPage_ion_card_11_Template,11,6,\"ion-card\",5),core.Kb()),2&rf&&(core.xb(10),core.bc(\"ngIf\",0==ctx.histories.length),core.xb(1),core.bc(\"ngForOf\",ctx.histories))},directives:[ionic_angular.v,ionic_angular.M,ionic_angular.h,ionic_angular.e,ionic_angular.f,ionic_angular.K,ionic_angular.g,ionic_angular.p,common.l,common.k,ionic_angular.i,ionic_angular.k,ionic_angular.m,ionic_angular.z,ionic_angular.A,ionic_angular.j],pipes:[common.d],styles:[\"h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;font-size:14px;color:#000}\"]}),OperativeHistoryPage})()}];let operative_history_routing_module_OperativeHistoryPageRoutingModule=(()=>{class OperativeHistoryPageRoutingModule{}return OperativeHistoryPageRoutingModule.ɵmod=core.Gb({type:OperativeHistoryPageRoutingModule}),OperativeHistoryPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||OperativeHistoryPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),OperativeHistoryPageRoutingModule})(),operative_history_module_OperativeHistoryPageModule=(()=>{class OperativeHistoryPageModule{}return OperativeHistoryPageModule.ɵmod=core.Gb({type:OperativeHistoryPageModule}),OperativeHistoryPageModule.ɵinj=core.Fb({factory:function(t){return new(t||OperativeHistoryPageModule)},imports:[[common.b,fesm2015_forms.d,ionic_angular.N,operative_history_routing_module_OperativeHistoryPageRoutingModule]]}),OperativeHistoryPageModule})()}}]);","name":"26-es2015.1a35151929e7451a5f3e.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[26],{\n\n/***/ \"tiJM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"OperativeHistoryPageModule\", function() { return /* binding */ operative_history_module_OperativeHistoryPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 15 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/app/edit-operative-history/edit-operative-history.page.ts\nvar edit_operative_history_page = __webpack_require__(\"8x4H\");\n\n// EXTERNAL MODULE: ./src/app/view-operative-history/view-operative-history.page.ts\nvar view_operative_history_page = __webpack_require__(\"TR9v\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 1 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/services/user-data.service.ts\nvar user_data_service = __webpack_require__(\"DPk/\");\n\n// EXTERNAL MODULE: ./src/app/services/photo.service.ts\nvar photo_service = __webpack_require__(\"6/gD\");\n\n// CONCATENATED MODULE: ./src/app/operative-history/operative-history.page.ts\n\n\n\n\n\n\n\n\nfunction OperativeHistoryPage_ion_card_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Lb\" /* ɵɵelementStart */](0, \"ion-card\");\n        core[\"Lb\" /* ɵɵelementStart */](1, \"ion-card-header\");\n        core[\"Lb\" /* ɵɵelementStart */](2, \"ion-card-title\");\n        core[\"kc\" /* ɵɵtext */](3, \"No History\");\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n    }\n}\nfunction OperativeHistoryPage_ion_card_11_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r5 = core[\"Mb\" /* ɵɵgetCurrentView */]();\n        core[\"Lb\" /* ɵɵelementStart */](0, \"ion-card\", 3);\n        core[\"Tb\" /* ɵɵlistener */](\"click\", function OperativeHistoryPage_ion_card_11_Template_ion_card_click_0_listener() { core[\"fc\" /* ɵɵrestoreView */](_r5); const i_r3 = ctx.index; const ctx_r4 = core[\"Vb\" /* ɵɵnextContext */](); return ctx_r4.choose(i_r3); });\n        core[\"Lb\" /* ɵɵelementStart */](1, \"ion-item\", 6);\n        core[\"Lb\" /* ɵɵelementStart */](2, \"ion-label\", 7);\n        core[\"kc\" /* ɵɵtext */](3);\n        core[\"Wb\" /* ɵɵpipe */](4, \"date\");\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Lb\" /* ɵɵelementStart */](5, \"ion-item\", 8);\n        core[\"Lb\" /* ɵɵelementStart */](6, \"ion-label\", 9);\n        core[\"Lb\" /* ɵɵelementStart */](7, \"h3\");\n        core[\"kc\" /* ɵɵtext */](8);\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Lb\" /* ɵɵelementStart */](9, \"ion-card-content\");\n        core[\"kc\" /* ɵɵtext */](10);\n        core[\"Kb\" /* ɵɵelementEnd */]();\n        core[\"Kb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const history_r2 = ctx.$implicit;\n        core[\"xb\" /* ɵɵadvance */](3);\n        core[\"mc\" /* ɵɵtextInterpolate1 */](\" \", core[\"Yb\" /* ɵɵpipeBind2 */](4, 3, history_r2.date, \"d MMM y\"), \" \");\n        core[\"xb\" /* ɵɵadvance */](5);\n        core[\"mc\" /* ɵɵtextInterpolate1 */](\"\", history_r2.type, \" Details\");\n        core[\"xb\" /* ɵɵadvance */](2);\n        core[\"mc\" /* ɵɵtextInterpolate1 */](\" \", history_r2.details, \" \");\n    }\n}\nlet operative_history_page_OperativeHistoryPage = /*@__PURE__*/ (() => {\n    class OperativeHistoryPage {\n        constructor(modalCtrl, userDataService, actionSheetController, photoService) {\n            this.modalCtrl = modalCtrl;\n            this.userDataService = userDataService;\n            this.actionSheetController = actionSheetController;\n            this.photoService = photoService;\n            this.operativeHistoryJSON = {};\n            this.operativeHistoryString = '';\n            this.histories = [];\n            this.photos = [];\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.userDataService.loadMedicalRecord();\n                this.operativeHistoryString = this.userDataService.medicalRecordValue['operativeHistory'];\n                console.log(this.operativeHistoryString);\n                if (this.operativeHistoryString != '' && this.operativeHistoryString != null) {\n                    this.operativeHistoryJSON = JSON.parse(this.operativeHistoryString);\n                    console.log(this.operativeHistoryJSON);\n                    Object.keys(this.operativeHistoryJSON).forEach(key => {\n                        this.histories.push(this.operativeHistoryJSON[key]);\n                        console.log(this.histories);\n                    });\n                }\n                /*     Object.keys(this.operativeHistoryJSON).forEach(key => {\n                      this.operativeHistoryTuple.push(this.operativeHistoryJSON[key]);\n                    }) */\n            });\n        }\n        edit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const modal = yield this.modalCtrl.create({\n                    component: edit_operative_history_page[\"a\" /* EditOperativeHistoryPage */],\n                    backdropDismiss: false,\n                    componentProps: {\n                        isModal: true\n                    },\n                });\n                modal.present();\n            });\n        }\n        viewPhoto(x) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const modal = yield this.modalCtrl.create({\n                    component: view_operative_history_page[\"a\" /* ViewOperativeHistoryPage */],\n                    backdropDismiss: false,\n                    componentProps: {\n                        index: x,\n                    },\n                });\n                modal.present();\n            });\n        }\n        choose(x) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const actionSheet = yield this.actionSheetController.create({\n                    header: 'Options',\n                    buttons: [{\n                            text: 'View and Edit',\n                            handler: () => {\n                                this.viewPhoto(x);\n                            }\n                        }, {\n                            text: 'Delete',\n                            role: 'destructive',\n                            handler: () => {\n                                console.log('Delete clicked');\n                                console.log(x);\n                                this.histories.splice(x, 1);\n                                console.log(this.histories);\n                                this.operativeHistoryJSON = {};\n                                for (let i = 0; i < this.histories.length; i++) {\n                                    console.log(i.toString());\n                                    this.operativeHistoryJSON[i] = this.histories[i];\n                                }\n                                const lastKey = Object.keys(this.operativeHistoryJSON)[Object.keys(this.operativeHistoryJSON).length - 1];\n                                delete this.operativeHistoryJSON[lastKey];\n                                console.log(this.histories);\n                                console.log(this.operativeHistoryJSON);\n                                this.userDataService.medicalRecordValue['operativeHistory'] = JSON.stringify(this.operativeHistoryJSON);\n                                this.userDataService.saveMedicalRecord();\n                            }\n                        }, {\n                            text: 'Cancel', role: 'cancel',\n                        }]\n                });\n                yield actionSheet.present();\n            });\n        }\n    }\n    OperativeHistoryPage.ɵfac = function OperativeHistoryPage_Factory(t) { return new (t || OperativeHistoryPage)(core[\"Ib\" /* ɵɵdirectiveInject */](ionic_angular[\"P\" /* ModalController */]), core[\"Ib\" /* ɵɵdirectiveInject */](user_data_service[\"a\" /* UserDataService */]), core[\"Ib\" /* ɵɵdirectiveInject */](ionic_angular[\"a\" /* ActionSheetController */]), core[\"Ib\" /* ɵɵdirectiveInject */](photo_service[\"a\" /* PhotoService */])); };\n    OperativeHistoryPage.ɵcmp = core[\"Cb\" /* ɵɵdefineComponent */]({ type: OperativeHistoryPage, selectors: [[\"app-operative-history\"]], decls: 12, vars: 2, consts: [[\"slot\", \"start\"], [\"defaultHref\", \"/medical-record\"], [\"slot\", \"end\"], [3, \"click\"], [4, \"ngIf\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"lines\", \"full\"], [2, \"font-weight\", \"bold\", \"color\", \"mediumseagreen\"], [\"lines\", \"none\"], [2, \"margin-bottom\", \"0%\"]], template: function OperativeHistoryPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Lb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Lb\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Lb\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"Jb\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Lb\" /* ɵɵelementStart */](4, \"ion-title\");\n                core[\"kc\" /* ɵɵtext */](5, \"Operative History\");\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Lb\" /* ɵɵelementStart */](6, \"ion-buttons\", 2);\n                core[\"Lb\" /* ɵɵelementStart */](7, \"ion-button\", 3);\n                core[\"Tb\" /* ɵɵlistener */](\"click\", function OperativeHistoryPage_Template_ion_button_click_7_listener() { return ctx.edit(); });\n                core[\"kc\" /* ɵɵtext */](8, \"Add\");\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Lb\" /* ɵɵelementStart */](9, \"ion-content\");\n                core[\"jc\" /* ɵɵtemplate */](10, OperativeHistoryPage_ion_card_10_Template, 4, 0, \"ion-card\", 4);\n                core[\"jc\" /* ɵɵtemplate */](11, OperativeHistoryPage_ion_card_11_Template, 11, 6, \"ion-card\", 5);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"xb\" /* ɵɵadvance */](10);\n                core[\"bc\" /* ɵɵproperty */](\"ngIf\", ctx.histories.length == 0);\n                core[\"xb\" /* ɵɵadvance */](1);\n                core[\"bc\" /* ɵɵproperty */](\"ngForOf\", ctx.histories);\n            }\n        }, directives: [ionic_angular[\"v\" /* IonHeader */], ionic_angular[\"M\" /* IonToolbar */], ionic_angular[\"h\" /* IonButtons */], ionic_angular[\"e\" /* IonBackButton */], ionic_angular[\"f\" /* IonBackButtonDelegate */], ionic_angular[\"K\" /* IonTitle */], ionic_angular[\"g\" /* IonButton */], ionic_angular[\"p\" /* IonContent */], common[\"l\" /* NgIf */], common[\"k\" /* NgForOf */], ionic_angular[\"i\" /* IonCard */], ionic_angular[\"k\" /* IonCardHeader */], ionic_angular[\"m\" /* IonCardTitle */], ionic_angular[\"z\" /* IonItem */], ionic_angular[\"A\" /* IonLabel */], ionic_angular[\"j\" /* IonCardContent */]], pipes: [common[\"d\" /* DatePipe */]], styles: [\"h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;font-size:14px;color:#000}\"] });\n    return OperativeHistoryPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/operative-history/operative-history-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: operative_history_page_OperativeHistoryPage\n    }\n];\nlet operative_history_routing_module_OperativeHistoryPageRoutingModule = /*@__PURE__*/ (() => {\n    class OperativeHistoryPageRoutingModule {\n    }\n    OperativeHistoryPageRoutingModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: OperativeHistoryPageRoutingModule });\n    OperativeHistoryPageRoutingModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function OperativeHistoryPageRoutingModule_Factory(t) { return new (t || OperativeHistoryPageRoutingModule)(); }, imports: [[router[\"i\" /* RouterModule */].forChild(routes)], router[\"i\" /* RouterModule */]] });\n    return OperativeHistoryPageRoutingModule;\n})();\n\n// CONCATENATED MODULE: ./src/app/operative-history/operative-history.module.ts\n\n\n\n\n\nlet operative_history_module_OperativeHistoryPageModule = /*@__PURE__*/ (() => {\n    class OperativeHistoryPageModule {\n    }\n    OperativeHistoryPageModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: OperativeHistoryPageModule });\n    OperativeHistoryPageModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function OperativeHistoryPageModule_Factory(t) { return new (t || OperativeHistoryPageModule)(); }, imports: [[\n                common[\"b\" /* CommonModule */],\n                fesm2015_forms[\"d\" /* FormsModule */],\n                ionic_angular[\"N\" /* IonicModule */],\n                operative_history_routing_module_OperativeHistoryPageRoutingModule\n            ]] });\n    return OperativeHistoryPageModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}