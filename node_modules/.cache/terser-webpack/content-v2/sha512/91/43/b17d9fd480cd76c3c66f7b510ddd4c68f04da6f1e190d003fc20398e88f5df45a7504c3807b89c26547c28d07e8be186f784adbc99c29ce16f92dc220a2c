{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{fQm2:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"PhotoRecordPageModule\",function(){return photo_record_module_PhotoRecordPageModule});var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),ngx_ionic_image_viewer=__webpack_require__(\"6g0+\"),core=__webpack_require__(\"fXoL\"),esm=__webpack_require__(\"gcOT\");const{Camera:Camera,Filesystem:Filesystem,Storage:Storage}=esm.e;let photo_service_PhotoService=(()=>{class PhotoService{constructor(platform){this.photos=[],this.PHOTO_STORAGE=\"photos\",this.convertBlobToBase64=blob=>new Promise((resolve,reject)=>{const reader=new FileReader;reader.onerror=reject,reader.onload=()=>{resolve(reader.result)},reader.readAsDataURL(blob)}),this.platform=platform}loadSaved(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const photoList=yield Storage.get({key:this.PHOTO_STORAGE});if(this.photos=JSON.parse(photoList.value)||[],!this.platform.is(\"hybrid\"))for(let photo of this.photos){const readFile=yield Filesystem.readFile({path:photo.filepath,directory:esm.d.Data});photo.webviewPath=\"data:image/jpeg;base64,\"+readFile.data}})}reset(){for(let photo of this.photos)Filesystem.deleteFile({path:photo.filepath,directory:esm.d.Data});this.photos.splice(0,this.photos.length),Storage.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log(this.photos),console.log(\"done deleting all\")}removePhoto(index){console.log(\"before\"),console.log(this.photos),Filesystem.deleteFile({path:this.photos[index].filepath,directory:esm.d.Data}),console.log(\"deleted\"),console.log(this.photos[index].filepath),console.log(\"editing array\"),this.photos.splice(index,1),Storage.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log(\"after\"),console.log(this.photos)}addNewToGallery(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const capturedPhoto=yield Camera.getPhoto({resultType:esm.a.Uri,source:esm.b.Camera,quality:100}),savedImageFile=yield this.savePicture(capturedPhoto);this.photos.unshift(savedImageFile),console.log(\"New Phoo array\"),console.log(JSON.stringify(this.photos)),Storage.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)})})}savePicture(cameraPhoto){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const base64Data=yield this.readAsBase64(cameraPhoto),fileName=(new Date).getTime()+\".jpeg\",savedFile=yield Filesystem.writeFile({path:fileName,data:base64Data,directory:esm.d.Data});return this.platform.is(\"hybrid\")?{filepath:savedFile.uri,webviewPath:esm.c.convertFileSrc(savedFile.uri)}:{filepath:fileName,webviewPath:cameraPhoto.webPath}})}readAsBase64(cameraPhoto){return Object(tslib_es6.a)(this,void 0,void 0,function*(){if(this.platform.is(\"hybrid\"))return(yield Filesystem.readFile({path:cameraPhoto.path})).data;{const response=yield fetch(cameraPhoto.webPath),blob=yield response.blob();return yield this.convertBlobToBase64(blob)}})}}return PhotoService.ɵfac=function(t){return new(t||PhotoService)(core.Rb(ionic_angular.R))},PhotoService.ɵprov=core.Eb({token:PhotoService,factory:PhotoService.ɵfac,providedIn:\"root\"}),PhotoService})();var login_service=__webpack_require__(\"EFyh\");function PhotoRecordPage_ion_button_7_Template(rf,ctx){if(1&rf){const _r5=core.Ob();core.Nb(0,\"ion-button\",9),core.Vb(\"click\",function(){return core.hc(_r5),core.Xb().changeMode()}),core.mc(1,\" Edit \"),core.Mb()}}function PhotoRecordPage_ion_button_8_Template(rf,ctx){if(1&rf){const _r7=core.Ob();core.Nb(0,\"ion-button\",10),core.Vb(\"click\",function(){return core.hc(_r7),core.Xb().changeMode()}),core.mc(1,\" Done \"),core.Mb()}}function PhotoRecordPage_ion_col_12_Template(rf,ctx){if(1&rf){const _r12=core.Ob();core.Nb(0,\"ion-col\",11),core.Nb(1,\"ion-img\",12),core.Vb(\"click\",function(){core.hc(_r12);const counter_r10=ctx.index,photo_r8=ctx.$implicit,ctx_r11=core.Xb();return ctx_r11.editmode?ctx_r11.alertDeleteConfirm(counter_r10):ctx_r11.openViewer(photo_r8.webviewPath)}),core.Mb(),core.Mb()}if(2&rf){const photo_r8=ctx.$implicit;core.xb(1),core.dc(\"src\",photo_r8.webviewPath)}}function PhotoRecordPage_ion_fab_13_Template(rf,ctx){if(1&rf){const _r14=core.Ob();core.Nb(0,\"ion-fab\",13),core.Nb(1,\"ion-fab-button\",9),core.Vb(\"click\",function(){return core.hc(_r14),core.Xb().addPhotoToGallery()}),core.Jb(2,\"ion-icon\",14),core.Mb(),core.Mb()}}const routes=[{path:\"\",component:(()=>{class PhotoRecordPage{constructor(photoService,alertController,modalController,loginService){this.photoService=photoService,this.alertController=alertController,this.modalController=modalController,this.loginService=loginService,this.editmode=!1}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){yield this.photoService.loadSaved()})}changeMode(){this.editmode=!1===this.editmode,console.log(this.editmode)}addPhotoToGallery(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){yield this.photoService.addNewToGallery()})}resetGallery(){this.photoService.reset()}removePhotoFromGallery(index){console.log(index),this.photoService.removePhoto(index)}alertDeleteConfirm(index){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const alert=yield this.alertController.create({header:\"Confirm Delete\",message:\"The selected photo will be <strong>Deleted</strong>!\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:blah=>{console.log(\"Confirm Cancel: blah\")}},{text:\"Delete\",cssClass:\"alert\",handler:blah=>{this.removePhotoFromGallery(index)}}]});yield alert.present()})}alertResetConfirm(index){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const alert=yield this.alertController.create({header:\"Confirm Delete\",message:\"The Photo Record will be <strong>Resetted</strong>!\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:blah=>{console.log(\"Confirm Cancel: blah\")}},{text:\"Delete\",handler:blah=>{this.resetGallery()}}]});yield alert.present()})}openViewer(srcPath){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const modal=yield this.modalController.create({component:ngx_ionic_image_viewer.b,componentProps:{src:srcPath},cssClass:\"ion-img-viewer\",keyboardClose:!0,showBackdrop:!0});yield modal.present()})}}return PhotoRecordPage.ɵfac=function(t){return new(t||PhotoRecordPage)(core.Ib(photo_service_PhotoService),core.Ib(ionic_angular.b),core.Ib(ionic_angular.P),core.Ib(login_service.a))},PhotoRecordPage.ɵcmp=core.Cb({type:PhotoRecordPage,selectors:[[\"app-photo-record\"]],decls:14,vars:5,consts:[[3,\"translucent\"],[\"slot\",\"start\"],[\"defaultHref\",\"/medical-record\"],[\"slot\",\"end\"],[3,\"click\",4,\"ngIf\"],[\"color\",\"danger\",3,\"click\",4,\"ngIf\"],[\"overflow-scroll\",\"true\"],[\"size\",\"6\",4,\"ngFor\",\"ngForOf\"],[\"vertical\",\"bottom\",\"horizontal\",\"center\",\"slot\",\"fixed\",\"style\",\"margin-bottom: 15%;\",4,\"ngIf\"],[3,\"click\"],[\"color\",\"danger\",3,\"click\"],[\"size\",\"6\"],[3,\"src\",\"click\"],[\"vertical\",\"bottom\",\"horizontal\",\"center\",\"slot\",\"fixed\",2,\"margin-bottom\",\"15%\"],[\"name\",\"camera\"]],template:function(rf,ctx){1&rf&&(core.Nb(0,\"ion-header\",0),core.Nb(1,\"ion-toolbar\"),core.Nb(2,\"ion-buttons\",1),core.Jb(3,\"ion-back-button\",2),core.Mb(),core.Nb(4,\"ion-title\"),core.mc(5,\" Photo Record \"),core.Mb(),core.Nb(6,\"ion-buttons\",3),core.lc(7,PhotoRecordPage_ion_button_7_Template,2,0,\"ion-button\",4),core.lc(8,PhotoRecordPage_ion_button_8_Template,2,0,\"ion-button\",5),core.Mb(),core.Mb(),core.Mb(),core.Nb(9,\"ion-content\",6),core.Nb(10,\"ion-grid\"),core.Nb(11,\"ion-row\"),core.lc(12,PhotoRecordPage_ion_col_12_Template,2,1,\"ion-col\",7),core.Mb(),core.Mb(),core.lc(13,PhotoRecordPage_ion_fab_13_Template,3,0,\"ion-fab\",8),core.Mb()),2&rf&&(core.dc(\"translucent\",!0),core.xb(7),core.dc(\"ngIf\",!ctx.editmode),core.xb(1),core.dc(\"ngIf\",ctx.editmode),core.xb(4),core.dc(\"ngForOf\",ctx.photoService.photos),core.xb(1),core.dc(\"ngIf\",!ctx.editmode))},directives:[ionic_angular.v,ionic_angular.M,ionic_angular.h,ionic_angular.e,ionic_angular.f,ionic_angular.K,common.l,ionic_angular.p,ionic_angular.u,ionic_angular.E,common.k,ionic_angular.g,ionic_angular.o,ionic_angular.x,ionic_angular.r,ionic_angular.s,ionic_angular.w],styles:[\".alert[_ngcontent-%COMP%]{color:red}\"]}),PhotoRecordPage})()}];let photo_record_routing_module_PhotoRecordPageRoutingModule=(()=>{class PhotoRecordPageRoutingModule{}return PhotoRecordPageRoutingModule.ɵmod=core.Gb({type:PhotoRecordPageRoutingModule}),PhotoRecordPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||PhotoRecordPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),PhotoRecordPageRoutingModule})(),photo_record_module_PhotoRecordPageModule=(()=>{class PhotoRecordPageModule{}return PhotoRecordPageModule.ɵmod=core.Gb({type:PhotoRecordPageModule}),PhotoRecordPageModule.ɵinj=core.Fb({factory:function(t){return new(t||PhotoRecordPageModule)},imports:[[common.b,fesm2015_forms.d,ionic_angular.N,photo_record_routing_module_PhotoRecordPageRoutingModule]]}),PhotoRecordPageModule})()}}]);","name":"27-es2015.4bd397b9f99d36aa1046.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[27],{\n\n/***/ \"fQm2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"PhotoRecordPageModule\", function() { return /* binding */ photo_record_module_PhotoRecordPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 15 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-ionic-image-viewer/__ivy_ngcc__/fesm2015/ngx-ionic-image-viewer.js\nvar ngx_ionic_image_viewer = __webpack_require__(\"6g0+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 1 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@capacitor/core/dist/esm/index.js + 23 modules\nvar esm = __webpack_require__(\"gcOT\");\n\n// CONCATENATED MODULE: ./src/app/services/photo.service.ts\n\n\n\n\nconst { Camera, Filesystem, Storage } = esm[\"e\" /* Plugins */];\nlet photo_service_PhotoService = /*@__PURE__*/ (() => {\n    class PhotoService {\n        constructor(platform) {\n            //initiate array for storing photo webpath\n            this.photos = [];\n            //set the strage key for photos can be changed\n            this.PHOTO_STORAGE = \"photos\";\n            this.convertBlobToBase64 = (blob) => new Promise((resolve, reject) => {\n                const reader = new FileReader;\n                reader.onerror = reject;\n                reader.onload = () => {\n                    resolve(reader.result);\n                };\n                reader.readAsDataURL(blob);\n            });\n            this.platform = platform;\n        }\n        //loading photo\n        loadSaved() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Retrieve cached photo array data\n                const photoList = yield Storage.get({ key: this.PHOTO_STORAGE });\n                this.photos = JSON.parse(photoList.value) || [];\n                // Easiest way to detect when running on the web:\n                // “when the platform is NOT hybrid, do this”\n                if (!this.platform.is('hybrid')) {\n                    // Display the photo by reading into base64 format\n                    for (let photo of this.photos) {\n                        // Read each saved photo's data from the Filesystem\n                        const readFile = yield Filesystem.readFile({\n                            path: photo.filepath,\n                            directory: esm[\"d\" /* FilesystemDirectory */].Data\n                        });\n                        // Web platform only: Load the photo as base64 data\n                        photo.webviewPath = `data:image/jpeg;base64,${readFile.data}`;\n                    }\n                }\n            });\n        }\n        //reset\n        reset() {\n            for (let photo of this.photos) {\n                // Read each saved photo's data from the Filesystem\n                const deleteFile = Filesystem.deleteFile({\n                    path: photo.filepath,\n                    directory: esm[\"d\" /* FilesystemDirectory */].Data\n                });\n            }\n            //emptying photo array\n            this.photos.splice(0, this.photos.length);\n            Storage.set({\n                key: this.PHOTO_STORAGE,\n                value: JSON.stringify(this.photos)\n            });\n            console.log(this.photos);\n            console.log(\"done deleting all\");\n        }\n        //removing photoN\n        removePhoto(index) {\n            // remove from file system\n            console.log(\"before\");\n            console.log(this.photos);\n            Filesystem.deleteFile({\n                path: this.photos[index].filepath,\n                directory: esm[\"d\" /* FilesystemDirectory */].Data\n            });\n            console.log(\"deleted\");\n            console.log(this.photos[index].filepath);\n            console.log(\"editing array\");\n            this.photos.splice(index, 1);\n            Storage.set({\n                key: this.PHOTO_STORAGE,\n                value: JSON.stringify(this.photos)\n            });\n            console.log(\"after\");\n            console.log(this.photos);\n        }\n        //edited\n        addNewToGallery() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Take a photo\n                const capturedPhoto = yield Camera.getPhoto({\n                    resultType: esm[\"a\" /* CameraResultType */].Uri,\n                    source: esm[\"b\" /* CameraSource */].Camera,\n                    quality: 100\n                });\n                /*     //adding the path to photo array\n                    this.photos.unshift({\n                      filepath: \"soon...\",\n                      webviewPath: capturedPhoto.webPath\n                    }); */\n                // Save the picture and add it to photo collection (array pointing it to the file lo)\n                const savedImageFile = yield this.savePicture(capturedPhoto);\n                this.photos.unshift(savedImageFile);\n                console.log(\"New Phoo array\");\n                console.log(JSON.stringify(this.photos));\n                //str\n                Storage.set({\n                    key: this.PHOTO_STORAGE,\n                    value: JSON.stringify(this.photos)\n                });\n            });\n        }\n        //function to save photo\n        savePicture(cameraPhoto) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const base64Data = yield this.readAsBase64(cameraPhoto);\n                // Write the file to the data directory\n                const fileName = new Date().getTime() + '.jpeg';\n                const savedFile = yield Filesystem.writeFile({\n                    path: fileName,\n                    data: base64Data,\n                    directory: esm[\"d\" /* FilesystemDirectory */].Data\n                });\n                if (this.platform.is('hybrid')) {\n                    // Display the new image by rewriting the 'file://' path to HTTP\n                    // Details: https://ionicframework.com/docs/building/webview#file-protocol\n                    return {\n                        filepath: savedFile.uri,\n                        webviewPath: esm[\"c\" /* Capacitor */].convertFileSrc(savedFile.uri),\n                    };\n                }\n                else {\n                    // Use webPath to display the new image instead of base64 since it's\n                    // already loaded into memory\n                    return {\n                        filepath: fileName,\n                        webviewPath: cameraPhoto.webPath\n                    };\n                }\n            });\n        }\n        //reading as base 64\n        readAsBase64(cameraPhoto) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.platform.is('hybrid')) {\n                    // Read the file into base64 format\n                    const file = yield Filesystem.readFile({\n                        path: cameraPhoto.path\n                    });\n                    return file.data;\n                }\n                else {\n                    // Fetch the photo, read as a blob, then convert to base64 format\n                    const response = yield fetch(cameraPhoto.webPath);\n                    const blob = yield response.blob();\n                    return yield this.convertBlobToBase64(blob);\n                }\n            });\n        }\n    }\n    PhotoService.ɵfac = function PhotoService_Factory(t) { return new (t || PhotoService)(core[\"Rb\" /* ɵɵinject */](ionic_angular[\"R\" /* Platform */])); };\n    PhotoService.ɵprov = core[\"Eb\" /* ɵɵdefineInjectable */]({ token: PhotoService, factory: PhotoService.ɵfac, providedIn: 'root' });\n    return PhotoService;\n})();\n\n// EXTERNAL MODULE: ./src/app/services/login.service.ts\nvar login_service = __webpack_require__(\"EFyh\");\n\n// CONCATENATED MODULE: ./src/app/photo-record/photo-record.page.ts\n\n\n\n\n\n\n\nfunction PhotoRecordPage_ion_button_7_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r5 = core[\"Ob\" /* ɵɵgetCurrentView */]();\n        core[\"Nb\" /* ɵɵelementStart */](0, \"ion-button\", 9);\n        core[\"Vb\" /* ɵɵlistener */](\"click\", function PhotoRecordPage_ion_button_7_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r5); const ctx_r4 = core[\"Xb\" /* ɵɵnextContext */](); return ctx_r4.changeMode(); });\n        core[\"mc\" /* ɵɵtext */](1, \" Edit \");\n        core[\"Mb\" /* ɵɵelementEnd */]();\n    }\n}\nfunction PhotoRecordPage_ion_button_8_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r7 = core[\"Ob\" /* ɵɵgetCurrentView */]();\n        core[\"Nb\" /* ɵɵelementStart */](0, \"ion-button\", 10);\n        core[\"Vb\" /* ɵɵlistener */](\"click\", function PhotoRecordPage_ion_button_8_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"Xb\" /* ɵɵnextContext */](); return ctx_r6.changeMode(); });\n        core[\"mc\" /* ɵɵtext */](1, \" Done \");\n        core[\"Mb\" /* ɵɵelementEnd */]();\n    }\n}\nfunction PhotoRecordPage_ion_col_12_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r12 = core[\"Ob\" /* ɵɵgetCurrentView */]();\n        core[\"Nb\" /* ɵɵelementStart */](0, \"ion-col\", 11);\n        core[\"Nb\" /* ɵɵelementStart */](1, \"ion-img\", 12);\n        core[\"Vb\" /* ɵɵlistener */](\"click\", function PhotoRecordPage_ion_col_12_Template_ion_img_click_1_listener() { core[\"hc\" /* ɵɵrestoreView */](_r12); const counter_r10 = ctx.index; const photo_r8 = ctx.$implicit; const ctx_r11 = core[\"Xb\" /* ɵɵnextContext */](); return ctx_r11.editmode ? ctx_r11.alertDeleteConfirm(counter_r10) : ctx_r11.openViewer(photo_r8.webviewPath); });\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Mb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const photo_r8 = ctx.$implicit;\n        core[\"xb\" /* ɵɵadvance */](1);\n        core[\"dc\" /* ɵɵproperty */](\"src\", photo_r8.webviewPath);\n    }\n}\nfunction PhotoRecordPage_ion_fab_13_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r14 = core[\"Ob\" /* ɵɵgetCurrentView */]();\n        core[\"Nb\" /* ɵɵelementStart */](0, \"ion-fab\", 13);\n        core[\"Nb\" /* ɵɵelementStart */](1, \"ion-fab-button\", 9);\n        core[\"Vb\" /* ɵɵlistener */](\"click\", function PhotoRecordPage_ion_fab_13_Template_ion_fab_button_click_1_listener() { core[\"hc\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Xb\" /* ɵɵnextContext */](); return ctx_r13.addPhotoToGallery(); });\n        core[\"Jb\" /* ɵɵelement */](2, \"ion-icon\", 14);\n        core[\"Mb\" /* ɵɵelementEnd */]();\n        core[\"Mb\" /* ɵɵelementEnd */]();\n    }\n}\nlet photo_record_page_PhotoRecordPage = /*@__PURE__*/ (() => {\n    class PhotoRecordPage {\n        // calling photoservice alert service and modal controller at load\n        constructor(photoService, alertController, modalController, loginService) {\n            this.photoService = photoService;\n            this.alertController = alertController;\n            this.modalController = modalController;\n            this.loginService = loginService;\n            this.editmode = false;\n            //this.loginService.timeOut();\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.photoService.loadSaved();\n            });\n        }\n        //change to edit mode\n        changeMode() {\n            if (this.editmode === false) {\n                this.editmode = true;\n            }\n            else {\n                this.editmode = false;\n            }\n            console.log(this.editmode);\n        }\n        // calling photoservice through method\n        addPhotoToGallery() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.photoService.addNewToGallery();\n            });\n        }\n        resetGallery() {\n            this.photoService.reset();\n            //window.location.reload();\n        }\n        removePhotoFromGallery(index) {\n            console.log(index);\n            this.photoService.removePhoto(index);\n            //window.location.reload();\n        }\n        //warning before delete\n        alertDeleteConfirm(index) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const alert = yield this.alertController.create({\n                    header: 'Confirm Delete',\n                    message: 'The selected photo will be <strong>Deleted</strong>!',\n                    buttons: [\n                        {\n                            text: 'Cancel',\n                            role: 'cancel',\n                            cssClass: 'secondary',\n                            handler: (blah) => {\n                                console.log('Confirm Cancel: blah');\n                            }\n                        }, {\n                            text: 'Delete',\n                            cssClass: 'alert',\n                            handler: (blah) => {\n                                this.removePhotoFromGallery(index);\n                            }\n                        }\n                    ]\n                });\n                yield alert.present();\n            });\n        }\n        //warning before reset\n        alertResetConfirm(index) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const alert = yield this.alertController.create({\n                    header: 'Confirm Delete',\n                    message: 'The Photo Record will be <strong>Resetted</strong>!',\n                    buttons: [\n                        {\n                            text: 'Cancel',\n                            role: 'cancel',\n                            cssClass: 'secondary',\n                            handler: (blah) => {\n                                console.log('Confirm Cancel: blah');\n                            }\n                        }, {\n                            text: 'Delete',\n                            handler: (blah) => {\n                                this.resetGallery();\n                            }\n                        }\n                    ]\n                });\n                yield alert.present();\n            });\n        }\n        //open viewer\n        openViewer(srcPath) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const modal = yield this.modalController.create({\n                    component: ngx_ionic_image_viewer[\"b\" /* ViewerModalComponent */],\n                    componentProps: {\n                        src: srcPath\n                    },\n                    cssClass: 'ion-img-viewer',\n                    keyboardClose: true,\n                    showBackdrop: true\n                });\n                yield modal.present();\n            });\n        }\n    }\n    PhotoRecordPage.ɵfac = function PhotoRecordPage_Factory(t) { return new (t || PhotoRecordPage)(core[\"Ib\" /* ɵɵdirectiveInject */](photo_service_PhotoService), core[\"Ib\" /* ɵɵdirectiveInject */](ionic_angular[\"b\" /* AlertController */]), core[\"Ib\" /* ɵɵdirectiveInject */](ionic_angular[\"P\" /* ModalController */]), core[\"Ib\" /* ɵɵdirectiveInject */](login_service[\"a\" /* LoginService */])); };\n    PhotoRecordPage.ɵcmp = core[\"Cb\" /* ɵɵdefineComponent */]({ type: PhotoRecordPage, selectors: [[\"app-photo-record\"]], decls: 14, vars: 5, consts: [[3, \"translucent\"], [\"slot\", \"start\"], [\"defaultHref\", \"/medical-record\"], [\"slot\", \"end\"], [3, \"click\", 4, \"ngIf\"], [\"color\", \"danger\", 3, \"click\", 4, \"ngIf\"], [\"overflow-scroll\", \"true\"], [\"size\", \"6\", 4, \"ngFor\", \"ngForOf\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", \"style\", \"margin-bottom: 15%;\", 4, \"ngIf\"], [3, \"click\"], [\"color\", \"danger\", 3, \"click\"], [\"size\", \"6\"], [3, \"src\", \"click\"], [\"vertical\", \"bottom\", \"horizontal\", \"center\", \"slot\", \"fixed\", 2, \"margin-bottom\", \"15%\"], [\"name\", \"camera\"]], template: function PhotoRecordPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Nb\" /* ɵɵelementStart */](0, \"ion-header\", 0);\n                core[\"Nb\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Nb\" /* ɵɵelementStart */](2, \"ion-buttons\", 1);\n                core[\"Jb\" /* ɵɵelement */](3, \"ion-back-button\", 2);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Nb\" /* ɵɵelementStart */](4, \"ion-title\");\n                core[\"mc\" /* ɵɵtext */](5, \" Photo Record \");\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Nb\" /* ɵɵelementStart */](6, \"ion-buttons\", 3);\n                core[\"lc\" /* ɵɵtemplate */](7, PhotoRecordPage_ion_button_7_Template, 2, 0, \"ion-button\", 4);\n                core[\"lc\" /* ɵɵtemplate */](8, PhotoRecordPage_ion_button_8_Template, 2, 0, \"ion-button\", 5);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Nb\" /* ɵɵelementStart */](9, \"ion-content\", 6);\n                core[\"Nb\" /* ɵɵelementStart */](10, \"ion-grid\");\n                core[\"Nb\" /* ɵɵelementStart */](11, \"ion-row\");\n                core[\"lc\" /* ɵɵtemplate */](12, PhotoRecordPage_ion_col_12_Template, 2, 1, \"ion-col\", 7);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"Mb\" /* ɵɵelementEnd */]();\n                core[\"lc\" /* ɵɵtemplate */](13, PhotoRecordPage_ion_fab_13_Template, 3, 0, \"ion-fab\", 8);\n                core[\"Mb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"dc\" /* ɵɵproperty */](\"translucent\", true);\n                core[\"xb\" /* ɵɵadvance */](7);\n                core[\"dc\" /* ɵɵproperty */](\"ngIf\", !ctx.editmode);\n                core[\"xb\" /* ɵɵadvance */](1);\n                core[\"dc\" /* ɵɵproperty */](\"ngIf\", ctx.editmode);\n                core[\"xb\" /* ɵɵadvance */](4);\n                core[\"dc\" /* ɵɵproperty */](\"ngForOf\", ctx.photoService.photos);\n                core[\"xb\" /* ɵɵadvance */](1);\n                core[\"dc\" /* ɵɵproperty */](\"ngIf\", !ctx.editmode);\n            }\n        }, directives: [ionic_angular[\"v\" /* IonHeader */], ionic_angular[\"M\" /* IonToolbar */], ionic_angular[\"h\" /* IonButtons */], ionic_angular[\"e\" /* IonBackButton */], ionic_angular[\"f\" /* IonBackButtonDelegate */], ionic_angular[\"K\" /* IonTitle */], common[\"l\" /* NgIf */], ionic_angular[\"p\" /* IonContent */], ionic_angular[\"u\" /* IonGrid */], ionic_angular[\"E\" /* IonRow */], common[\"k\" /* NgForOf */], ionic_angular[\"g\" /* IonButton */], ionic_angular[\"o\" /* IonCol */], ionic_angular[\"x\" /* IonImg */], ionic_angular[\"r\" /* IonFab */], ionic_angular[\"s\" /* IonFabButton */], ionic_angular[\"w\" /* IonIcon */]], styles: [\".alert[_ngcontent-%COMP%]{color:red}\"] });\n    return PhotoRecordPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/photo-record/photo-record-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: photo_record_page_PhotoRecordPage\n    }\n];\nlet photo_record_routing_module_PhotoRecordPageRoutingModule = /*@__PURE__*/ (() => {\n    class PhotoRecordPageRoutingModule {\n    }\n    PhotoRecordPageRoutingModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: PhotoRecordPageRoutingModule });\n    PhotoRecordPageRoutingModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function PhotoRecordPageRoutingModule_Factory(t) { return new (t || PhotoRecordPageRoutingModule)(); }, imports: [[router[\"i\" /* RouterModule */].forChild(routes)], router[\"i\" /* RouterModule */]] });\n    return PhotoRecordPageRoutingModule;\n})();\n\n// CONCATENATED MODULE: ./src/app/photo-record/photo-record.module.ts\n\n\n\n\n\nlet photo_record_module_PhotoRecordPageModule = /*@__PURE__*/ (() => {\n    class PhotoRecordPageModule {\n    }\n    PhotoRecordPageModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: PhotoRecordPageModule });\n    PhotoRecordPageModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ factory: function PhotoRecordPageModule_Factory(t) { return new (t || PhotoRecordPageModule)(); }, imports: [[\n                common[\"b\" /* CommonModule */],\n                fesm2015_forms[\"d\" /* FormsModule */],\n                ionic_angular[\"N\" /* IonicModule */],\n                photo_record_routing_module_PhotoRecordPageRoutingModule,\n            ]] });\n    return PhotoRecordPageModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}