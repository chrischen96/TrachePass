(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{tiJM:function(t,e,i){"use strict";i.r(e),i.d(e,"OperativeHistoryPageModule",function(){return f});var o=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),n=i("tyNb"),c=i("mrSG"),a=i("8x4H"),l=i("TR9v"),b=i("fXoL"),h=i("DPk/"),d=i("6/gD");function p(t,e){1&t&&(b.Lb(0,"ion-card"),b.Lb(1,"ion-card-header"),b.Lb(2,"ion-card-title"),b.kc(3,"No History"),b.Kb(),b.Kb(),b.Kb())}function u(t,e){if(1&t){const t=b.Mb();b.Lb(0,"ion-card",3),b.Tb("click",function(){b.fc(t);const i=e.index;return b.Vb().choose(i)}),b.Lb(1,"ion-item",6),b.Lb(2,"ion-label",7),b.kc(3),b.Wb(4,"date"),b.Kb(),b.Kb(),b.Lb(5,"ion-item",8),b.Lb(6,"ion-label",9),b.Lb(7,"h3"),b.kc(8),b.Kb(),b.Kb(),b.Kb(),b.Lb(9,"ion-card-content"),b.kc(10),b.Kb(),b.Kb()}if(2&t){const t=e.$implicit;b.xb(3),b.mc(" ",b.Yb(4,3,t.date,"d MMM y")," "),b.xb(5),b.mc("",t.type," Details"),b.xb(2),b.mc(" ",t.details," ")}}const v=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.modalCtrl=t,this.userDataService=e,this.actionSheetController=i,this.photoService=o,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[],this.photos=[]}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,console.log(this.operativeHistoryString),""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),console.log(this.operativeHistoryJSON),Object.keys(this.operativeHistoryJSON).forEach(t=>{this.histories.push(this.operativeHistoryJSON[t]),console.log(this.histories)}))})}edit(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:a.a,backdropDismiss:!1,componentProps:{isModal:!0}})).present()})}viewPhoto(t){return Object(c.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:l.a,backdropDismiss:!1,componentProps:{index:t}})).present()})}choose(t){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.actionSheetController.create({header:"Options",buttons:[{text:"View and Edit",handler:()=>{this.viewPhoto(t)}},{text:"Delete",role:"destructive",handler:()=>{console.log("Delete clicked"),console.log(t),this.histories.splice(t,1),console.log(this.histories),this.operativeHistoryJSON={};for(let t=0;t<this.histories.length;t++)console.log(t.toString()),this.operativeHistoryJSON[t]=this.histories[t];const e=Object.keys(this.operativeHistoryJSON)[Object.keys(this.operativeHistoryJSON).length-1];delete this.operativeHistoryJSON[e],console.log(this.histories),console.log(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(this.operativeHistoryJSON),this.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});yield e.present()})}}return t.\u0275fac=function(e){return new(e||t)(b.Ib(s.P),b.Ib(h.a),b.Ib(s.a),b.Ib(d.a))},t.\u0275cmp=b.Cb({type:t,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(t,e){1&t&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",0),b.Jb(3,"ion-back-button",1),b.Kb(),b.Lb(4,"ion-title"),b.kc(5,"Operative History"),b.Kb(),b.Lb(6,"ion-buttons",2),b.Lb(7,"ion-button",3),b.Tb("click",function(){return e.edit()}),b.kc(8,"Add"),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Lb(9,"ion-content"),b.jc(10,p,4,0,"ion-card",4),b.jc(11,u,11,6,"ion-card",5),b.Kb()),2&t&&(b.xb(10),b.bc("ngIf",0==e.histories.length),b.xb(1),b.bc("ngForOf",e.histories))},directives:[s.v,s.M,s.h,s.e,s.f,s.K,s.g,s.p,o.l,o.k,s.i,s.k,s.m,s.z,s.A,s.j],pipes:[o.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;color:#000}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(v)],n.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[o.b,r.d,s.N,y]]}),t})()}}]);