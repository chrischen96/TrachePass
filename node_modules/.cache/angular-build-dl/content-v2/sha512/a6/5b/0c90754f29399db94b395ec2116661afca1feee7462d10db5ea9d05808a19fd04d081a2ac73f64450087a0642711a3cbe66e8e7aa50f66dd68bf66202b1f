(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7wo0":function(e,t,o){"use strict";o.r(t),o.d(t,"SettingsPageModule",function(){return C});var n=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),s=o("mrSG"),a=o("gcOT"),l=o("fXoL"),d=o("WdVq"),b=o("DPk/"),u=o("EFyh");function g(e,t){if(1&e){const e=l.Ob();l.Nb(0,"div",13),l.Nb(1,"ion-button",14),l.Vb("click",function(){return l.hc(e),l.Xb().resetStorage()}),l.Jb(2,"ion-icon",15),l.Nb(3,"ion-text",4),l.mc(4,"Reset Storage"),l.Mb(),l.Mb(),l.Mb()}}function h(e,t){1&e&&(l.Nb(0,"div",16),l.Nb(1,"ion-text"),l.mc(2,"Storage has been reseted."),l.Mb(),l.Mb())}const{Storage:f}=a.e,m=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this.alertController=e,this.barcodeScanner=t,this.userDataService=o,this.LoginService=n,this.isResetStorage=!1,this.barcodeScannerOptions={showTorchButton:!0,showFlipCameraButton:!0}}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){yield this.userDataService.loadUserProfile(),console.log("started app")})}alertScanCode(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm Update!",message:"The record in the App will be replaced by the values scanned from QR Code",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:e=>{this.scanCode()}}]});yield e.present()})}scanCode(){return Object(s.a)(this,void 0,void 0,function*(){yield this.barcodeScanner.scan().then(e=>{console.log(e),this.scannedData=JSON.parse(e.text),console.log("Scanning User Data"),console.log(this.scannedData.userProfile),console.log(typeof this.scannedData.userProfile),console.log("Scanning Medical Data"),console.log(this.scannedData.medicalRecord),console.log(typeof this.scannedData.medicalRecord),console.log("ending Data"),f.set({key:this.userDataService.userProfileKey,value:this.scannedData.userProfile}),f.set({key:this.userDataService.medicalRecordKey,value:this.scannedData.medicalRecord})}).catch(e=>{console.log("Error",e)})})}encodData(){return Object(s.a)(this,void 0,void 0,function*(){this.userDataService.convertToString(),yield this.barcodeScanner.encode(this.barcodeScanner.Encode.TEXT_TYPE,this.userDataService.userProfileString).then(e=>{console.log(e),this.encodeData=e},e=>{console.log("Error occured : "+e)})})}resetStorage(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Reset Storage",message:"All data will be deleted.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: cancel")}},{text:"Delete",handler:e=>{f.clear(),this.isResetStorage=!0}}]});yield e.present(),console.log("Storage Cleared")})}}return e.\u0275fac=function(t){return new(t||e)(l.Ib(r.b),l.Ib(d.a),l.Ib(b.a),l.Ib(u.a))},e.\u0275cmp=l.Cb({type:e,selectors:[["app-settings"]],decls:26,vars:2,consts:[["slot","start"],["defaultHref","home"],["color","secondary","expand","block",2,"margin-bottom","5%",3,"click"],["slot","start","name","qr-code-outline"],["slot","end"],["color","secondary","expand","block","routerLink","qr-code-gen",2,"margin-bottom","5%"],["slot","start","name","share-outline"],["color","warning","expand","block","routerLink","version-history",2,"margin-bottom","5%"],["slot","start","name","reload-outline"],["color","danger","expand","block","routerLink","change-pw",2,"margin-bottom","5%"],["slot","start","name","lock-closed-outline"],["id","reset",4,"ngIf"],["id","isReset",4,"ngIf"],["id","reset"],["color","medium","expand","block",3,"click"],["slot","start","name","trash-outline"],["id","isReset"]],template:function(e,t){1&e&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar"),l.Nb(2,"ion-buttons",0),l.Jb(3,"ion-back-button",1),l.Mb(),l.Nb(4,"ion-title"),l.mc(5,"Settings"),l.Mb(),l.Mb(),l.Mb(),l.Nb(6,"ion-content"),l.Nb(7,"div"),l.Nb(8,"ion-button",2),l.Vb("click",function(){return t.alertScanCode()}),l.Jb(9,"ion-icon",3),l.Nb(10,"ion-text",4),l.mc(11,"Import from QR Code"),l.Mb(),l.Mb(),l.Nb(12,"ion-button",5),l.Jb(13,"ion-icon",6),l.Nb(14,"ion-text",4),l.mc(15,"Export To QR Code"),l.Mb(),l.Mb(),l.Nb(16,"ion-button",7),l.Jb(17,"ion-icon",8),l.Nb(18,"ion-text",4),l.mc(19,"Version History"),l.Mb(),l.Mb(),l.Nb(20,"ion-button",9),l.Jb(21,"ion-icon",10),l.Nb(22,"ion-text",4),l.mc(23,"Change Password"),l.Mb(),l.Mb(),l.Mb(),l.lc(24,g,5,0,"div",11),l.lc(25,h,3,0,"div",12),l.Mb()),2&e&&(l.xb(24),l.dc("ngIf",!t.isResetStorage),l.xb(1),l.dc("ngIf",t.isResetStorage))},directives:[r.v,r.M,r.h,r.e,r.f,r.K,r.p,r.g,r.w,r.I,r.S,c.h,n.l],styles:["div[_ngcontent-%COMP%]{width:80%;margin:10% auto auto}ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;left:10%}ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{position:absolute;left:30%}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:8%}#isReset[_ngcontent-%COMP%], #reset[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:10%}#isReset[_ngcontent-%COMP%]{width:80%;text-align:center}#isReset[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:large}#isReset[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:red}"]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(m)],c.i]}),e})(),C=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[n.b,i.d,r.N,p]]}),e})()}}]);