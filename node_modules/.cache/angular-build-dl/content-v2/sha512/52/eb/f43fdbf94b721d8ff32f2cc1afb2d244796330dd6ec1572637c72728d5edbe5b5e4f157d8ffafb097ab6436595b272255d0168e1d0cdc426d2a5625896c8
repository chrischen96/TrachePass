{"version":3,"sources":["webpack:///src/app/operative-history/operative-history.page.ts","webpack:///src/app/operative-history/operative-history-routing.module.ts","webpack:///src/app/operative-history/operative-history.page.scss","webpack:///src/app/operative-history/operative-history.module.ts","webpack:///src/app/operative-history/operative-history.page.html"],"names":["OperativeHistoryPage","modalCtrl","userDataService","actionSheetController","photoService","operativeHistoryJSON","operativeHistoryString","histories","photos","loadMedicalRecord","medicalRecordValue","console","log","JSON","parse","Object","keys","forEach","key","push","create","component","backdropDismiss","componentProps","isModal","modal","present","x","index","header","buttons","text","handler","viewPhoto","role","splice","i","length","toString","lastKey","stringify","saveMedicalRecord","actionSheet","selector","template","routes","path","OperativeHistoryPageRoutingModule","imports","forChild","exports","OperativeHistoryPageModule","declarations"],"mappings":"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","file":"operative-history-operative-history-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { EditOperativeHistoryPage } from '../edit-operative-history/edit-operative-history.page';\nimport { UserDataService } from '../services/user-data.service'\nimport { ActionSheetController } from '@ionic/angular';\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\nimport { PhotoService } from '../services/photo.service';\nimport { ViewOperativeHistoryPage } from '../view-operative-history/view-operative-history.page'\n\n@Component({\n  selector: 'app-operative-history',\n  templateUrl: './operative-history.page.html',\n  styleUrls: ['./operative-history.page.scss'],\n})\nexport class OperativeHistoryPage implements OnInit {\n  public operativeHistoryJSON = {};\n  public operativeHistoryString = '';\n  public histories = [];\n  public photos = [];\n\n  constructor(\n    private modalCtrl:ModalController,\n    public userDataService: UserDataService,\n    public actionSheetController: ActionSheetController,\n    public photoService: PhotoService,\n  ) { }\n\n  async ngOnInit() {\n    await this.userDataService.loadMedicalRecord();\n    this.operativeHistoryString = this.userDataService.medicalRecordValue['operativeHistory'];\n    console.log(this.operativeHistoryString);\n    if(this.operativeHistoryString!='' && this.operativeHistoryString!=null) {\n      this.operativeHistoryJSON = JSON.parse(this.operativeHistoryString);\n      console.log(this.operativeHistoryJSON);\n      Object.keys(this.operativeHistoryJSON).forEach(key => {\n        this.histories.push(this.operativeHistoryJSON[key]);\n        console.log(this.histories);\n      });\n    }\n  }\n\n  async edit(){\n    const modal = await this.modalCtrl.create({\n      component: EditOperativeHistoryPage,\n      backdropDismiss: false,\n      componentProps: {\n        isModal: true\n      },\n    });\n    modal.present();\n  }\n\n  async viewPhoto(x: number){\n    const modal = await this.modalCtrl.create({\n      component: ViewOperativeHistoryPage,\n      backdropDismiss: false,\n      componentProps: {\n        index : x,\n      },\n    });\n    modal.present();\n  }\n\n  async choose(x: number) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Options',\n      buttons: [{ \n        text: 'View and Edit', \n        handler: () => {\n          this.viewPhoto(x);\n        }\n      }, { \n        text: 'Delete', \n        role: 'destructive' ,\n        handler: () => {\n          console.log('Delete clicked')\n          console.log(x);\n          this.histories.splice(x,1);\n          console.log(this.histories);\n          this.operativeHistoryJSON = {};\n          for(let i=0; i<this.histories.length; i++){\n            console.log(i.toString());\n            this.operativeHistoryJSON[i]=this.histories[i];\n          }\n          const lastKey=Object.keys(this.operativeHistoryJSON)[Object.keys(this.operativeHistoryJSON).length-1];\n          delete this.operativeHistoryJSON[lastKey];\n          console.log(this.histories);\n          console.log(this.operativeHistoryJSON);\n          this.userDataService.medicalRecordValue['operativeHistory']=JSON.stringify(this.operativeHistoryJSON);\n          this.userDataService.saveMedicalRecord();\n        }\n      },{ \n        text: 'Cancel', role: 'cancel' ,\n      }]\n    });\n    await actionSheet.present();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OperativeHistoryPage } from './operative-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OperativeHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OperativeHistoryPageRoutingModule {}\n","export default \"h3:first-child {\\n  font-weight: bold;\\n  color: #797979;\\n  margin-bottom: 5px;\\n}\\n\\nion-card-content {\\n  padding-top: 0;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL29wZXJhdGl2ZS1oaXN0b3J5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtBQUNKIiwiZmlsZSI6Im9wZXJhdGl2ZS1oaXN0b3J5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImgzOmZpcnN0LWNoaWxke1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiByZ2IoMTIxLCAxMjEsIDEyMSk7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG5pb24tY2FyZC1jb250ZW50e1xuICAgIHBhZGRpbmctdG9wOiAwO1xuICAgIGNvbG9yOiBibGFjaztcbn1cblxuIl19 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OperativeHistoryPageRoutingModule } from './operative-history-routing.module';\n\nimport { OperativeHistoryPage } from './operative-history.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OperativeHistoryPageRoutingModule\n  ],\n  declarations: [OperativeHistoryPage]\n})\nexport class OperativeHistoryPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/medical-record\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Operative History</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"edit()\\\">Add</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card *ngIf=\\\"histories.length == 0\\\">\\n    <ion-card-header>\\n      <ion-card-title>No History</ion-card-title>\\n    </ion-card-header>\\n  </ion-card>\\n\\n  <ion-card *ngFor=\\\"let history of histories; let i = index\\\" (click)=choose(i)>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label style=\\\"font-weight: bold; color: mediumseagreen\\\">\\n        {{history.date | date : 'd MMM y'}}\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-label style=\\\"margin-bottom: 0%;\\\">\\n        <h3>{{history.type}} Details</h3>\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-card-content>\\n      {{history.details}}\\n    </ion-card-content>\\n\\n  </ion-card>\\n</ion-content>\\n\";"]}