!function(){function e(e,t,n,i,o,r,a){try{var s=e[r](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,o)}function t(t){return function(){var n=this,i=arguments;return new Promise(function(o,r){var a=t.apply(n,i);function s(t){e(a,o,r,s,c,"next",t)}function c(t){e(a,o,r,s,c,"throw",t)}s(void 0)})}}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("A36C"),o=n("iWo5"),r=n("qULd"),a=function(e,t){var n,a,s=function(e,i,o){if("undefined"!=typeof document){var r=document.elementFromPoint(e,i);r&&t(r)?r!==n&&(l(),c(r,o)):l()}},c=function(e,t){n=e,a||(a=n);var o=n;Object(i.f)(function(){return o.classList.add("ion-activated")}),t()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var t=n;Object(i.f)(function(){return t.classList.remove("ion-activated")}),e&&a!==n&&n.click(),n=void 0}};return Object(o.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:function(e){return s(e.currentX,e.currentY,r.a)},onMove:function(e){return s(e.currentX,e.currentY,r.b)},onEnd:function(){l(!0),Object(r.e)(),a=void 0}})}},"6/gD":function(e,t,i){"use strict";i.d(t,"a",function(){return p});var r=i("mrSG"),s=i("gcOT"),c=i("fXoL"),l=i("TEn/"),u=s.f,b=u.Camera,h=u.Filesystem,f=u.Storage,p=function(){var e=function(){function e(t){o(this,e),this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=function(e){return new Promise(function(t,n){var i=new FileReader;i.onerror=n,i.onload=function(){t(i.result)},i.readAsDataURL(e)})},this.platform=t}return a(e,[{key:"loadSaved",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,o,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.platform.is("hybrid")){t.next=20;break}i=n(e),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=12;break}return r=o.value,t.next=8,h.readFile({path:r.filepath,directory:s.e.Data});case 8:a=t.sent,r.webviewPath="data:image/jpeg;base64,"+a.data;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[2,14,17,20]])}))}},{key:"reset",value:function(){var e,t=n(this.photos);try{for(t.s();!(e=t.n()).done;){var i=e.value;h.deleteFile({path:i.filepath,directory:s.e.Data})}}catch(o){t.e(o)}finally{t.f()}this.photos.splice(0,this.photos.length),f.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log(this.photos),console.log("done deleting all")}},{key:"removePhoto",value:function(e){console.log("before"),console.log(this.photos),h.deleteFile({path:this.photos[e].filepath,directory:s.e.Data}),console.log("deleted"),console.log(this.photos[e].filepath),console.log("editing array"),this.photos.splice(e,1),f.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log("after"),console.log(this.photos)}},{key:"addNewToGallery",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getPhoto({resultType:s.b.Uri,source:s.c.Camera,direction:s.a.Rear,quality:70});case 2:return n=t.sent,t.next=5,this.savePicture(n);case 5:return i=t.sent,t.abrupt("return",(e.unshift(i),console.log("New Phoo array"),console.log(JSON.stringify(e)),JSON.stringify(e)));case 7:case"end":return t.stop()}},t,this)}))}},{key:"savePicture",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readAsBase64(e);case 2:return n=t.sent,i=(new Date).toISOString().slice(0,19)+".jpeg",t.next=6,h.writeFile({path:i,data:n,directory:s.e.Data});case 6:return o=t.sent,t.abrupt("return",this.platform.is("hybrid")?{filepath:o.uri,webviewPath:s.d.convertFileSrc(o.uri)}:{filepath:i,webviewPath:e.webPath});case 8:case"end":return t.stop()}},t,this)}))}},{key:"readAsBase64",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.platform.is("hybrid")){t.next=4;break}return t.next=3,h.readFile({path:e.path});case 3:return t.abrupt("return",t.sent.data);case 4:return t.next=6,fetch(e.webPath);case 6:return n=t.sent,t.next=9,n.blob();case 9:return i=t.sent,t.next=12,this.convertBlobToBase64(i);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Ob(l.N))},e.\u0275prov=c.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"74mu":function(e,n,i){"use strict";i.d(n,"a",function(){return r}),i.d(n,"b",function(){return a}),i.d(n,"c",function(){return o}),i.d(n,"d",function(){return c});var o=function(e,t){return null!==t.closest(e)},r=function(e,t){return"string"==typeof e&&e.length>0?Object.assign((o=!0,(i="ion-color-"+e)in(n={"ion-color":!0})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n),t):t;var n,i,o},a=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(function(e){return null!=e}).map(function(e){return e.trim()}).filter(function(e){return""!==e}):[]}(e).forEach(function(e){return t[e]=!0}),t},s=/^[a-z][a-z0-9+\-.]*:/,c=function(){var e=t(regeneratorRuntime.mark(function e(t,n,i,o){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||s.test(t)){e.next=4;break}if(!(r=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=n&&n.preventDefault(),r.push(t,i,o)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e)}));return function(t,n,i,o){return e.apply(this,arguments)}}()},"8x4H":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("mrSG"),r=n("3Pt+"),s=n("6g0+"),c=n("fXoL"),l=n("TEn/"),u=n("DPk/"),b=n("6/gD"),h=n("ofXK");function f(e,t){if(1&e){var n=c.Lb();c.Kb(0,"ion-col",13),c.Kb(1,"ion-img",14),c.Sb("click",function(){c.ec(n);var e=t.$implicit;return c.Ub().openViewer(e.webviewPath)}),c.Jb(),c.Jb()}if(2&e){var i=t.$implicit;c.xb(1),c.ac("src",i.webviewPath)}}var p=function(){var e=function(){function e(t,n,i,a){o(this,e),this.modalCtrl=t,this.fb=n,this.userDataService=i,this.photoService=a,this.history={},this.tuple=[],this.operativeHistoryString="",this.operativeHistoryJSON={},this.photos=[],this.histories=[],this.form=this.fb.group({date:["",r.j.required],type:["",r.j.required],details:["",r.j.required]}),this.history.photos=""}return a(e,[{key:"ngOnInit",value:function(){this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString))}},{key:"addPhotoToGallery",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.photoService.addNewToGallery(this.photos);case 2:this.history.photos=e.sent,this.photos=JSON.parse(this.history.photos);case 4:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"save",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,o,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(Object.keys(this.form.controls).forEach(function(e){r.history[e]=r.form.value[e],console.log(e,r.history[e])}),this.histories.push(this.history),Object.keys(this.operativeHistoryJSON).forEach(function(e){r.histories.push(r.operativeHistoryJSON[e]),console.log(r.histories)}),t=0;t<this.histories.length;t++)for(n=t+1;n<this.histories.length;n++)this.histories[t].date<this.histories[n].date&&(i=this.histories[t],this.histories[t]=this.histories[n],this.histories[n]=i);for(o=0;o<this.histories.length;o++)this.operativeHistoryJSON[o]=this.histories[o];this.operativeHistoryString=JSON.stringify(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=this.operativeHistoryString,console.log(this.userDataService.medicalRecordValue.operativeHistory),this.userDataService.saveMedicalRecord(),location.reload();case 4:case"end":return e.stop()}},e,this)}))}},{key:"openViewer",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:s.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.M),c.Hb(r.a),c.Hb(u.a),c.Hb(b.a))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-edit-operative-history"]],decls:34,vars:2,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","date",2,"color","dodgerblue"],["formControlName","type","placeholder","Operation Type",2,"color","dodgerblue","text-align","end"],["position","stacked"],["rows","5","placeholder","Enter Details","formControlName","details"],["lines","full",3,"click"],["name","add-circle-outline",2,"color","dodgerblue"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"src","click"]],template:function(e,t){1&e&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Kb(3,"ion-button",1),c.Sb("click",function(){return t.dismiss()}),c.jc(4,"Cancel"),c.Jb(),c.Jb(),c.Kb(5,"ion-title"),c.jc(6,"Add New Record"),c.Jb(),c.Kb(7,"ion-buttons",2),c.Kb(8,"ion-button",3),c.Sb("click",function(){return t.save()}),c.jc(9,"Save"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(10,"ion-content"),c.Kb(11,"form",4),c.Kb(12,"ion-list"),c.Kb(13,"ion-list-header",5),c.Kb(14,"ion-label"),c.jc(15," Operative History "),c.Jb(),c.Jb(),c.Kb(16,"ion-item"),c.Kb(17,"ion-label"),c.jc(18,"Date"),c.Jb(),c.Ib(19,"ion-datetime",6),c.Jb(),c.Kb(20,"ion-item"),c.Kb(21,"ion-label"),c.jc(22,"Type"),c.Jb(),c.Ib(23,"ion-input",7),c.Jb(),c.Kb(24,"ion-item",5),c.Kb(25,"ion-label",8),c.jc(26,"Details"),c.Jb(),c.Ib(27,"ion-textarea",9),c.Jb(),c.Jb(),c.Jb(),c.Kb(28,"ion-item",10),c.Sb("click",function(){return t.addPhotoToGallery()}),c.Ib(29,"ion-icon",11),c.jc(30," Add pictures "),c.Jb(),c.Kb(31,"ion-grid"),c.Kb(32,"ion-row"),c.ic(33,f,2,1,"ion-col",12),c.Jb(),c.Jb(),c.Jb()),2&e&&(c.xb(11),c.ac("formGroup",t.form),c.xb(22),c.ac("ngForOf",t.photos))},directives:[l.s,l.J,l.h,l.g,l.H,l.o,r.k,r.h,r.c,l.y,l.z,l.x,l.w,l.p,l.P,r.g,r.b,l.v,l.Q,l.G,l.t,l.r,l.B,h.k,l.n,l.u],styles:[""]}),e}()},"DPk/":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("mrSG"),r=n("gcOT"),s=n("fXoL"),c=r.f.Storage,l=function(){var e=function(){function e(){o(this,e),this.userProfileValue={},this.userProfileKey="userProfile",this.userProfileString="",this.medicalRecordValue={},this.medicalRecordKey="medicalRecord",this.medicalRecordString="",this.versionHistoryValue=[],this.versionHistoryKey="versionHistory",this.exporter={},this.exporterString=""}return a(e,[{key:"exportData",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.userProfileString=JSON.stringify(this.userProfileValue),this.medicalRecordString=JSON.stringify(this.medicalRecordValue),this.exporter={userProfile:this.userProfileString,medicalRecord:this.medicalRecordString},this.exporterString=JSON.stringify(this.exporter);case 1:case"end":return e.stop()}},e,this)}))}},{key:"loadUserProfile",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get({key:this.userProfileKey});case 2:return t=e.sent,this.userProfileValue=JSON.parse(t.value)||{},console.log("finished loading"),e.next=6,c.get({key:this.versionHistoryKey});case 6:n=e.sent,this.versionHistoryValue=JSON.parse(n.value)||[];case 8:case"end":return e.stop()}},e,this)}))}},{key:"saveUserProfile",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get({key:this.userProfileKey});case 2:t=e.sent,n=JSON.parse(t.value)||{},console.log(n),i={time:(new Date).toISOString().slice(0,16),type:"User Profile",value:n},this.saveVersion(i),c.set({key:this.userProfileKey,value:JSON.stringify(this.userProfileValue)});case 7:case"end":return e.stop()}},e,this)}))}},{key:"loadMedicalRecord",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get({key:this.medicalRecordKey});case 2:return t=e.sent,this.medicalRecordValue=JSON.parse(t.value)||{},console.log("finished loading"),e.next=6,c.get({key:this.versionHistoryKey});case 6:n=e.sent,this.versionHistoryValue=JSON.parse(n.value)||[];case 8:case"end":return e.stop()}},e,this)}))}},{key:"saveMedicalRecord",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get({key:this.medicalRecordKey});case 2:t=e.sent,n=JSON.parse(t.value)||{},i={time:(new Date).toISOString().slice(0,16),type:"Medical Record",value:n},this.saveVersion(i),c.set({key:this.medicalRecordKey,value:JSON.stringify(this.medicalRecordValue)});case 6:case"end":return e.stop()}},e,this)}))}},{key:"saveVersion",value:function(e){this.versionHistoryValue.unshift(e),console.log(this.versionHistoryValue),console.log(this.versionHistoryValue.length),this.versionHistoryValue.length>10&&(console.log("too long"),this.versionHistoryValue=this.versionHistoryValue.slice(0,10),console.log(this.versionHistoryValue)),c.set({key:this.versionHistoryKey,value:JSON.stringify(this.versionHistoryValue)})}},{key:"convertToString",value:function(){this.userProfileString=JSON.stringify(this.userProfileValue)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},EDQ8:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("mrSG"),r=n("3Pt+"),s=n("1Bn7"),c=n("fXoL"),l=n("DPk/"),u=n("tyNb"),b=n("TEn/"),h=function(){var e=function(){function e(t,n,i,a){o(this,e),this.userDataService=t,this.fb=n,this.router=i,this.modalCtrl=a,this.relationOptions=[["Mother","Father","Grandparent","Care Worker","Other"]],this.sexOptions=[["Male","Female","Other"]],this.form=this.fb.group({name:["",r.j.required],birthDate:["",r.j.required],sex:["",r.j.required],nhsNumber:["",r.j.required],hospitalNumber:["",r.j.required],relation1:["",r.j.required],r1Name:["",r.j.required],relation2:["",r.j.required],r2Name:["",r.j.required],consultant:["",r.j.required],trust:["",r.j.required],emergencyContact:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadUserProfile();case 2:Object.keys(this.form.controls).forEach(function(e){t.form.get(e).setValue(t.userDataService.userProfileValue[e]),console.log(e,t.form.get(e).value)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"save",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.userDataService.userProfileValue[t]=e.form.value[t],console.log(t,e.form.get(t).value)}),this.userDataService.saveUserProfile(),this.modalCtrl.dismiss(),location.reload()}},{key:"openPicker1",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.relationOptions;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.p.create({columns:this.getColumns(e,t,n),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:function(e){console.log(e),r.form.controls.relation1.setValue(e["col-0"].text)}}]});case 2:return o=i.sent,i.next=5,o.present();case 5:case"end":return i.stop()}},i,this)}))}},{key:"openPicker2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.relationOptions;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.p.create({columns:this.getColumns(e,t,n),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:function(e){console.log(e),r.form.controls.relation2.setValue(e["col-0"].text)}}]});case 2:return o=i.sent,i.next=5,o.present();case 5:case"end":return i.stop()}},i,this)}))}},{key:"openPickerSex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sexOptions;return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,s.p.create({columns:this.getColumns(e,t,n),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:function(e){console.log(e),r.form.controls.sex.setValue(e["col-0"].text)}}]});case 2:return o=i.sent,i.next=5,o.present();case 5:case"end":return i.stop()}},i,this)}))}},{key:"getColumns",value:function(e,t,n){for(var i=[],o=0;o<e;o++)i.push({name:"col-"+o,options:this.getColumnOptions(o,t,n)});return i}},{key:"getColumnOptions",value:function(e,t,n){for(var i=[],o=0;o<t;o++)i.push({text:n[e][o%t],value:o});return i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.a),c.Hb(r.a),c.Hb(u.g),c.Hb(b.M))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-edit-patient-info"]],decls:69,vars:1,consts:[["slot","start"],["color","danger",3,"click"],[2,"padding","0px 80px"],["slot","end"],[3,"click"],[1,"profile"],[1,"icon"],["name","person-outline",1,"icon"],[3,"formGroup"],[1,"ion-no-margin"],["lines","full"],["placeholder","Not Set","formControlName","name"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","birthDate",2,"color","dodgerblue"],["placeholder","Not Set","formControlName","sex",3,"click"],["placeholder","Not Set","formControlName","nhsNumber"],["placeholder","Not Set","formControlName","hospitalNumber"],["placeholder","Relationship","formControlName","relation1",3,"click"],["name","chevron-forward-outline",1,"arrow"],["placeholder","Not Set","formControlName","r1Name"],["placeholder","Relationship","formControlName","relation2",3,"click"],["placeholder","Not Set","formControlName","r2Name"],["placeholder","Not Set","formControlName","consultant"],["placeholder","Not Set","formControlName","trust"],["placeholder","Not Set","formControlName","emergencyContact"],[2,"height","35px"]],template:function(e,t){1&e&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Kb(3,"ion-button",1),c.Sb("click",function(){return t.dismiss()}),c.jc(4,"Cancel"),c.Jb(),c.Jb(),c.Kb(5,"ion-title",2),c.jc(6,"Patient Information"),c.Jb(),c.Kb(7,"ion-buttons",3),c.Kb(8,"ion-button",4),c.Sb("click",function(){return t.save()}),c.jc(9,"Done"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(10,"ion-content"),c.Kb(11,"div",5),c.Kb(12,"div",6),c.Ib(13,"ion-icon",7),c.Jb(),c.Jb(),c.Kb(14,"div"),c.Kb(15,"form",8),c.Kb(16,"ion-list",9),c.Kb(17,"ion-list-header",10),c.Kb(18,"ion-label"),c.jc(19," Patient Details "),c.Jb(),c.Jb(),c.Kb(20,"ion-item"),c.Kb(21,"ion-label"),c.jc(22,"Name"),c.Jb(),c.Ib(23,"ion-input",11),c.Jb(),c.Kb(24,"ion-item"),c.Kb(25,"ion-label"),c.jc(26,"Date of Birth"),c.Jb(),c.Ib(27,"ion-datetime",12),c.Jb(),c.Kb(28,"ion-item"),c.Kb(29,"ion-label"),c.jc(30,"Sex"),c.Jb(),c.Kb(31,"ion-input",13),c.Sb("click",function(){return t.openPickerSex()}),c.Jb(),c.Jb(),c.Kb(32,"ion-item"),c.Kb(33,"ion-label"),c.jc(34,"NHS Number"),c.Jb(),c.Ib(35,"ion-input",14),c.Jb(),c.Kb(36,"ion-item"),c.Kb(37,"ion-label"),c.jc(38,"Hospital Number"),c.Jb(),c.Ib(39,"ion-input",15),c.Jb(),c.Jb(),c.Kb(40,"ion-list",9),c.Kb(41,"ion-list-header",10),c.Kb(42,"ion-label"),c.jc(43," Caregiver "),c.Jb(),c.Jb(),c.Kb(44,"ion-item"),c.Kb(45,"ion-input",16),c.Sb("click",function(){return t.openPicker1()}),c.Jb(),c.Ib(46,"ion-icon",17),c.Ib(47,"ion-input",18),c.Jb(),c.Kb(48,"ion-item"),c.Kb(49,"ion-input",19),c.Sb("click",function(){return t.openPicker2()}),c.Jb(),c.Ib(50,"ion-icon",17),c.Ib(51,"ion-input",20),c.Jb(),c.Jb(),c.Kb(52,"ion-list",9),c.Kb(53,"ion-list-header",10),c.Kb(54,"ion-label"),c.jc(55," Hospital Details "),c.Jb(),c.Jb(),c.Kb(56,"ion-item"),c.Kb(57,"ion-label"),c.jc(58,"Consultant"),c.Jb(),c.Ib(59,"ion-input",21),c.Jb(),c.Kb(60,"ion-item"),c.Kb(61,"ion-label"),c.jc(62,"Trust"),c.Jb(),c.Ib(63,"ion-input",22),c.Jb(),c.Kb(64,"ion-item"),c.Kb(65,"ion-label"),c.jc(66,"Emergency Contact"),c.Jb(),c.Ib(67,"ion-input",23),c.Jb(),c.Jb(),c.Jb(),c.Ib(68,"div",24),c.Jb(),c.Jb()),2&e&&(c.xb(15),c.ac("formGroup",t.form))},directives:[b.s,b.J,b.h,b.g,b.H,b.o,b.t,r.k,r.h,r.c,b.y,b.z,b.x,b.w,b.v,b.Q,r.g,r.b,b.p,b.P],styles:["ion-input[_ngcontent-%COMP%]:last-child{text-align:end}ion-input[_ngcontent-%COMP%]{color:#1e90ff}ion-icon.arrow[_ngcontent-%COMP%]{position:relative;left:-15%}div.profile[_ngcontent-%COMP%]{position:relative;width:100%;height:130px}div.icon[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#f0b478;border-radius:50%;text-align:center;top:30px;transform:translate(-50%)}div.icon[_ngcontent-%COMP%], ion-icon.icon[_ngcontent-%COMP%]{position:absolute;left:50%}ion-icon.icon[_ngcontent-%COMP%]{font-size:50px;top:50%;transform:translate(-50%,-50%)}"]}),e}()},GaT9:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("mrSG"),r=n("fXoL"),s=n("TEn/"),c=n("ofXK");function l(e,t){if(1&e&&(r.Kb(0,"ion-item"),r.Kb(1,"ion-label"),r.jc(2),r.Jb(),r.Kb(3,"ion-label"),r.jc(4),r.Jb(),r.Jb()),2&e){var n=r.Ub(2);r.xb(2),r.kc(n.value.relation2),r.xb(2),r.kc(n.value.r2Name)}}function u(e,t){if(1&e&&(r.Kb(0,"div",6),r.Kb(1,"ion-list"),r.Kb(2,"ion-list-header",7),r.Kb(3,"ion-label"),r.jc(4," Patient Details "),r.Jb(),r.Ib(5,"ion-label"),r.Jb(),r.Kb(6,"ion-item"),r.Kb(7,"ion-label"),r.jc(8,"Name"),r.Jb(),r.Kb(9,"ion-label"),r.jc(10),r.Jb(),r.Jb(),r.Kb(11,"ion-item"),r.Kb(12,"ion-label"),r.jc(13,"Date of Birth"),r.Jb(),r.Kb(14,"ion-label"),r.jc(15),r.Vb(16,"date"),r.Jb(),r.Jb(),r.Kb(17,"ion-item"),r.Kb(18,"ion-label"),r.jc(19,"Sex"),r.Jb(),r.Kb(20,"ion-label"),r.jc(21),r.Jb(),r.Jb(),r.Kb(22,"ion-item"),r.Kb(23,"ion-label"),r.jc(24,"NHS Number"),r.Jb(),r.Kb(25,"ion-label"),r.jc(26),r.Jb(),r.Jb(),r.Jb(),r.Kb(27,"ion-list",8),r.Kb(28,"ion-list-header",7),r.Kb(29,"ion-label"),r.jc(30," Caregiver "),r.Jb(),r.Ib(31,"ion-label"),r.Jb(),r.Kb(32,"ion-item"),r.Kb(33,"ion-label"),r.jc(34),r.Jb(),r.Kb(35,"ion-label"),r.jc(36),r.Jb(),r.Jb(),r.ic(37,l,5,2,"ion-item",5),r.Jb(),r.Kb(38,"ion-list",8),r.Kb(39,"ion-list-header",7),r.Kb(40,"ion-label"),r.jc(41," Hospital Details "),r.Jb(),r.Ib(42,"ion-label"),r.Jb(),r.Kb(43,"ion-item"),r.Kb(44,"ion-label"),r.jc(45,"Consultant"),r.Jb(),r.Kb(46,"ion-label"),r.jc(47),r.Jb(),r.Jb(),r.Kb(48,"ion-item"),r.Kb(49,"ion-label"),r.jc(50,"Trust"),r.Jb(),r.Kb(51,"ion-label"),r.jc(52),r.Jb(),r.Jb(),r.Kb(53,"ion-item"),r.Kb(54,"ion-label"),r.jc(55,"Emergency Contact"),r.Jb(),r.Kb(56,"ion-label"),r.jc(57),r.Jb(),r.Jb(),r.Jb(),r.Jb()),2&e){var n=r.Ub();r.xb(10),r.kc(n.value.name||"Not Set"),r.xb(5),r.kc(r.Xb(16,10,n.value.birthDate,"d MMM y")||"Not Set"),r.xb(6),r.kc(n.value.sex),r.xb(5),r.kc(n.value.nhsNumber||"Not Set"),r.xb(8),r.kc(n.value.relation1||"Not Set"),r.xb(2),r.kc(n.value.r1Name||"Not Set"),r.xb(1),r.ac("ngIf",null!=n.value.relation2||null!=n.value.r2Name),r.xb(10),r.kc(n.value.consultant||"Not Set"),r.xb(5),r.kc(n.value.trust||"Not Set"),r.xb(5),r.kc(n.value.emergencyContact||"Not Set")}}function b(e,t){1&e&&r.Ib(0,"div")}function h(e,t){if(1&e&&(r.Kb(0,"ion-item"),r.Kb(1,"ion-label"),r.Kb(2,"h2"),r.jc(3),r.Jb(),r.Kb(4,"h3"),r.jc(5),r.Jb(),r.Kb(6,"p"),r.jc(7),r.Jb(),r.Jb(),r.Jb()),2&e){var n=t.$implicit;r.xb(3),r.kc(n.date||"Not Set"),r.xb(2),r.kc(n.type||"Not Set"),r.xb(2),r.kc(n.details||"Not Set")}}function f(e,t){if(1&e&&(r.Kb(0,"ion-list",8),r.Kb(1,"ion-list-header",7),r.Kb(2,"ion-label"),r.jc(3," Operative History "),r.Jb(),r.Jb(),r.ic(4,h,8,3,"ion-item",10),r.Jb()),2&e){var n=r.Ub(2);r.xb(4),r.ac("ngForOf",n.histories)}}function p(e,t){if(1&e&&(r.Kb(0,"div"),r.Kb(1,"ion-list",8),r.Kb(2,"ion-list-header",7),r.Kb(3,"ion-label"),r.jc(4," Tracheostomy Details "),r.Jb(),r.Ib(5,"ion-label"),r.Jb(),r.Kb(6,"ion-item"),r.Kb(7,"ion-label"),r.jc(8,"Tube Type"),r.Jb(),r.Kb(9,"ion-label"),r.jc(10),r.Jb(),r.Jb(),r.Kb(11,"ion-item"),r.Kb(12,"ion-label"),r.jc(13,"Subtype"),r.Jb(),r.Kb(14,"ion-label"),r.jc(15),r.Jb(),r.Jb(),r.Kb(16,"ion-item"),r.Kb(17,"ion-label"),r.jc(18,"Size - ID (mm)"),r.Jb(),r.Kb(19,"ion-label"),r.jc(20),r.Jb(),r.Jb(),r.Kb(21,"ion-item"),r.Kb(22,"ion-label"),r.jc(23,"Shaft Length (mm)"),r.Jb(),r.Kb(24,"ion-label"),r.jc(25),r.Jb(),r.Jb(),r.Kb(26,"ion-item"),r.Kb(27,"ion-label"),r.jc(28,"Suction Length"),r.Jb(),r.Kb(29,"ion-label"),r.jc(30),r.Jb(),r.Jb(),r.Jb(),r.Kb(31,"ion-list",8),r.Kb(32,"ion-list-header",7),r.Kb(33,"ion-label"),r.jc(34," Medical Conditions "),r.Jb(),r.Jb(),r.Kb(35,"ion-item"),r.Kb(36,"ion-label"),r.Kb(37,"h2"),r.jc(38,"Allergies"),r.Jb(),r.Kb(39,"p"),r.jc(40),r.Jb(),r.Jb(),r.Jb(),r.Kb(41,"ion-item"),r.Kb(42,"ion-label"),r.Kb(43,"h2"),r.jc(44,"Medications"),r.Jb(),r.Kb(45,"p"),r.jc(46),r.Jb(),r.Jb(),r.Jb(),r.Kb(47,"ion-item"),r.Kb(48,"ion-label"),r.Kb(49,"h2"),r.jc(50,"Other Conditions"),r.Jb(),r.Kb(51,"p"),r.jc(52),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(53,"ion-list",8),r.Kb(54,"ion-list-header",7),r.Kb(55,"ion-label"),r.jc(56," Airway Pathology "),r.Jb(),r.Jb(),r.Kb(57,"ion-item"),r.Kb(58,"ion-label"),r.Kb(59,"h2"),r.jc(60,"Pathology"),r.Jb(),r.Kb(61,"p"),r.jc(62),r.Jb(),r.Jb(),r.Jb(),r.Kb(63,"ion-item"),r.Kb(64,"ion-label"),r.Kb(65,"h2"),r.jc(66,"Intubatation"),r.Jb(),r.Kb(67,"p"),r.jc(68),r.Jb(),r.Jb(),r.Jb(),r.ic(69,b,1,0,"div",5),r.Kb(70,"ion-item"),r.Kb(71,"ion-label"),r.Kb(72,"h2"),r.jc(73,"Airway Grade:"),r.Jb(),r.Kb(74,"p"),r.jc(75),r.Jb(),r.Jb(),r.Jb(),r.Kb(76,"ion-item"),r.Kb(77,"ion-label"),r.Kb(78,"h2"),r.jc(79,"Endotracheal Tube Size:"),r.Jb(),r.Kb(80,"p"),r.jc(81),r.Jb(),r.Jb(),r.Jb(),r.Kb(82,"ion-item"),r.Kb(83,"ion-label"),r.Kb(84,"h2"),r.jc(85,"Details:"),r.Jb(),r.Kb(86,"p"),r.jc(87),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.ic(88,f,5,1,"ion-list",9),r.Jb()),2&e){var n=r.Ub();r.xb(10),r.kc(n.value.tubeType||"Not Set"),r.xb(5),r.kc(n.value.subType||"Not Set"),r.xb(5),r.kc(n.value.sizeID||"Not Set"),r.xb(5),r.kc(n.value.shaftLength||"Not Set"),r.xb(5),r.kc(n.value.suctionLength||"Not Set"),r.xb(10),r.lc(" ",n.value.allergies||"Not Set"," "),r.xb(6),r.lc(" ",n.value.medications||"Not Set"," "),r.xb(6),r.lc(" ",n.value.otherMedicalConditions||"Not Set"," "),r.xb(10),r.lc(" ",n.value.pathology||"Not Set"," "),r.xb(6),r.lc(" ",n.value.intubatation||"Not Set"," "),r.xb(1),r.ac("ngIf",1==n.value.intubatation),r.xb(6),r.lc(" ",n.value.airwayGrade||"Not Set"," "),r.xb(6),r.lc(" ",n.value.tubeSize||"Not Set"," "),r.xb(6),r.lc(" ",n.value.details||"Not Set"," "),r.xb(1),r.ac("ngIf",null!=n.value.operativeHistory)}}var d=function(){var e=function(){function e(t,n){o(this,e),this.modalCtrl=t,this.alertController=n,this.histories=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;console.log(this.value);var t=this.value.operativeHistory;if(console.log(t),""!=t&&null!=t){var n=JSON.parse(t);console.log(n),Object.keys(n).forEach(function(t){e.histories.push(n[t]),console.log(e.histories)})}}},{key:"warningRestore",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Confirm Restore",message:"The record will be replaced by this backup.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:function(){n.replace()}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"replace",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.modalCtrl.dismiss({restoreValues:!0});case 1:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss({restoreValues:!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Hb(s.M),r.Hb(s.b))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-open-version"]],inputs:{date:"date",type:"type",value:"value"},decls:14,vars:6,consts:[["slot","start"],[3,"click"],[2,"padding","0px 80px"],["slot","end"],["class","userProfile",4,"ngIf"],[4,"ngIf"],[1,"userProfile"],["lines","full"],[1,"ion-no-margin"],["class","ion-no-margin",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Kb(3,"ion-button",1),r.Sb("click",function(){return t.dismiss()}),r.jc(4,"Back"),r.Jb(),r.Jb(),r.Kb(5,"ion-title",2),r.jc(6),r.Vb(7,"date"),r.Jb(),r.Kb(8,"ion-buttons",3),r.Kb(9,"ion-button",1),r.Sb("click",function(){return t.warningRestore()}),r.jc(10,"Restore"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(11,"ion-content"),r.ic(12,u,58,13,"div",4),r.ic(13,p,89,15,"div",5),r.Jb()),2&e&&(r.xb(6),r.kc(r.Xb(7,3,t.date,"YYYY/M/d, h:mm a")),r.xb(6),r.ac("ngIf","User Profile"==t.type),r.xb(1),r.ac("ngIf","Medical Record"==t.type))},directives:[s.s,s.J,s.h,s.g,s.H,s.o,c.l,s.y,s.z,s.x,s.w,c.k],pipes:[c.d],styles:[".userProfile[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]:last-child{text-align:end}"]}),e}()},Oz3r:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("mrSG"),r=n("gcOT"),s=n("fXoL"),c=r.f,l=c.Storage,u=c.LocalNotifications,b=function(){var e=function(){function e(){o(this,e),this.appointments={},this.APPOINTMENT_STORAGE="appointment"}return a(e,[{key:"loadAppointment",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get({key:this.APPOINTMENT_STORAGE});case 2:return t=e.sent,this.appointments=JSON.parse(t.value)||{},console.log("finished loading"),e.next=7,u.requestPermission();case 7:case"end":return e.stop()}},e,this)}))}},{key:"saveValue",value:function(){var e=JSON.stringify(this.appointments);l.set({key:this.APPOINTMENT_STORAGE,value:e})}},{key:"setReminder",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,r,a,s,c,l,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.appointmentDate.slice(0,10),o=e.appointmentDate.slice(11),r=e.alarmDateTime,a=e.doctor,s=e.location,c=e.title,l=new Date(e.appointmentDate),b="You have an appointment at "+o.slice(0,5)+" on "+i.slice(8)+"/"+i.slice(5,7)+"/"+i.slice(0,4)+" with "+a+" at "+s,console.log(e),console.log(t),n.next=5,u.schedule({notifications:[{title:c,body:b,id:t,schedule:{at:new Date(l.getTime()-r)},sound:"default",attachments:null,actionTypeId:"",extra:null}]});case 5:console.log(u.getPending());case 6:case"end":return n.stop()}},n)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},QQ9l:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n("mrSG"),r=n("gcOT"),s=n("fXoL"),c=n("3Pt+"),l=n("Oz3r"),u=n("TEn/"),b=r.f.LocalNotifications,h=function(){var e=function(){function e(t,n,i){o(this,e),this.formBuilder=t,this.appointmentService=n,this.modalCtrl=i,this.today=(new Date).toISOString(),this.appointment={},this.appointmentList=[],console.log(this.today),this.form=this.formBuilder.group({appointmentDate:[this.today],alarmDateTime:[""],title:[""],doctor:[""],location:[""]}),console.log(this.form.value.appointmentDate)}return a(e,[{key:"ngOnInit",value:function(){}},{key:"save",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,o,r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(Object.keys(this.form.value).forEach(function(e){a.appointment[e]=a.form.value[e]}),console.log(this.appointment.appointmentDate),this.appointmentList.push(this.appointment),Object.keys(this.appointmentService.appointments).forEach(function(e){a.appointmentList.push(a.appointmentService.appointments[e])}),t=this.appointmentList.length,console.log(b.getPending()),n=0;n<this.appointmentList.length;n++)for(i=n+1;i<this.appointmentList.length;i++)this.appointmentList[n].appointmentDate<this.appointmentList[i].appointmentDate&&(o=this.appointmentList[n],this.appointmentList[n]=this.appointmentList[i],this.appointmentList[i]=o);for(r=0;r<this.appointmentList.length;r++)this.appointmentService.appointments[r]=this.appointmentList[r];return this.appointmentService.saveValue(),this.isAppointmentSetted=!0,this.modalCtrl.dismiss(),e.next=10,this.appointmentService.setReminder(this.appointment,t);case 10:location.reload();case 11:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Hb(c.a),s.Hb(l.a),s.Hb(u.M))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-appointment-reminder"]],decls:45,vars:8,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["placeholder","Title","formControlName","title"],["placeholder","Doctor","formControlName","doctor"],["lines","none"],["placeholder","Location","formControlName","location"],["name","calendar-clear-outline","slot","start"],["placeholder","Select Date","display-format","D/MMM/YYYY HH:mm","formControlName","appointmentDate"],["name","alarm-outline","slot","start"],["formControlName","alarmDateTime","interface","action-sheet",2,"max-width","100%"],[3,"value"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"New Appointment"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-card"),s.Kb(13,"ion-item"),s.Ib(14,"ion-input",5),s.Jb(),s.Kb(15,"ion-item"),s.Ib(16,"ion-input",6),s.Jb(),s.Kb(17,"ion-item",7),s.Ib(18,"ion-input",8),s.Jb(),s.Jb(),s.Kb(19,"ion-card"),s.Kb(20,"ion-item",7),s.Ib(21,"ion-icon",9),s.Kb(22,"ion-label"),s.jc(23,"Date"),s.Jb(),s.Ib(24,"ion-datetime",10),s.Jb(),s.Jb(),s.Kb(25,"ion-card"),s.Kb(26,"ion-item",7),s.Ib(27,"ion-icon",11),s.Kb(28,"ion-label"),s.jc(29,"Alarm"),s.Jb(),s.Kb(30,"ion-select",12),s.Kb(31,"ion-select-option",13),s.jc(32,"At time of event"),s.Jb(),s.Kb(33,"ion-select-option",13),s.jc(34,"30 minutes before"),s.Jb(),s.Kb(35,"ion-select-option",13),s.jc(36,"1 hour before"),s.Jb(),s.Kb(37,"ion-select-option",13),s.jc(38,"2 hours before"),s.Jb(),s.Kb(39,"ion-select-option",13),s.jc(40,"1 day before"),s.Jb(),s.Kb(41,"ion-select-option",13),s.jc(42,"2 days before"),s.Jb(),s.Kb(43,"ion-select-option",13),s.jc(44,"1 week before"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(20),s.bc("value",0),s.xb(2),s.bc("value",18e5),s.xb(2),s.bc("value",36e5),s.xb(2),s.bc("value",72e5),s.xb(2),s.bc("value",864e5),s.xb(2),s.bc("value",1728e5),s.xb(2),s.bc("value",6048e5))},directives:[u.s,u.J,u.h,u.g,u.H,u.o,c.k,c.h,c.c,u.i,u.w,u.v,u.Q,c.g,c.b,u.t,u.x,u.p,u.P,u.C,u.D],styles:["ion-button[_ngcontent-%COMP%]{width:90%;margin:10% auto auto}"]}),e}()},TKui:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n("mrSG"),r=n("3Pt+"),s=n("fXoL"),c=n("TEn/"),l=n("DPk/"),u=n("ofXK");function b(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){var n=t.$implicit;s.xb(1),s.bc("value",n.key),s.xb(1),s.kc(n.key)}}function h(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){var n=t.$implicit;s.xb(1),s.bc("value",n.key),s.xb(1),s.kc(n.key)}}function f(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){var n=t.$implicit;s.xb(1),s.bc("value",n.key),s.xb(1),s.kc(n.key)}}function p(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Max usable length (mm): "),s.Jb())}function d(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Length (mm): "),s.Jb())}function m(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Shaft Length (mm): "),s.Jb())}function v(e,t){if(1&e){var n=s.Lb();s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Tube Type: "),s.Jb(),s.Kb(4,"ion-select",9),s.Sb("ionChange",function(){return s.ec(n),s.Ub().selectedTubeType()}),s.ic(5,b,3,2,"div",10),s.Vb(6,"keyvalue"),s.Jb(),s.Jb(),s.Kb(7,"ion-item"),s.Kb(8,"ion-label"),s.jc(9,"Sub Type: "),s.Jb(),s.Kb(10,"ion-select",11),s.Sb("ionChange",function(){return s.ec(n),s.Ub().selectedSubTubeType()}),s.ic(11,h,3,2,"div",10),s.Vb(12,"keyvalue"),s.Jb(),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Size - ID (mm): "),s.Jb(),s.Kb(16,"ion-select",12),s.Sb("ionChange",function(){return s.ec(n),s.Ub().selectedSize()}),s.ic(17,f,3,2,"div",10),s.Vb(18,"keyvalue"),s.Jb(),s.Jb(),s.Kb(19,"ion-item"),s.ic(20,p,2,0,"ion-label",7),s.ic(21,d,2,0,"ion-label",7),s.ic(22,m,2,0,"ion-label",7),s.Ib(23,"ion-input",13),s.Jb(),s.Jb()}if(2&e){var i=s.Ub();s.xb(5),s.ac("ngForOf",s.Wb(6,6,i.tubeTypes)),s.xb(6),s.ac("ngForOf",s.Wb(12,8,i.subTypeList)),s.xb(6),s.ac("ngForOf",s.Wb(18,10,i.sizeIDList)),s.xb(3),s.ac("ngIf","Bivona Hyperflex"==i.form.value.tubeType),s.xb(1),s.ac("ngIf","Shiley Uncuffed"==i.form.value.tubeType||"Shiley Cuffed"==i.form.value.tubeType||"Adult Portex Blue Line Ultra"==i.form.value.tubeType||"Adult Bivona"==i.form.value.tubeType),s.xb(1),s.ac("ngIf","Bivona Hyperflex"!=i.form.value.tubeType&&"Shiley Uncuffed"!=i.form.value.tubeType&&"Shiley Cuffed"!=i.form.value.tubeType&&"Adult Portex Blue Line Ultra"!=i.form.value.tubeType&&"Adult Bivona"!=i.form.value.tubeType)}}function g(e,t){1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Tube Type: "),s.Jb(),s.Ib(4,"ion-input",15),s.Jb(),s.Kb(5,"ion-item"),s.Kb(6,"ion-label"),s.jc(7,"Sub Type: "),s.Jb(),s.Ib(8,"ion-input",16),s.Jb(),s.Kb(9,"ion-item"),s.Kb(10,"ion-label"),s.jc(11,"Size - ID (mm): "),s.Jb(),s.Ib(12,"ion-input",17),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Shaft Length (mm): "),s.Jb(),s.Ib(16,"ion-input",18),s.Jb(),s.Jb())}var y=function(){var e=function(){function e(t,n,i){o(this,e),this.modalCtrl=t,this.fb=n,this.userDataService=i,this.subTypeList={},this.sizeIDList={},this.shaftLength="",this.type1={"Neo (neonatal)":{2.5:"30","3.0":"32",3.5:"34","4.0":"36"},"Ped (paediatric)":{2.5:"38","3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"}},this.type2={"N/A":{2.5:"55","3.0":"60",3.5:"65","4.0":"70",4.5:"75","5.0":"80",5.5:"85"}},this.type3={"Neo (neonatal)":{4.5:"36"},"Ped (Paediatric)":{"3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"},"Ped - Long":{"5.0":"50",5.5:"52","6.0":"54",6.5:"56"}},this.type4={"Ped (Paediatric)":{"3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"},"Ped - Long":{"5.0":"50",5.5:"52","6.0":"54",6.5:"56"}},this.subtype5={"6.0":"64.5","7.0":"70"},this.type5={"Cuffed unfenstrated":this.subtype5,"Cuffed fenstrated":this.subtype5,"Uncuffed fenstrated":this.subtype5},this.subtype6={"5.0":"60","6.0":"70","7.0":"80"},this.type6={"Cuffed unfenstrated":this.subtype6,"Cuffed fenstrated":this.subtype6,"Uncuffed fenstrated":this.subtype6},this.tubeTypes={"Bivona Uncuffed":this.type1,"Bivona Fome-Cuf":this.type1,"Bivona Aire-Cuf":this.type1,"Bivona TTS cuff":this.type1,"Bivona Flextend":this.type1,"Bivona Hyperflex":this.type2,"Shiley Uncuffed":this.type3,"Shiley Cuffed":this.type4,"Adult Portex Blue Line Ultra":this.type5,"Adult Bivona":this.type6},this.form=this.fb.group({tubeType:["",r.j.required],subType:["",r.j.required],sizeID:["",r.j.required],shaftLength:["",r.j.required],suctionLength:["",r.j.required],scheduleForChange:["",r.j.required],customize:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:Object.keys(this.form.controls).forEach(function(e){t.form.get(e).setValue(t.userDataService.medicalRecordValue[e]),null==t.userDataService.medicalRecordValue.customize&&t.form.get("customize").setValue(!1),console.log(e,t.form.get(e).value)}),0==this.form.value.customize&&(console.log(this.form.value.customize),console.log(this.form.value.tubeType),this.subTypeList=this.tubeTypes[this.form.value.tubeType],console.log(this.subTypeList),this.sizeIDList=this.subTypeList[this.form.value.subType],console.log(this.sizeIDList),this.shaftLength=this.sizeIDList[this.form.value.sizeID],console.log(this.shaftLength));case 4:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"save",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.userDataService.medicalRecordValue[t]=e.form.value[t],console.log(t,e.form.get(t).value)}),this.userDataService.saveMedicalRecord(),this.modalCtrl.dismiss(),location.reload()}},{key:"toggleCustom",value:function(){this.form.patchValue({tubeType:"",subType:"",sizeID:"",shaftLength:""}),console.log(this.form.value.customize)}},{key:"selectedTubeType",value:function(){console.log(this.form.value.tubeType),this.subTypeList=this.tubeTypes[this.form.value.tubeType],this.form.get("subType").setValue(""),this.form.get("sizeID").setValue(""),this.form.get("shaftLength").setValue(""),this.shaftLength=""}},{key:"selectedSubTubeType",value:function(){console.log(this.subTypeList),console.log(this.form.value.subType),this.sizeIDList=this.subTypeList[this.form.value.subType],this.form.get("sizeID").setValue(""),this.form.get("shaftLength").setValue(""),this.shaftLength=""}},{key:"selectedSize",value:function(){this.shaftLength=this.sizeIDList[this.form.value.sizeID],this.form.get("shaftLength").setValue(this.shaftLength)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Hb(c.M),s.Hb(r.a),s.Hb(l.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-tracheostomy-details"]],decls:26,vars:3,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["formControlName","customize",3,"ionChange"],[4,"ngIf"],["type","text","formControlName","suctionLength"],["formControlName","tubeType",3,"ionChange"],[4,"ngFor","ngForOf"],["formControlName","subType",3,"ionChange"],["formControlName","sizeID",3,"ionChange"],["formControlName","shaftLength",1,"length"],[3,"value"],["type","text","formControlName","tubeType"],["type","text","formControlName","subType"],["type","text","formControlName","sizeID"],["type","text","formControlName","shaftLength"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Tracheostomy Details "),s.Jb(),s.Jb(),s.Kb(16,"ion-item"),s.Kb(17,"ion-label"),s.jc(18,"Manual input"),s.Jb(),s.Kb(19,"ion-toggle",6),s.Sb("ionChange",function(){return t.toggleCustom()}),s.Jb(),s.Jb(),s.ic(20,v,24,12,"div",7),s.ic(21,g,17,0,"div",7),s.Kb(22,"ion-item"),s.Kb(23,"ion-label"),s.jc(24,"Suction Length (mm): "),s.Jb(),s.Ib(25,"ion-input",8),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(9),s.ac("ngIf",!t.form.value.customize),s.xb(1),s.ac("ngIf",t.form.value.customize))},directives:[c.s,c.J,c.h,c.g,c.H,c.o,r.k,r.h,r.c,c.y,c.z,c.x,c.w,c.I,c.c,r.g,r.b,u.l,c.v,c.Q,c.C,c.P,u.k,c.D],pipes:[u.f],styles:["ion-input[_ngcontent-%COMP%]:last-child{text-align:end}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#1e90ff}ion-select[_ngcontent-%COMP%]{max-width:70%;padding:0 10px 0 0}ion-label[_ngcontent-%COMP%]{padding:0;min-width:90px}.length[_ngcontent-%COMP%]{text-align:end}"]}),e}()},TR9v:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("mrSG"),r=n("3Pt+"),s=n("6g0+"),c=n("fXoL"),l=n("TEn/"),u=n("DPk/"),b=n("6/gD"),h=n("ofXK");function f(e,t){if(1&e){var n=c.Lb();c.Kb(0,"ion-col",13),c.Kb(1,"ion-img",14),c.Sb("click",function(){c.ec(n);var e=t.$implicit;return c.Ub().openViewer(e.webviewPath)}),c.Jb(),c.Jb()}if(2&e){var i=t.$implicit;c.xb(1),c.ac("src",i.webviewPath)}}var p=function(){var e=function(){function e(t,n,i,a){o(this,e),this.modalCtrl=t,this.fb=n,this.userDataService=i,this.photoService=a,this.history={},this.tuple=[],this.operativeHistoryString="",this.operativeHistoryJSON={},this.photos=[],this.form=this.fb.group({date:["",r.j.required],type:["",r.j.required],details:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString)),this.history=this.operativeHistoryJSON[this.index],this.form.get("date").setValue(this.history.date),this.form.get("type").setValue(this.history.type),this.form.get("details").setValue(this.history.details),""!=this.history.photos&&(this.photos=JSON.parse(this.history.photos)),this.photoService.loadSaved(this.photos)}},{key:"addPhotoToGallery",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.photoService.addNewToGallery(this.photos);case 2:this.history.photos=e.sent,this.photos=JSON.parse(this.history.photos);case 4:case"end":return e.stop()}},e,this)}))}},{key:"openViewer",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:s.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"save",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(this.form.controls).forEach(function(e){t.history[e]=t.form.value[e],console.log(e,t.history[e])}),console.log("photos",this.history.photos),this.operativeHistoryJSON[this.index]=this.history,this.operativeHistoryString=JSON.stringify(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=this.operativeHistoryString,console.log(this.userDataService.medicalRecordValue.operativeHistory),this.userDataService.saveMedicalRecord(),location.reload();case 1:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.M),c.Hb(r.a),c.Hb(u.a),c.Hb(b.a))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-view-operative-history"]],inputs:{index:"index"},decls:35,vars:2,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],[3,"formGroup"],["lines","full"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","date",2,"color","dodgerblue"],["formControlName","type","placeholder","Operation Type",2,"color","dodgerblue","text-align","end"],["position","stacked"],["rows","5","formControlName","details"],["lines","full",3,"click"],["name","add-circle-outline",2,"color","dodgerblue"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"src","click"]],template:function(e,t){1&e&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Kb(3,"ion-button",1),c.Sb("click",function(){return t.dismiss()}),c.Ib(4,"ion-icon",2),c.jc(5,"Back"),c.Jb(),c.Jb(),c.Kb(6,"ion-title"),c.jc(7,"Edit and View"),c.Jb(),c.Kb(8,"ion-buttons",3),c.Kb(9,"ion-button",1),c.Sb("click",function(){return t.save()}),c.jc(10,"Save"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(11,"ion-content"),c.Kb(12,"form",4),c.Kb(13,"ion-list"),c.Kb(14,"ion-list-header",5),c.Kb(15,"ion-label"),c.jc(16," Operative History "),c.Jb(),c.Jb(),c.Kb(17,"ion-item"),c.Kb(18,"ion-label"),c.jc(19,"Date"),c.Jb(),c.Ib(20,"ion-datetime",6),c.Jb(),c.Kb(21,"ion-item"),c.Kb(22,"ion-label"),c.jc(23,"Type"),c.Jb(),c.Ib(24,"ion-input",7),c.Jb(),c.Kb(25,"ion-item",5),c.Kb(26,"ion-label",8),c.jc(27,"Details"),c.Jb(),c.Ib(28,"ion-textarea",9),c.Jb(),c.Jb(),c.Jb(),c.Kb(29,"ion-item",10),c.Sb("click",function(){return t.addPhotoToGallery()}),c.Ib(30,"ion-icon",11),c.jc(31," Add pictures "),c.Jb(),c.Kb(32,"ion-grid"),c.Kb(33,"ion-row"),c.ic(34,f,2,1,"ion-col",12),c.Jb(),c.Jb(),c.Jb()),2&e&&(c.xb(12),c.ac("formGroup",t.form),c.xb(22),c.ac("ngForOf",t.photos))},directives:[l.s,l.J,l.h,l.g,l.t,l.H,l.o,r.k,r.h,r.c,l.y,l.z,l.x,l.w,l.p,l.P,r.g,r.b,l.v,l.Q,l.G,l.r,l.B,h.k,l.n,l.u],styles:[""]}),e}()},ZaV5:function(e,n,i){"use strict";i.d(n,"a",function(){return o}),i.d(n,"b",function(){return r});var o=function(){var e=t(regeneratorRuntime.mark(function e(t,n,i,o,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(n,i,r,o));case 2:if("string"==typeof i||i instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:if(a="string"==typeof i?n.ownerDocument&&n.ownerDocument.createElement(i):i,o&&o.forEach(function(e){return a.classList.add(e)}),r&&Object.assign(a,r),n.appendChild(a),e.t0=a.componentOnReady,!e.t0){e.next=12;break}return e.next=12,a.componentOnReady();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}));return function(t,n,i,o,r){return e.apply(this,arguments)}}(),r=function(e,t){if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={bubbles:{dur:1e3,circles:9,fn:function(e,t,n){var i=e*t/n-e+"ms",o=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:function(e,t,n){var i=t/n,o=e*i-e+"ms",r=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){return{r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(e,t,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":e*t/n-e+"ms"}}}}}},nuTe:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("mrSG"),r=n("3Pt+"),s=n("fXoL"),c=n("TEn/"),l=n("DPk/"),u=function(){var e=function(){function e(t,n,i){o(this,e),this.modalCtrl=t,this.fb=n,this.userDataService=i,this.form=this.fb.group({allergies:["",r.j.required],medications:["",r.j.required],otherMedicalConditions:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:Object.keys(this.form.controls).forEach(function(e){t.form.get(e).setValue(t.userDataService.medicalRecordValue[e]),console.log(e,t.form.get(e).value)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"save",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.userDataService.medicalRecordValue[t]=e.form.value[t],console.log(t,e.form.get(t).value)}),this.userDataService.saveMedicalRecord(),this.modalCtrl.dismiss(),location.reload()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Hb(c.M),s.Hb(r.a),s.Hb(l.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-medical-conditions"]],decls:30,vars:1,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["autoGrow","true","rows","2","placeholder","Enter any known allergies","formControlName","allergies"],["autoGrow","true","rows","2","placeholder","Enter current medications","formControlName","medications"],["autoGrow","true","rows","2","placeholder","Enter other medical conditions","formControlName","otherMedicalConditions"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Allergies "),s.Jb(),s.Jb(),s.Kb(16,"ion-item",5),s.Ib(17,"ion-textarea",6),s.Jb(),s.Jb(),s.Kb(18,"ion-list"),s.Kb(19,"ion-list-header",5),s.Kb(20,"ion-label"),s.jc(21," Medications "),s.Jb(),s.Jb(),s.Kb(22,"ion-item",5),s.Ib(23,"ion-textarea",7),s.Jb(),s.Jb(),s.Kb(24,"ion-list"),s.Kb(25,"ion-list-header",5),s.Kb(26,"ion-label"),s.jc(27," Other Medical Conditions "),s.Jb(),s.Jb(),s.Kb(28,"ion-item",5),s.Ib(29,"ion-textarea",8),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form))},directives:[c.s,c.J,c.h,c.g,c.H,c.o,r.k,r.h,r.c,c.y,c.z,c.x,c.w,c.G,c.Q,r.g,r.b],styles:[""]}),e}()},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return s});var i={getEngine:function(){var e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})}},notification:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=function(){i.selection()},r=function(){i.selectionStart()},a=function(){i.selectionChanged()},s=function(){i.selectionEnd()},c=function(e){i.impact(e)}},sWAx:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("mrSG"),r=n("3Pt+"),s=n("gcOT"),c=n("fXoL"),l=n("Oz3r"),u=n("EFyh"),b=n("TEn/"),h=n("ofXK"),f=s.f,p=f.Browser,d=f.LocalNotifications,m=function(){var e=function(){function e(t,n,i,a,s){o(this,e),this.appointmentService=t,this.loginService=n,this.modalCtrl=i,this.alertController=a,this.fb=s,this.appointmentList=[],this.form=this.fb.group({appointmentDate:["",r.j.required],alarmDateTime:["",r.j.required],title:["",r.j.required],location:["",r.j.required],doctor:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.appointment=this.appointmentService.appointments[this.index],console.log(this.appointment),Object.keys(this.appointmentService.appointments).forEach(function(e){t.appointmentList.push(t.appointmentService.appointments[e])}),console.log("saved"),console.log("Initiate appointment");case 1:case"end":return e.stop()}},e,this)}))}},{key:"openMap",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=encodeURI("https://www.google.com/maps/search/?api=1&query="+this.appointment.location),e.next=3,p.open({url:t});case 3:case"end":return e.stop()}},e,this)}))}},{key:"edit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.modalCtrl.dismiss();case 1:case"end":return e.stop()}},e,this)}))}},{key:"delete",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("delete appointment"),console.log(d.getPending()),this.appointmentList.splice(this.index,1),this.appointmentService.appointments={},t=0;t<this.appointmentList.length;t++)this.appointmentService.appointments[t]=this.appointmentList[t];this.appointmentService.saveValue(),location.reload();case 3:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.a),c.Hb(u.a),c.Hb(b.M),c.Hb(b.b),c.Hb(r.a))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-saved-appointment"]],inputs:{index:"index"},decls:46,vars:11,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],["color","danger",3,"click"],["lines","none"],["name","calendar-clear-outline","slot","start"],["name","time-outline","slot","start"],["id","map","color","success","expand","block",3,"click"],["slot","start","name","navigate-circle-outline"]],template:function(e,t){1&e&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Kb(3,"ion-button",1),c.Sb("click",function(){return t.edit()}),c.Ib(4,"ion-icon",2),c.jc(5,"Back"),c.Jb(),c.Jb(),c.Kb(6,"ion-title"),c.jc(7,"Appointments"),c.Jb(),c.Kb(8,"ion-buttons",3),c.Kb(9,"ion-button",4),c.Sb("click",function(){return t.delete()}),c.jc(10,"Delete"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(11,"ion-content"),c.Kb(12,"ion-card"),c.Kb(13,"ion-item"),c.Kb(14,"ion-label"),c.jc(15,"Title:"),c.Jb(),c.Kb(16,"ion-label"),c.jc(17),c.Jb(),c.Jb(),c.Kb(18,"ion-item"),c.Kb(19,"ion-label"),c.jc(20,"Doctor:"),c.Jb(),c.Kb(21,"ion-label"),c.jc(22),c.Jb(),c.Jb(),c.Kb(23,"ion-item",5),c.Kb(24,"ion-label"),c.jc(25,"Location:"),c.Jb(),c.Kb(26,"ion-label"),c.jc(27),c.Jb(),c.Jb(),c.Jb(),c.Kb(28,"ion-card"),c.Kb(29,"ion-item"),c.Ib(30,"ion-icon",6),c.Kb(31,"ion-label"),c.jc(32,"Date"),c.Jb(),c.Kb(33,"ion-label"),c.jc(34),c.Vb(35,"date"),c.Jb(),c.Jb(),c.Kb(36,"ion-item",5),c.Ib(37,"ion-icon",7),c.Kb(38,"ion-label"),c.jc(39,"Time"),c.Jb(),c.Kb(40,"ion-label"),c.jc(41),c.Vb(42,"date"),c.Jb(),c.Jb(),c.Jb(),c.Kb(43,"ion-button",8),c.Sb("click",function(){return t.openMap()}),c.Ib(44,"ion-icon",9),c.jc(45," Show Location on Google Map "),c.Jb(),c.Jb()),2&e&&(c.xb(17),c.kc(t.appointment.title),c.xb(5),c.kc(t.appointment.doctor),c.xb(5),c.kc(t.appointment.location),c.xb(7),c.kc(c.Xb(35,5,t.appointment.appointmentDate,"d MMM y")),c.xb(7),c.kc(c.Xb(42,8,t.appointment.appointmentDate,"HH:mm")))},directives:[b.s,b.J,b.h,b.g,b.t,b.H,b.o,b.i,b.w,b.x],pipes:[h.d],styles:["#map[_ngcontent-%COMP%]{width:90%;margin:10% auto auto}#delete[_ngcontent-%COMP%]{margin-top:100px}"]}),e}()},tWnK:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n("mrSG"),r=n("3Pt+"),s=n("fXoL"),c=n("TEn/"),l=n("DPk/"),u=n("ofXK");function b(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",18),s.jc(2),s.Jb(),s.Jb()),2&e){var n=t.$implicit;s.xb(1),s.bc("value",n),s.xb(1),s.kc(n)}}function h(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Airway Grade"),s.Jb(),s.Kb(4,"ion-select",9),s.Kb(5,"ion-select-option",10),s.jc(6,"1"),s.Jb(),s.Kb(7,"ion-select-option",11),s.jc(8,"2"),s.Jb(),s.Kb(9,"ion-select-option",12),s.jc(10,"3"),s.Jb(),s.Kb(11,"ion-select-option",13),s.jc(12,"4"),s.Jb(),s.Jb(),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Endotracheal tube size"),s.Jb(),s.Kb(16,"ion-select",14),s.ic(17,b,3,2,"div",15),s.Jb(),s.Jb(),s.Kb(18,"ion-item"),s.Kb(19,"ion-label",16),s.jc(20,"Details"),s.Jb(),s.Ib(21,"ion-textarea",17),s.Jb(),s.Jb()),2&e){var n=s.Ub();s.xb(17),s.ac("ngForOf",n.tubeSizeList)}}var f=function(){var e=function(){function e(t,n,i){o(this,e),this.modalCtrl=t,this.fb=n,this.userDataService=i,this.tubeSizeList=["2.5","3.0","3.5","4.0","4.5","5.0","6.0","7.0","8.0"],this.form=this.fb.group({pathology:["",r.j.required],intubatation:["",r.j.required],airwayGrade:["",r.j.required],tubeSize:["",r.j.required],details:["",r.j.required]})}return a(e,[{key:"ngOnInit",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:Object.keys(this.form.controls).forEach(function(e){t.form.get(e).setValue(t.userDataService.medicalRecordValue[e]),console.log(e,t.form.get(e).value)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"save",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.userDataService.medicalRecordValue[t]=e.form.value[t],console.log(t,e.form.get(t).value)}),this.userDataService.saveMedicalRecord(),location.reload()}},{key:"intubatation",value:function(){console.log(this.form.value.intubatation)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Hb(c.M),s.Hb(r.a),s.Hb(l.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-pathology"]],inputs:{isModal:"isModal"},decls:27,vars:2,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["rows","6","placeholder","Enter reasons","formControlName","pathology"],["formControlName","intubatation",3,"ionChange"],[4,"ngIf"],["formControlName","airwayGrade","interface","action-sheet"],["value","1"],["value","2"],["value","3"],["value","4"],["formControlName","tubeSize"],[4,"ngFor","ngForOf"],["position","stacked"],["rows","4","placeholder","Enter details","formControlName","details"],[3,"value"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Reason for Tracheostomy "),s.Jb(),s.Jb(),s.Kb(16,"ion-item",5),s.Ib(17,"ion-textarea",6),s.Jb(),s.Jb(),s.Kb(18,"ion-list"),s.Kb(19,"ion-list-header",5),s.Kb(20,"ion-label"),s.jc(21," Airway Condition "),s.Jb(),s.Jb(),s.Kb(22,"ion-item"),s.Kb(23,"ion-label"),s.jc(24,"Is Upper Airway Intubatable?"),s.Jb(),s.Kb(25,"ion-toggle",7),s.Sb("ionChange",function(){return t.intubatation()}),s.Jb(),s.Jb(),s.ic(26,h,22,1,"div",8),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(15),s.ac("ngIf",1==t.form.value.intubatation))},directives:[c.s,c.J,c.h,c.g,c.H,c.o,r.k,r.h,r.c,c.y,c.z,c.x,c.w,c.G,c.Q,r.g,r.b,c.I,c.c,u.l,c.C,c.P,c.D,u.k],styles:["ion-item[_ngcontent-%COMP%]{margin-top:5px}"]}),e}()}}])}();