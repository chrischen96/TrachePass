!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{tiJM:function(i,o,n){"use strict";n.r(o),n.d(o,"OperativeHistoryPageModule",function(){return w});var r=n("ofXK"),s=n("3Pt+"),a=n("TEn/"),c=n("tyNb"),l=n("mrSG"),u=n("8x4H"),b=n("TR9v"),d=n("fXoL"),h=n("DPk/"),p=n("6/gD");function f(e,t){1&e&&(d.Kb(0,"ion-card"),d.Kb(1,"ion-card-header"),d.Kb(2,"ion-card-title"),d.jc(3,"No History"),d.Jb(),d.Jb(),d.Jb())}function v(e,t){if(1&e){var i=d.Lb();d.Kb(0,"ion-card",3),d.Sb("click",function(){d.ec(i);var e=t.index;return d.Ub().choose(e)}),d.Kb(1,"ion-item",6),d.Kb(2,"ion-label",7),d.jc(3),d.Vb(4,"date"),d.Jb(),d.Jb(),d.Kb(5,"ion-item",8),d.Kb(6,"ion-label",9),d.Kb(7,"h3"),d.jc(8),d.Jb(),d.Jb(),d.Jb(),d.Kb(9,"ion-card-content"),d.jc(10),d.Jb(),d.Jb()}if(2&e){var o=t.$implicit;d.xb(3),d.lc(" ",d.Xb(4,3,o.date,"d MMM y")," "),d.xb(5),d.lc("",o.type," Details"),d.xb(2),d.lc(" ",o.details," ")}}var m,g,y,J=[{path:"",component:(m=function(){function i(t,o,n,r){e(this,i),this.modalCtrl=t,this.userDataService=o,this.actionSheetController=n,this.photoService=r,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[],this.photos=[]}var o,n,r;return o=i,(n=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),Object.keys(this.operativeHistoryJSON).forEach(function(e){t.histories.push(t.operativeHistoryJSON[e])}));case 4:case"end":return e.stop()}},e,this)}))}},{key:"edit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:u.a,backdropDismiss:!1,componentProps:{isModal:!0}});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"viewPhoto",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:b.a,backdropDismiss:!1,componentProps:{index:e}});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"choose",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Options",buttons:[{text:"View and Edit",handler:function(){o.viewPhoto(e)}},{text:"Delete",role:"destructive",handler:function(){console.log("Delete clicked"),console.log(e),o.histories.splice(e,1),console.log(o.histories),o.operativeHistoryJSON={};for(var t=0;t<o.histories.length;t++)console.log(t.toString()),o.operativeHistoryJSON[t]=o.histories[t];console.log(o.histories),console.log(o.operativeHistoryJSON),o.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(o.operativeHistoryJSON),o.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}},t,this)}))}}])&&t(o.prototype,n),r&&t(o,r),i}(),m.\u0275fac=function(e){return new(e||m)(d.Hb(a.M),d.Hb(h.a),d.Hb(a.a),d.Hb(p.a))},m.\u0275cmp=d.Bb({type:m,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(e,t){1&e&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-buttons",0),d.Ib(3,"ion-back-button",1),d.Jb(),d.Kb(4,"ion-title"),d.jc(5,"Operative History"),d.Jb(),d.Kb(6,"ion-buttons",2),d.Kb(7,"ion-button",3),d.Sb("click",function(){return t.edit()}),d.jc(8,"Add"),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(9,"ion-content"),d.ic(10,f,4,0,"ion-card",4),d.ic(11,v,11,6,"ion-card",5),d.Jb()),2&e&&(d.xb(10),d.ac("ngIf",0==t.histories.length),d.xb(1),d.ac("ngForOf",t.histories))},directives:[a.s,a.J,a.h,a.e,a.f,a.H,a.g,a.o,r.l,r.k,a.i,a.k,a.m,a.w,a.x,a.j],pipes:[r.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;color:#000}"]}),m)}],S=((y=function t(){e(this,t)}).\u0275mod=d.Fb({type:y}),y.\u0275inj=d.Eb({factory:function(e){return new(e||y)},imports:[[c.i.forChild(J)],c.i]}),y),w=((g=function t(){e(this,t)}).\u0275mod=d.Fb({type:g}),g.\u0275inj=d.Eb({factory:function(e){return new(e||g)},imports:[[r.b,s.d,a.K,S]]}),g)}}])}();