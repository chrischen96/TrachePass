!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"7wo0":function(n,o,r){"use strict";r.r(o),r.d(o,"SettingsPageModule",function(){return x});var a=r("ofXK"),i=r("3Pt+"),c=r("TEn/"),s=r("tyNb"),l=r("mrSG"),u=r("gcOT"),d=r("fXoL"),b=r("WdVq"),f=r("DPk/"),g=r("EFyh");function h(e,t){if(1&e){var n=d.Mb();d.Lb(0,"div",9),d.Lb(1,"ion-button",10),d.Tb("click",function(){return d.fc(n),d.Vb().resetStorage()}),d.Jb(2,"ion-icon",11),d.Lb(3,"ion-text",4),d.kc(4,"Reset Storage"),d.Kb(),d.Kb(),d.Kb()}}function p(e,t){1&e&&(d.Lb(0,"div",12),d.Lb(1,"ion-text"),d.kc(2,"Storage has been reseted."),d.Kb(),d.Kb())}var v,m,C,w=u.e.Storage,S=[{path:"",component:(v=function(){function n(t,o,r,a){e(this,n),this.alertController=t,this.barcodeScanner=o,this.userDataService=r,this.LoginService=a,this.isResetStorage=!1,this.barcodeScannerOptions={showTorchButton:!0,showFlipCameraButton:!0}}var o,r,a;return o=n,(r=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadUserProfile();case 2:console.log("started app");case 3:case"end":return e.stop()}},e,this)}))}},{key:"alertScanCode",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Confirm Update!",message:"The record in the App will be replaced by the values scanned from QR Code",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:function(e){n.scanCode()}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"scanCode",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.barcodeScanner.scan().then(function(e){console.log(e),t.scannedData=JSON.parse(e.text),console.log("Scanning User Data"),console.log(t.scannedData.userProfile),console.log(typeof t.scannedData.userProfile),console.log("Scanning Medical Data"),console.log(t.scannedData.medicalRecord),console.log(typeof t.scannedData.medicalRecord),console.log("ending Data"),w.set({key:t.userDataService.userProfileKey,value:t.scannedData.userProfile}),w.set({key:t.userDataService.medicalRecordKey,value:t.scannedData.medicalRecord})}).catch(function(e){console.log("Error",e)});case 2:case"end":return e.stop()}},e,this)}))}},{key:"encodData",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.userDataService.convertToString(),e.next=3,this.barcodeScanner.encode(this.barcodeScanner.Encode.TEXT_TYPE,this.userDataService.userProfileString).then(function(e){console.log(e),t.encodeData=e},function(e){console.log("Error occured : "+e)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"resetStorage",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Reset Storage",message:"All data will be deleted.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: cancel")}},{text:"Delete",handler:function(e){w.clear(),n.isResetStorage=!0}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:console.log("Storage Cleared");case 6:case"end":return e.stop()}},e,this)}))}}])&&t(o.prototype,r),a&&t(o,a),n}(),v.\u0275fac=function(e){return new(e||v)(d.Ib(c.b),d.Ib(b.a),d.Ib(f.a),d.Ib(g.a))},v.\u0275cmp=d.Cb({type:v,selectors:[["app-settings"]],decls:18,vars:2,consts:[["slot","start"],["defaultHref","home"],["color","warning","expand","block","routerLink","version-history",2,"margin-bottom","5%"],["slot","start","name","reload-outline"],["slot","end"],["color","danger","expand","block","routerLink","change-pw",2,"margin-bottom","5%"],["slot","start","name","lock-closed-outline"],["id","reset",4,"ngIf"],["id","isReset",4,"ngIf"],["id","reset"],["color","medium","expand","block",3,"click"],["slot","start","name","trash-outline"],["id","isReset"]],template:function(e,t){1&e&&(d.Lb(0,"ion-header"),d.Lb(1,"ion-toolbar"),d.Lb(2,"ion-buttons",0),d.Jb(3,"ion-back-button",1),d.Kb(),d.Lb(4,"ion-title"),d.kc(5,"Settings"),d.Kb(),d.Kb(),d.Kb(),d.Lb(6,"ion-content"),d.Lb(7,"div"),d.Lb(8,"ion-button",2),d.Jb(9,"ion-icon",3),d.Lb(10,"ion-text",4),d.kc(11,"Version History"),d.Kb(),d.Kb(),d.Lb(12,"ion-button",5),d.Jb(13,"ion-icon",6),d.Lb(14,"ion-text",4),d.kc(15,"Change Password"),d.Kb(),d.Kb(),d.Kb(),d.jc(16,h,5,0,"div",7),d.jc(17,p,3,0,"div",8),d.Kb()),2&e&&(d.xb(16),d.bc("ngIf",!t.isResetStorage),d.xb(1),d.bc("ngIf",t.isResetStorage))},directives:[c.v,c.M,c.h,c.e,c.f,c.K,c.p,c.g,c.S,s.h,c.w,c.I,a.l],styles:["div[_ngcontent-%COMP%]{width:80%;margin:10% auto auto}ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;left:10%}ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{position:absolute;left:30%}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:8%}#isReset[_ngcontent-%COMP%], #reset[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:10%}#isReset[_ngcontent-%COMP%]{width:80%;text-align:center}#isReset[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:large}#isReset[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:red}"]}),v)}],k=((C=function t(){e(this,t)}).\u0275mod=d.Gb({type:C}),C.\u0275inj=d.Fb({factory:function(e){return new(e||C)},imports:[[s.i.forChild(S)],s.i]}),C),x=((m=function t(){e(this,t)}).\u0275mod=d.Gb({type:m}),m.\u0275inj=d.Fb({factory:function(e){return new(e||m)},imports:[[a.b,i.d,c.N,k]]}),m)}}])}();