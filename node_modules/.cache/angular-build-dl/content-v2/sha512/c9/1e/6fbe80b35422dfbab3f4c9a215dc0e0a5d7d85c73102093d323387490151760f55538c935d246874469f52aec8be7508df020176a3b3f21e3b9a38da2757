!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{tiJM:function(i,o,r){"use strict";r.r(o),r.d(o,"OperativeHistoryPageModule",function(){return N});var n=r("ofXK"),s=r("3Pt+"),a=r("TEn/"),c=r("tyNb"),l=r("mrSG"),h=r("8x4H"),u=r("fXoL"),b=r("DPk/");function d(e,t){1&e&&(u.Nb(0,"ion-card"),u.Nb(1,"ion-card-header"),u.Nb(2,"ion-card-title"),u.mc(3,"No History"),u.Mb(),u.Mb(),u.Mb())}function p(e,t){if(1&e){var i=u.Ob();u.Nb(0,"ion-card",3),u.Vb("click",function(){u.hc(i);var e=t.index;return u.Xb().delete(e)}),u.Nb(1,"ion-item",6),u.Nb(2,"ion-label",7),u.mc(3),u.Yb(4,"date"),u.Mb(),u.Mb(),u.Nb(5,"ion-item",8),u.Nb(6,"ion-label",9),u.Nb(7,"h3"),u.mc(8),u.Mb(),u.Mb(),u.Mb(),u.Nb(9,"ion-card-content"),u.mc(10),u.Mb(),u.Mb()}if(2&e){var o=t.$implicit;u.xb(3),u.nc(u.ac(4,3,o.date,"d MMM y")),u.xb(5),u.oc("",o.type," Details"),u.xb(2),u.oc(" ",o.details," ")}}var f,v,g,m=[{path:"",component:(f=function(){function i(t,o,r){e(this,i),this.modalCtrl=t,this.userDataService=o,this.actionSheetController=r,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[]}var o,r,n;return o=i,(r=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,i,o,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:if(this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,console.log(this.operativeHistoryString),""==this.operativeHistoryString||null==this.operativeHistoryString){e.next=7;break}for(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),console.log(this.operativeHistoryJSON),Object.keys(this.operativeHistoryJSON).forEach(function(e){r.histories.push(JSON.parse(r.operativeHistoryJSON[e])),console.log(r.histories)}),t=0;t<this.histories.length;t++)for(i=t+1;i<this.histories.length;i++)new Date(this.histories[t].date).getTime()<new Date(this.histories[i].date).getTime()&&(o=this.histories[t],this.histories[t]=this.histories[i],this.histories[i]=o);case 7:console.log(this.histories);case 8:case"end":return e.stop()}},e,this)}))}},{key:"edit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:h.a,backdropDismiss:!1,componentProps:{isModal:!0}});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"delete",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Edit",buttons:[{text:"Delete",role:"destructive",handler:function(){console.log("Delete clicked"),console.log(e),o.histories.splice(e,1),console.log(o.histories),o.operativeHistoryJSON={};for(var t=0;t<o.histories.length;t++)console.log(t.toString()),o.operativeHistoryJSON[t.toString()]=JSON.stringify(o.histories[t]);console.log(o.histories),console.log(o.operativeHistoryJSON),o.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(o.operativeHistoryJSON),o.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}},t,this)}))}}])&&t(o.prototype,r),n&&t(o,n),i}(),f.\u0275fac=function(e){return new(e||f)(u.Ib(a.P),u.Ib(b.a),u.Ib(a.a))},f.\u0275cmp=u.Cb({type:f,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(e,t){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-buttons",0),u.Jb(3,"ion-back-button",1),u.Mb(),u.Nb(4,"ion-title"),u.mc(5,"Operative History"),u.Mb(),u.Nb(6,"ion-buttons",2),u.Nb(7,"ion-button",3),u.Vb("click",function(){return t.edit()}),u.mc(8,"Add"),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(9,"ion-content"),u.lc(10,d,4,0,"ion-card",4),u.lc(11,p,11,6,"ion-card",5),u.Mb()),2&e&&(u.xb(10),u.dc("ngIf",0==t.histories.length),u.xb(1),u.dc("ngForOf",t.histories))},directives:[a.v,a.M,a.h,a.e,a.f,a.K,a.g,a.p,n.l,n.k,a.i,a.k,a.m,a.z,a.A,a.j],pipes:[n.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;font-size:14px;color:#000}"]}),f)}],y=((g=function t(){e(this,t)}).\u0275mod=u.Gb({type:g}),g.\u0275inj=u.Fb({factory:function(e){return new(e||g)},imports:[[c.i.forChild(m)],c.i]}),g),N=((v=function t(){e(this,t)}).\u0275mod=u.Gb({type:v}),v.\u0275inj=u.Fb({factory:function(e){return new(e||v)},imports:[[n.b,s.d,a.N,y]]}),v)}}])}();