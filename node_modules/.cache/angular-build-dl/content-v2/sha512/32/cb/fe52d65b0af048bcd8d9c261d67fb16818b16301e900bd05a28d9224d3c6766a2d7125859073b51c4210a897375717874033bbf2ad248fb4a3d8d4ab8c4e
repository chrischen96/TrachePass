(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var o=i("A36C"),n=i("iWo5"),s=i("qULd");const r=(e,t)=>{let i,r;const a=(e,o,n)=>{if("undefined"==typeof document)return;const s=document.elementFromPoint(e,o);s&&t(s)?s!==i&&(c(),l(s,n)):c()},l=(e,t)=>{i=e,r||(r=i);const n=i;Object(o.f)(()=>n.classList.add("ion-activated")),t()},c=(e=!1)=>{if(!i)return;const t=i;Object(o.f)(()=>t.classList.remove("ion-activated")),e&&r!==i&&i.click(),i=void 0};return Object(n.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,s.a),onMove:e=>a(e.currentX,e.currentY,s.b),onEnd:()=>{c(!0),Object(s.e)(),r=void 0}})}},"6/gD":function(e,t,i){"use strict";i.d(t,"a",function(){return b});var o=i("mrSG"),n=i("gcOT"),s=i("fXoL"),r=i("TEn/");const{Camera:a,Filesystem:l,Storage:c}=n.f;let b=(()=>{class e{constructor(e){this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=e=>new Promise((t,i)=>{const o=new FileReader;o.onerror=i,o.onload=()=>{t(o.result)},o.readAsDataURL(e)}),this.platform=e}loadSaved(e){return Object(o.a)(this,void 0,void 0,function*(){if(!this.platform.is("hybrid"))for(let t of e){const e=yield l.readFile({path:t.filepath,directory:n.e.Data});t.webviewPath="data:image/jpeg;base64,"+e.data}})}reset(){for(let e of this.photos)l.deleteFile({path:e.filepath,directory:n.e.Data});this.photos.splice(0,this.photos.length),c.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log(this.photos),console.log("done deleting all")}removePhoto(e){console.log("before"),console.log(this.photos),l.deleteFile({path:this.photos[e].filepath,directory:n.e.Data}),console.log("deleted"),console.log(this.photos[e].filepath),console.log("editing array"),this.photos.splice(e,1),c.set({key:this.PHOTO_STORAGE,value:JSON.stringify(this.photos)}),console.log("after"),console.log(this.photos)}addNewToGallery(e){return Object(o.a)(this,void 0,void 0,function*(){const t=yield a.getPhoto({resultType:n.b.Uri,source:n.c.Camera,direction:n.a.Rear,quality:70}),i=yield this.savePicture(t);return e.unshift(i),console.log("New Phoo array"),console.log(JSON.stringify(e)),JSON.stringify(e)})}savePicture(e){return Object(o.a)(this,void 0,void 0,function*(){const t=yield this.readAsBase64(e),i=(new Date).toISOString().slice(0,19)+".jpeg",o=yield l.writeFile({path:i,data:t,directory:n.e.Data});return this.platform.is("hybrid")?{filepath:o.uri,webviewPath:n.d.convertFileSrc(o.uri)}:{filepath:i,webviewPath:e.webPath}})}readAsBase64(e){return Object(o.a)(this,void 0,void 0,function*(){if(this.platform.is("hybrid"))return(yield l.readFile({path:e.path})).data;{const t=yield fetch(e.webPath),i=yield t.blob();return yield this.convertBlobToBase64(i)}})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(r.N))},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"74mu":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return a});const o=(e,t)=>null!==t.closest(e),n=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,s=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},r=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,i,o)=>{if(null!=e&&"#"!==e[0]&&!r.test(e)){const n=document.querySelector("ion-router");if(n)return null!=t&&t.preventDefault(),n.push(e,i,o)}return!1}},"8x4H":function(e,t,i){"use strict";i.d(t,"a",function(){return h});var o=i("mrSG"),n=i("3Pt+"),s=i("6g0+"),r=i("fXoL"),a=i("TEn/"),l=i("DPk/"),c=i("6/gD"),b=i("ofXK");function u(e,t){if(1&e){const e=r.Lb();r.Kb(0,"ion-col",13),r.Kb(1,"ion-img",14),r.Sb("click",function(){r.ec(e);const i=t.$implicit;return r.Ub().openViewer(i.webviewPath)}),r.Jb(),r.Jb()}if(2&e){const e=t.$implicit;r.xb(1),r.ac("src",e.webviewPath)}}let h=(()=>{class e{constructor(e,t,i,o){this.modalCtrl=e,this.fb=t,this.userDataService=i,this.photoService=o,this.history={},this.tuple=[],this.operativeHistoryString="",this.operativeHistoryJSON={},this.photos=[],this.histories=[],this.form=this.fb.group({date:["",n.j.required],type:["",n.j.required],details:["",n.j.required]}),this.history.photos=""}ngOnInit(){this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString))}addPhotoToGallery(){return Object(o.a)(this,void 0,void 0,function*(){this.history.photos=yield this.photoService.addNewToGallery(this.photos),this.photos=JSON.parse(this.history.photos)})}dismiss(){this.modalCtrl.dismiss()}save(){return Object(o.a)(this,void 0,void 0,function*(){Object.keys(this.form.controls).forEach(e=>{this.history[e]=this.form.value[e],console.log(e,this.history[e])}),this.histories.push(this.history),Object.keys(this.operativeHistoryJSON).forEach(e=>{this.histories.push(this.operativeHistoryJSON[e]),console.log(this.histories)});for(let e=0;e<this.histories.length;e++)for(let t=e+1;t<this.histories.length;t++)if(this.histories[e].date<this.histories[t].date){let i=this.histories[e];this.histories[e]=this.histories[t],this.histories[t]=i}for(let e=0;e<this.histories.length;e++)this.operativeHistoryJSON[e]=this.histories[e];this.operativeHistoryString=JSON.stringify(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=this.operativeHistoryString,console.log(this.userDataService.medicalRecordValue.operativeHistory),this.userDataService.saveMedicalRecord(),location.reload()})}openViewer(e){return Object(o.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:s.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.M),r.Hb(n.a),r.Hb(l.a),r.Hb(c.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-edit-operative-history"]],decls:34,vars:2,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","date",2,"color","dodgerblue"],["formControlName","type","placeholder","Operation Type",2,"color","dodgerblue","text-align","end"],["position","stacked"],["rows","5","placeholder","Enter Details","formControlName","details"],["lines","full",3,"click"],["name","add-circle-outline",2,"color","dodgerblue"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"src","click"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Kb(3,"ion-button",1),r.Sb("click",function(){return t.dismiss()}),r.jc(4,"Cancel"),r.Jb(),r.Jb(),r.Kb(5,"ion-title"),r.jc(6,"Add New Record"),r.Jb(),r.Kb(7,"ion-buttons",2),r.Kb(8,"ion-button",3),r.Sb("click",function(){return t.save()}),r.jc(9,"Save"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(10,"ion-content"),r.Kb(11,"form",4),r.Kb(12,"ion-list"),r.Kb(13,"ion-list-header",5),r.Kb(14,"ion-label"),r.jc(15," Operative History "),r.Jb(),r.Jb(),r.Kb(16,"ion-item"),r.Kb(17,"ion-label"),r.jc(18,"Date"),r.Jb(),r.Ib(19,"ion-datetime",6),r.Jb(),r.Kb(20,"ion-item"),r.Kb(21,"ion-label"),r.jc(22,"Type"),r.Jb(),r.Ib(23,"ion-input",7),r.Jb(),r.Kb(24,"ion-item",5),r.Kb(25,"ion-label",8),r.jc(26,"Details"),r.Jb(),r.Ib(27,"ion-textarea",9),r.Jb(),r.Jb(),r.Jb(),r.Kb(28,"ion-item",10),r.Sb("click",function(){return t.addPhotoToGallery()}),r.Ib(29,"ion-icon",11),r.jc(30," Add pictures "),r.Jb(),r.Kb(31,"ion-grid"),r.Kb(32,"ion-row"),r.ic(33,u,2,1,"ion-col",12),r.Jb(),r.Jb(),r.Jb()),2&e&&(r.xb(11),r.ac("formGroup",t.form),r.xb(22),r.ac("ngForOf",t.photos))},directives:[a.s,a.J,a.h,a.g,a.H,a.o,n.k,n.h,n.c,a.y,a.z,a.x,a.w,a.p,a.P,n.g,n.b,a.v,a.Q,a.G,a.t,a.r,a.B,b.k,a.n,a.u],styles:[""]}),e})()},"DPk/":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var o=i("mrSG"),n=i("gcOT"),s=i("fXoL");const{Storage:r}=n.f;let a=(()=>{class e{constructor(){this.userProfileValue={},this.userProfileKey="userProfile",this.userProfileString="",this.medicalRecordValue={},this.medicalRecordKey="medicalRecord",this.medicalRecordString="",this.versionHistoryValue=[],this.versionHistoryKey="versionHistory",this.exporter={},this.exporterString=""}exportData(){return Object(o.a)(this,void 0,void 0,function*(){this.userProfileString=JSON.stringify(this.userProfileValue),this.medicalRecordString=JSON.stringify(this.medicalRecordValue),this.exporter={userProfile:this.userProfileString,medicalRecord:this.medicalRecordString},this.exporterString=JSON.stringify(this.exporter)})}loadUserProfile(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield r.get({key:this.userProfileKey});this.userProfileValue=JSON.parse(e.value)||{},console.log("finished loading");const t=yield r.get({key:this.versionHistoryKey});this.versionHistoryValue=JSON.parse(t.value)||[]})}saveUserProfile(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield r.get({key:this.userProfileKey}),t=JSON.parse(e.value)||{};console.log(t);const i={time:(new Date).toISOString().slice(0,16),type:"User Profile",value:t};this.saveVersion(i),r.set({key:this.userProfileKey,value:JSON.stringify(this.userProfileValue)})})}loadMedicalRecord(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield r.get({key:this.medicalRecordKey});this.medicalRecordValue=JSON.parse(e.value)||{},console.log("finished loading");const t=yield r.get({key:this.versionHistoryKey});this.versionHistoryValue=JSON.parse(t.value)||[]})}saveMedicalRecord(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield r.get({key:this.medicalRecordKey}),t=JSON.parse(e.value)||{},i={time:(new Date).toISOString().slice(0,16),type:"Medical Record",value:t};this.saveVersion(i),r.set({key:this.medicalRecordKey,value:JSON.stringify(this.medicalRecordValue)})})}saveVersion(e){this.versionHistoryValue.unshift(e),console.log(this.versionHistoryValue),console.log(this.versionHistoryValue.length),this.versionHistoryValue.length>10&&(console.log("too long"),this.versionHistoryValue=this.versionHistoryValue.slice(0,10),console.log(this.versionHistoryValue)),r.set({key:this.versionHistoryKey,value:JSON.stringify(this.versionHistoryValue)})}convertToString(){this.userProfileString=JSON.stringify(this.userProfileValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},EDQ8:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var o=i("mrSG"),n=i("3Pt+"),s=i("1Bn7"),r=i("fXoL"),a=i("DPk/"),l=i("tyNb"),c=i("TEn/");let b=(()=>{class e{constructor(e,t,i,o){this.userDataService=e,this.fb=t,this.router=i,this.modalCtrl=o,this.relationOptions=[["Mother","Father","Grandparent","Care Worker","Other"]],this.sexOptions=[["Male","Female","Other"]],this.form=this.fb.group({name:["",n.j.required],birthDate:["",n.j.required],sex:["",n.j.required],nhsNumber:["",n.j.required],hospitalNumber:["",n.j.required],relation1:["",n.j.required],r1Name:["",n.j.required],relation2:["",n.j.required],r2Name:["",n.j.required],consultant:["",n.j.required],trust:["",n.j.required],emergencyContact:["",n.j.required]})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.userDataService.loadUserProfile(),Object.keys(this.form.controls).forEach(e=>{this.form.get(e).setValue(this.userDataService.userProfileValue[e]),console.log(e,this.form.get(e).value)})})}dismiss(){this.modalCtrl.dismiss()}save(){Object.keys(this.form.controls).forEach(e=>{this.userDataService.userProfileValue[e]=this.form.value[e],console.log(e,this.form.get(e).value)}),this.userDataService.saveUserProfile(),this.modalCtrl.dismiss(),location.reload()}openPicker1(e=1,t=5,i=this.relationOptions){return Object(o.a)(this,void 0,void 0,function*(){const o=yield s.p.create({columns:this.getColumns(e,t,i),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:e=>{console.log(e),this.form.controls.relation1.setValue(e["col-0"].text)}}]});yield o.present()})}openPicker2(e=1,t=5,i=this.relationOptions){return Object(o.a)(this,void 0,void 0,function*(){const o=yield s.p.create({columns:this.getColumns(e,t,i),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:e=>{console.log(e),this.form.controls.relation2.setValue(e["col-0"].text)}}]});yield o.present()})}openPickerSex(e=1,t=3,i=this.sexOptions){return Object(o.a)(this,void 0,void 0,function*(){const o=yield s.p.create({columns:this.getColumns(e,t,i),buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm",handler:e=>{console.log(e),this.form.controls.sex.setValue(e["col-0"].text)}}]});yield o.present()})}getColumns(e,t,i){let o=[];for(let n=0;n<e;n++)o.push({name:"col-"+n,options:this.getColumnOptions(n,t,i)});return o}getColumnOptions(e,t,i){let o=[];for(let n=0;n<t;n++)o.push({text:i[e][n%t],value:n});return o}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.a),r.Hb(n.a),r.Hb(l.g),r.Hb(c.M))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-edit-patient-info"]],decls:69,vars:1,consts:[["slot","start"],["color","danger",3,"click"],[2,"padding","0px 80px"],["slot","end"],[3,"click"],[1,"profile"],[1,"icon"],["name","person-outline",1,"icon"],[3,"formGroup"],[1,"ion-no-margin"],["lines","full"],["placeholder","Not Set","formControlName","name"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","birthDate",2,"color","dodgerblue"],["placeholder","Not Set","formControlName","sex",3,"click"],["placeholder","Not Set","formControlName","nhsNumber"],["placeholder","Not Set","formControlName","hospitalNumber"],["placeholder","Relationship","formControlName","relation1",3,"click"],["name","chevron-forward-outline",1,"arrow"],["placeholder","Not Set","formControlName","r1Name"],["placeholder","Relationship","formControlName","relation2",3,"click"],["placeholder","Not Set","formControlName","r2Name"],["placeholder","Not Set","formControlName","consultant"],["placeholder","Not Set","formControlName","trust"],["placeholder","Not Set","formControlName","emergencyContact"],[2,"height","35px"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Kb(3,"ion-button",1),r.Sb("click",function(){return t.dismiss()}),r.jc(4,"Cancel"),r.Jb(),r.Jb(),r.Kb(5,"ion-title",2),r.jc(6,"Patient Information"),r.Jb(),r.Kb(7,"ion-buttons",3),r.Kb(8,"ion-button",4),r.Sb("click",function(){return t.save()}),r.jc(9,"Done"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(10,"ion-content"),r.Kb(11,"div",5),r.Kb(12,"div",6),r.Ib(13,"ion-icon",7),r.Jb(),r.Jb(),r.Kb(14,"div"),r.Kb(15,"form",8),r.Kb(16,"ion-list",9),r.Kb(17,"ion-list-header",10),r.Kb(18,"ion-label"),r.jc(19," Patient Details "),r.Jb(),r.Jb(),r.Kb(20,"ion-item"),r.Kb(21,"ion-label"),r.jc(22,"Name"),r.Jb(),r.Ib(23,"ion-input",11),r.Jb(),r.Kb(24,"ion-item"),r.Kb(25,"ion-label"),r.jc(26,"Date of Birth"),r.Jb(),r.Ib(27,"ion-datetime",12),r.Jb(),r.Kb(28,"ion-item"),r.Kb(29,"ion-label"),r.jc(30,"Sex"),r.Jb(),r.Kb(31,"ion-input",13),r.Sb("click",function(){return t.openPickerSex()}),r.Jb(),r.Jb(),r.Kb(32,"ion-item"),r.Kb(33,"ion-label"),r.jc(34,"NHS Number"),r.Jb(),r.Ib(35,"ion-input",14),r.Jb(),r.Kb(36,"ion-item"),r.Kb(37,"ion-label"),r.jc(38,"Hospital Number"),r.Jb(),r.Ib(39,"ion-input",15),r.Jb(),r.Jb(),r.Kb(40,"ion-list",9),r.Kb(41,"ion-list-header",10),r.Kb(42,"ion-label"),r.jc(43," Caregiver "),r.Jb(),r.Jb(),r.Kb(44,"ion-item"),r.Kb(45,"ion-input",16),r.Sb("click",function(){return t.openPicker1()}),r.Jb(),r.Ib(46,"ion-icon",17),r.Ib(47,"ion-input",18),r.Jb(),r.Kb(48,"ion-item"),r.Kb(49,"ion-input",19),r.Sb("click",function(){return t.openPicker2()}),r.Jb(),r.Ib(50,"ion-icon",17),r.Ib(51,"ion-input",20),r.Jb(),r.Jb(),r.Kb(52,"ion-list",9),r.Kb(53,"ion-list-header",10),r.Kb(54,"ion-label"),r.jc(55," Hospital Details "),r.Jb(),r.Jb(),r.Kb(56,"ion-item"),r.Kb(57,"ion-label"),r.jc(58,"Consultant"),r.Jb(),r.Ib(59,"ion-input",21),r.Jb(),r.Kb(60,"ion-item"),r.Kb(61,"ion-label"),r.jc(62,"Trust"),r.Jb(),r.Ib(63,"ion-input",22),r.Jb(),r.Kb(64,"ion-item"),r.Kb(65,"ion-label"),r.jc(66,"Emergency Contact"),r.Jb(),r.Ib(67,"ion-input",23),r.Jb(),r.Jb(),r.Jb(),r.Ib(68,"div",24),r.Jb(),r.Jb()),2&e&&(r.xb(15),r.ac("formGroup",t.form))},directives:[c.s,c.J,c.h,c.g,c.H,c.o,c.t,n.k,n.h,n.c,c.y,c.z,c.x,c.w,c.v,c.Q,n.g,n.b,c.p,c.P],styles:["ion-input[_ngcontent-%COMP%]:last-child{text-align:end}ion-input[_ngcontent-%COMP%]{color:#1e90ff}ion-icon.arrow[_ngcontent-%COMP%]{position:relative;left:-15%}div.profile[_ngcontent-%COMP%]{position:relative;width:100%;height:130px}div.icon[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#f0b478;border-radius:50%;text-align:center;top:30px;transform:translate(-50%)}div.icon[_ngcontent-%COMP%], ion-icon.icon[_ngcontent-%COMP%]{position:absolute;left:50%}ion-icon.icon[_ngcontent-%COMP%]{font-size:50px;top:50%;transform:translate(-50%,-50%)}"]}),e})()},GaT9:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var o=i("mrSG"),n=i("fXoL"),s=i("TEn/"),r=i("ofXK");function a(e,t){if(1&e&&(n.Kb(0,"ion-item"),n.Kb(1,"ion-label"),n.jc(2),n.Jb(),n.Kb(3,"ion-label"),n.jc(4),n.Jb(),n.Jb()),2&e){const e=n.Ub(2);n.xb(2),n.kc(e.value.relation2),n.xb(2),n.kc(e.value.r2Name)}}function l(e,t){if(1&e&&(n.Kb(0,"div",6),n.Kb(1,"ion-list"),n.Kb(2,"ion-list-header",7),n.Kb(3,"ion-label"),n.jc(4," Patient Details "),n.Jb(),n.Ib(5,"ion-label"),n.Jb(),n.Kb(6,"ion-item"),n.Kb(7,"ion-label"),n.jc(8,"Name"),n.Jb(),n.Kb(9,"ion-label"),n.jc(10),n.Jb(),n.Jb(),n.Kb(11,"ion-item"),n.Kb(12,"ion-label"),n.jc(13,"Date of Birth"),n.Jb(),n.Kb(14,"ion-label"),n.jc(15),n.Vb(16,"date"),n.Jb(),n.Jb(),n.Kb(17,"ion-item"),n.Kb(18,"ion-label"),n.jc(19,"Sex"),n.Jb(),n.Kb(20,"ion-label"),n.jc(21),n.Jb(),n.Jb(),n.Kb(22,"ion-item"),n.Kb(23,"ion-label"),n.jc(24,"NHS Number"),n.Jb(),n.Kb(25,"ion-label"),n.jc(26),n.Jb(),n.Jb(),n.Jb(),n.Kb(27,"ion-list",8),n.Kb(28,"ion-list-header",7),n.Kb(29,"ion-label"),n.jc(30," Caregiver "),n.Jb(),n.Ib(31,"ion-label"),n.Jb(),n.Kb(32,"ion-item"),n.Kb(33,"ion-label"),n.jc(34),n.Jb(),n.Kb(35,"ion-label"),n.jc(36),n.Jb(),n.Jb(),n.ic(37,a,5,2,"ion-item",5),n.Jb(),n.Kb(38,"ion-list",8),n.Kb(39,"ion-list-header",7),n.Kb(40,"ion-label"),n.jc(41," Hospital Details "),n.Jb(),n.Ib(42,"ion-label"),n.Jb(),n.Kb(43,"ion-item"),n.Kb(44,"ion-label"),n.jc(45,"Consultant"),n.Jb(),n.Kb(46,"ion-label"),n.jc(47),n.Jb(),n.Jb(),n.Kb(48,"ion-item"),n.Kb(49,"ion-label"),n.jc(50,"Trust"),n.Jb(),n.Kb(51,"ion-label"),n.jc(52),n.Jb(),n.Jb(),n.Kb(53,"ion-item"),n.Kb(54,"ion-label"),n.jc(55,"Emergency Contact"),n.Jb(),n.Kb(56,"ion-label"),n.jc(57),n.Jb(),n.Jb(),n.Jb(),n.Jb()),2&e){const e=n.Ub();n.xb(10),n.kc(e.value.name||"Not Set"),n.xb(5),n.kc(n.Xb(16,10,e.value.birthDate,"d MMM y")||"Not Set"),n.xb(6),n.kc(e.value.sex),n.xb(5),n.kc(e.value.nhsNumber||"Not Set"),n.xb(8),n.kc(e.value.relation1||"Not Set"),n.xb(2),n.kc(e.value.r1Name||"Not Set"),n.xb(1),n.ac("ngIf",null!=e.value.relation2||null!=e.value.r2Name),n.xb(10),n.kc(e.value.consultant||"Not Set"),n.xb(5),n.kc(e.value.trust||"Not Set"),n.xb(5),n.kc(e.value.emergencyContact||"Not Set")}}function c(e,t){1&e&&n.Ib(0,"div")}function b(e,t){if(1&e&&(n.Kb(0,"ion-item"),n.Kb(1,"ion-label"),n.Kb(2,"h2"),n.jc(3),n.Jb(),n.Kb(4,"h3"),n.jc(5),n.Jb(),n.Kb(6,"p"),n.jc(7),n.Jb(),n.Jb(),n.Jb()),2&e){const e=t.$implicit;n.xb(3),n.kc(e.date||"Not Set"),n.xb(2),n.kc(e.type||"Not Set"),n.xb(2),n.kc(e.details||"Not Set")}}function u(e,t){if(1&e&&(n.Kb(0,"ion-list",8),n.Kb(1,"ion-list-header",7),n.Kb(2,"ion-label"),n.jc(3," Operative History "),n.Jb(),n.Jb(),n.ic(4,b,8,3,"ion-item",10),n.Jb()),2&e){const e=n.Ub(2);n.xb(4),n.ac("ngForOf",e.histories)}}function h(e,t){if(1&e&&(n.Kb(0,"div"),n.Kb(1,"ion-list",8),n.Kb(2,"ion-list-header",7),n.Kb(3,"ion-label"),n.jc(4," Tracheostomy Details "),n.Jb(),n.Ib(5,"ion-label"),n.Jb(),n.Kb(6,"ion-item"),n.Kb(7,"ion-label"),n.jc(8,"Tube Type"),n.Jb(),n.Kb(9,"ion-label"),n.jc(10),n.Jb(),n.Jb(),n.Kb(11,"ion-item"),n.Kb(12,"ion-label"),n.jc(13,"Subtype"),n.Jb(),n.Kb(14,"ion-label"),n.jc(15),n.Jb(),n.Jb(),n.Kb(16,"ion-item"),n.Kb(17,"ion-label"),n.jc(18,"Size - ID (mm)"),n.Jb(),n.Kb(19,"ion-label"),n.jc(20),n.Jb(),n.Jb(),n.Kb(21,"ion-item"),n.Kb(22,"ion-label"),n.jc(23,"Shaft Length (mm)"),n.Jb(),n.Kb(24,"ion-label"),n.jc(25),n.Jb(),n.Jb(),n.Kb(26,"ion-item"),n.Kb(27,"ion-label"),n.jc(28,"Suction Length"),n.Jb(),n.Kb(29,"ion-label"),n.jc(30),n.Jb(),n.Jb(),n.Jb(),n.Kb(31,"ion-list",8),n.Kb(32,"ion-list-header",7),n.Kb(33,"ion-label"),n.jc(34," Medical Conditions "),n.Jb(),n.Jb(),n.Kb(35,"ion-item"),n.Kb(36,"ion-label"),n.Kb(37,"h2"),n.jc(38,"Allergies"),n.Jb(),n.Kb(39,"p"),n.jc(40),n.Jb(),n.Jb(),n.Jb(),n.Kb(41,"ion-item"),n.Kb(42,"ion-label"),n.Kb(43,"h2"),n.jc(44,"Medications"),n.Jb(),n.Kb(45,"p"),n.jc(46),n.Jb(),n.Jb(),n.Jb(),n.Kb(47,"ion-item"),n.Kb(48,"ion-label"),n.Kb(49,"h2"),n.jc(50,"Other Conditions"),n.Jb(),n.Kb(51,"p"),n.jc(52),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Kb(53,"ion-list",8),n.Kb(54,"ion-list-header",7),n.Kb(55,"ion-label"),n.jc(56," Airway Pathology "),n.Jb(),n.Jb(),n.Kb(57,"ion-item"),n.Kb(58,"ion-label"),n.Kb(59,"h2"),n.jc(60,"Pathology"),n.Jb(),n.Kb(61,"p"),n.jc(62),n.Jb(),n.Jb(),n.Jb(),n.Kb(63,"ion-item"),n.Kb(64,"ion-label"),n.Kb(65,"h2"),n.jc(66,"Intubatation"),n.Jb(),n.Kb(67,"p"),n.jc(68),n.Jb(),n.Jb(),n.Jb(),n.ic(69,c,1,0,"div",5),n.Kb(70,"ion-item"),n.Kb(71,"ion-label"),n.Kb(72,"h2"),n.jc(73,"Airway Grade:"),n.Jb(),n.Kb(74,"p"),n.jc(75),n.Jb(),n.Jb(),n.Jb(),n.Kb(76,"ion-item"),n.Kb(77,"ion-label"),n.Kb(78,"h2"),n.jc(79,"Endotracheal Tube Size:"),n.Jb(),n.Kb(80,"p"),n.jc(81),n.Jb(),n.Jb(),n.Jb(),n.Kb(82,"ion-item"),n.Kb(83,"ion-label"),n.Kb(84,"h2"),n.jc(85,"Details:"),n.Jb(),n.Kb(86,"p"),n.jc(87),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.ic(88,u,5,1,"ion-list",9),n.Jb()),2&e){const e=n.Ub();n.xb(10),n.kc(e.value.tubeType||"Not Set"),n.xb(5),n.kc(e.value.subType||"Not Set"),n.xb(5),n.kc(e.value.sizeID||"Not Set"),n.xb(5),n.kc(e.value.shaftLength||"Not Set"),n.xb(5),n.kc(e.value.suctionLength||"Not Set"),n.xb(10),n.lc(" ",e.value.allergies||"Not Set"," "),n.xb(6),n.lc(" ",e.value.medications||"Not Set"," "),n.xb(6),n.lc(" ",e.value.otherMedicalConditions||"Not Set"," "),n.xb(10),n.lc(" ",e.value.pathology||"Not Set"," "),n.xb(6),n.lc(" ",e.value.intubatation||"Not Set"," "),n.xb(1),n.ac("ngIf",1==e.value.intubatation),n.xb(6),n.lc(" ",e.value.airwayGrade||"Not Set"," "),n.xb(6),n.lc(" ",e.value.tubeSize||"Not Set"," "),n.xb(6),n.lc(" ",e.value.details||"Not Set"," "),n.xb(1),n.ac("ngIf",null!=e.value.operativeHistory)}}let d=(()=>{class e{constructor(e,t){this.modalCtrl=e,this.alertController=t,this.histories=[]}ngOnInit(){console.log(this.value);const e=this.value.operativeHistory;if(console.log(e),""!=e&&null!=e){const t=JSON.parse(e);console.log(t),Object.keys(t).forEach(e=>{this.histories.push(t[e]),console.log(this.histories)})}}warningRestore(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm Restore",message:"The record will be replaced by this backup.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:()=>{this.replace()}}]});yield e.present()})}replace(){return Object(o.a)(this,void 0,void 0,function*(){this.modalCtrl.dismiss({restoreValues:!0})})}dismiss(){this.modalCtrl.dismiss({restoreValues:!1})}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(s.M),n.Hb(s.b))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-open-version"]],inputs:{date:"date",type:"type",value:"value"},decls:14,vars:6,consts:[["slot","start"],[3,"click"],[2,"padding","0px 80px"],["slot","end"],["class","userProfile",4,"ngIf"],[4,"ngIf"],[1,"userProfile"],["lines","full"],[1,"ion-no-margin"],["class","ion-no-margin",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(n.Kb(0,"ion-header"),n.Kb(1,"ion-toolbar"),n.Kb(2,"ion-buttons",0),n.Kb(3,"ion-button",1),n.Sb("click",function(){return t.dismiss()}),n.jc(4,"Back"),n.Jb(),n.Jb(),n.Kb(5,"ion-title",2),n.jc(6),n.Vb(7,"date"),n.Jb(),n.Kb(8,"ion-buttons",3),n.Kb(9,"ion-button",1),n.Sb("click",function(){return t.warningRestore()}),n.jc(10,"Restore"),n.Jb(),n.Jb(),n.Jb(),n.Jb(),n.Kb(11,"ion-content"),n.ic(12,l,58,13,"div",4),n.ic(13,h,89,15,"div",5),n.Jb()),2&e&&(n.xb(6),n.kc(n.Xb(7,3,t.date,"YYYY/M/d, h:mm a")),n.xb(6),n.ac("ngIf","User Profile"==t.type),n.xb(1),n.ac("ngIf","Medical Record"==t.type))},directives:[s.s,s.J,s.h,s.g,s.H,s.o,r.l,s.y,s.z,s.x,s.w,r.k],pipes:[r.d],styles:[".userProfile[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]:last-child{text-align:end}"]}),e})()},Oz3r:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var o=i("mrSG"),n=i("gcOT"),s=i("fXoL");const{Storage:r,LocalNotifications:a}=n.f;let l=(()=>{class e{constructor(){this.appointments={},this.APPOINTMENT_STORAGE="appointment"}loadAppointment(){return Object(o.a)(this,void 0,void 0,function*(){const e=yield r.get({key:this.APPOINTMENT_STORAGE});this.appointments=JSON.parse(e.value)||{},console.log("finished loading"),yield a.requestPermission()})}saveValue(){const e=JSON.stringify(this.appointments);r.set({key:this.APPOINTMENT_STORAGE,value:e})}setReminder(e,t){return Object(o.a)(this,void 0,void 0,function*(){const i=e.appointmentDate.slice(0,10),o=e.appointmentDate.slice(11),n=e.alarmDateTime,s=e.doctor,r=e.location,l=e.title,c=new Date(e.appointmentDate),b="You have an appointment at "+o.slice(0,5)+" on "+i.slice(8)+"/"+i.slice(5,7)+"/"+i.slice(0,4)+" with "+s+" at "+r;console.log(e),console.log(t),yield a.schedule({notifications:[{title:l,body:b,id:t,schedule:{at:new Date(c.getTime()-n)},sound:"default",attachments:null,actionTypeId:"",extra:null}]}),console.log(a.getPending())})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},QQ9l:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var o=i("mrSG"),n=i("gcOT"),s=i("fXoL"),r=i("3Pt+"),a=i("Oz3r"),l=i("TEn/");const{LocalNotifications:c}=n.f;let b=(()=>{class e{constructor(e,t,i){this.formBuilder=e,this.appointmentService=t,this.modalCtrl=i,this.today=(new Date).toISOString(),this.appointment={},this.appointmentList=[],console.log(this.today),this.form=this.formBuilder.group({appointmentDate:[this.today],alarmDateTime:[""],title:[""],doctor:[""],location:[""]}),console.log(this.form.value.appointmentDate)}ngOnInit(){}save(){return Object(o.a)(this,void 0,void 0,function*(){Object.keys(this.form.value).forEach(e=>{this.appointment[e]=this.form.value[e]}),console.log(this.appointment.appointmentDate),this.appointmentList.push(this.appointment),Object.keys(this.appointmentService.appointments).forEach(e=>{this.appointmentList.push(this.appointmentService.appointments[e])});const e=this.appointmentList.length;console.log(c.getPending());for(let t=0;t<this.appointmentList.length;t++)for(let e=t+1;e<this.appointmentList.length;e++)if(this.appointmentList[t].appointmentDate<this.appointmentList[e].appointmentDate){let i=this.appointmentList[t];this.appointmentList[t]=this.appointmentList[e],this.appointmentList[e]=i}for(let t=0;t<this.appointmentList.length;t++)this.appointmentService.appointments[t]=this.appointmentList[t];this.appointmentService.saveValue(),this.isAppointmentSetted=!0,this.modalCtrl.dismiss(),yield this.appointmentService.setReminder(this.appointment,e),location.reload()})}dismiss(){this.modalCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(r.a),s.Hb(a.a),s.Hb(l.M))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-appointment-reminder"]],decls:45,vars:8,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["placeholder","Title","formControlName","title"],["placeholder","Doctor","formControlName","doctor"],["lines","none"],["placeholder","Location","formControlName","location"],["name","calendar-clear-outline","slot","start"],["placeholder","Select Date","display-format","D/MMM/YYYY HH:mm","formControlName","appointmentDate"],["name","alarm-outline","slot","start"],["formControlName","alarmDateTime","interface","action-sheet",2,"max-width","100%"],[3,"value"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"New Appointment"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-card"),s.Kb(13,"ion-item"),s.Ib(14,"ion-input",5),s.Jb(),s.Kb(15,"ion-item"),s.Ib(16,"ion-input",6),s.Jb(),s.Kb(17,"ion-item",7),s.Ib(18,"ion-input",8),s.Jb(),s.Jb(),s.Kb(19,"ion-card"),s.Kb(20,"ion-item",7),s.Ib(21,"ion-icon",9),s.Kb(22,"ion-label"),s.jc(23,"Date"),s.Jb(),s.Ib(24,"ion-datetime",10),s.Jb(),s.Jb(),s.Kb(25,"ion-card"),s.Kb(26,"ion-item",7),s.Ib(27,"ion-icon",11),s.Kb(28,"ion-label"),s.jc(29,"Alarm"),s.Jb(),s.Kb(30,"ion-select",12),s.Kb(31,"ion-select-option",13),s.jc(32,"At time of event"),s.Jb(),s.Kb(33,"ion-select-option",13),s.jc(34,"30 minutes before"),s.Jb(),s.Kb(35,"ion-select-option",13),s.jc(36,"1 hour before"),s.Jb(),s.Kb(37,"ion-select-option",13),s.jc(38,"2 hours before"),s.Jb(),s.Kb(39,"ion-select-option",13),s.jc(40,"1 day before"),s.Jb(),s.Kb(41,"ion-select-option",13),s.jc(42,"2 days before"),s.Jb(),s.Kb(43,"ion-select-option",13),s.jc(44,"1 week before"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(20),s.bc("value",0),s.xb(2),s.bc("value",18e5),s.xb(2),s.bc("value",36e5),s.xb(2),s.bc("value",72e5),s.xb(2),s.bc("value",864e5),s.xb(2),s.bc("value",1728e5),s.xb(2),s.bc("value",6048e5))},directives:[l.s,l.J,l.h,l.g,l.H,l.o,r.k,r.h,r.c,l.i,l.w,l.v,l.Q,r.g,r.b,l.t,l.x,l.p,l.P,l.C,l.D],styles:["ion-button[_ngcontent-%COMP%]{width:90%;margin:10% auto auto}"]}),e})()},TKui:function(e,t,i){"use strict";i.d(t,"a",function(){return v});var o=i("mrSG"),n=i("3Pt+"),s=i("fXoL"),r=i("TEn/"),a=i("DPk/"),l=i("ofXK");function c(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){const e=t.$implicit;s.xb(1),s.bc("value",e.key),s.xb(1),s.kc(e.key)}}function b(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){const e=t.$implicit;s.xb(1),s.bc("value",e.key),s.xb(1),s.kc(e.key)}}function u(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",14),s.jc(2),s.Jb(),s.Jb()),2&e){const e=t.$implicit;s.xb(1),s.bc("value",e.key),s.xb(1),s.kc(e.key)}}function h(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Max usable length (mm): "),s.Jb())}function d(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Length (mm): "),s.Jb())}function p(e,t){1&e&&(s.Kb(0,"ion-label"),s.jc(1," Shaft Length (mm): "),s.Jb())}function m(e,t){if(1&e){const e=s.Lb();s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Tube Type: "),s.Jb(),s.Kb(4,"ion-select",9),s.Sb("ionChange",function(){return s.ec(e),s.Ub().selectedTubeType()}),s.ic(5,c,3,2,"div",10),s.Vb(6,"keyvalue"),s.Jb(),s.Jb(),s.Kb(7,"ion-item"),s.Kb(8,"ion-label"),s.jc(9,"Sub Type: "),s.Jb(),s.Kb(10,"ion-select",11),s.Sb("ionChange",function(){return s.ec(e),s.Ub().selectedSubTubeType()}),s.ic(11,b,3,2,"div",10),s.Vb(12,"keyvalue"),s.Jb(),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Size - ID (mm): "),s.Jb(),s.Kb(16,"ion-select",12),s.Sb("ionChange",function(){return s.ec(e),s.Ub().selectedSize()}),s.ic(17,u,3,2,"div",10),s.Vb(18,"keyvalue"),s.Jb(),s.Jb(),s.Kb(19,"ion-item"),s.ic(20,h,2,0,"ion-label",7),s.ic(21,d,2,0,"ion-label",7),s.ic(22,p,2,0,"ion-label",7),s.Ib(23,"ion-input",13),s.Jb(),s.Jb()}if(2&e){const e=s.Ub();s.xb(5),s.ac("ngForOf",s.Wb(6,6,e.tubeTypes)),s.xb(6),s.ac("ngForOf",s.Wb(12,8,e.subTypeList)),s.xb(6),s.ac("ngForOf",s.Wb(18,10,e.sizeIDList)),s.xb(3),s.ac("ngIf","Bivona Hyperflex"==e.form.value.tubeType),s.xb(1),s.ac("ngIf","Shiley Uncuffed"==e.form.value.tubeType||"Shiley Cuffed"==e.form.value.tubeType||"Adult Portex Blue Line Ultra"==e.form.value.tubeType||"Adult Bivona"==e.form.value.tubeType),s.xb(1),s.ac("ngIf","Bivona Hyperflex"!=e.form.value.tubeType&&"Shiley Uncuffed"!=e.form.value.tubeType&&"Shiley Cuffed"!=e.form.value.tubeType&&"Adult Portex Blue Line Ultra"!=e.form.value.tubeType&&"Adult Bivona"!=e.form.value.tubeType)}}function f(e,t){1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Tube Type: "),s.Jb(),s.Ib(4,"ion-input",15),s.Jb(),s.Kb(5,"ion-item"),s.Kb(6,"ion-label"),s.jc(7,"Sub Type: "),s.Jb(),s.Ib(8,"ion-input",16),s.Jb(),s.Kb(9,"ion-item"),s.Kb(10,"ion-label"),s.jc(11,"Size - ID (mm): "),s.Jb(),s.Ib(12,"ion-input",17),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Shaft Length (mm): "),s.Jb(),s.Ib(16,"ion-input",18),s.Jb(),s.Jb())}let v=(()=>{class e{constructor(e,t,i){this.modalCtrl=e,this.fb=t,this.userDataService=i,this.subTypeList={},this.sizeIDList={},this.shaftLength="",this.type1={"Neo (neonatal)":{2.5:"30","3.0":"32",3.5:"34","4.0":"36"},"Ped (paediatric)":{2.5:"38","3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"}},this.type2={"N/A":{2.5:"55","3.0":"60",3.5:"65","4.0":"70",4.5:"75","5.0":"80",5.5:"85"}},this.type3={"Neo (neonatal)":{4.5:"36"},"Ped (Paediatric)":{"3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"},"Ped - Long":{"5.0":"50",5.5:"52","6.0":"54",6.5:"56"}},this.type4={"Ped (Paediatric)":{"3.0":"39",3.5:"40","4.0":"41",4.5:"42","5.0":"44",5.5:"46"},"Ped - Long":{"5.0":"50",5.5:"52","6.0":"54",6.5:"56"}},this.subtype5={"6.0":"64.5","7.0":"70"},this.type5={"Cuffed unfenstrated":this.subtype5,"Cuffed fenstrated":this.subtype5,"Uncuffed fenstrated":this.subtype5},this.subtype6={"5.0":"60","6.0":"70","7.0":"80"},this.type6={"Cuffed unfenstrated":this.subtype6,"Cuffed fenstrated":this.subtype6,"Uncuffed fenstrated":this.subtype6},this.tubeTypes={"Bivona Uncuffed":this.type1,"Bivona Fome-Cuf":this.type1,"Bivona Aire-Cuf":this.type1,"Bivona TTS cuff":this.type1,"Bivona Flextend":this.type1,"Bivona Hyperflex":this.type2,"Shiley Uncuffed":this.type3,"Shiley Cuffed":this.type4,"Adult Portex Blue Line Ultra":this.type5,"Adult Bivona":this.type6},this.form=this.fb.group({tubeType:["",n.j.required],subType:["",n.j.required],sizeID:["",n.j.required],shaftLength:["",n.j.required],suctionLength:["",n.j.required],scheduleForChange:["",n.j.required],customize:["",n.j.required]})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),Object.keys(this.form.controls).forEach(e=>{this.form.get(e).setValue(this.userDataService.medicalRecordValue[e]),null==this.userDataService.medicalRecordValue.customize&&this.form.get("customize").setValue(!1),console.log(e,this.form.get(e).value)}),0==this.form.value.customize&&(console.log(this.form.value.customize),console.log(this.form.value.tubeType),this.subTypeList=this.tubeTypes[this.form.value.tubeType],console.log(this.subTypeList),this.sizeIDList=this.subTypeList[this.form.value.subType],console.log(this.sizeIDList),this.shaftLength=this.sizeIDList[this.form.value.sizeID],console.log(this.shaftLength))})}dismiss(){this.modalCtrl.dismiss()}save(){Object.keys(this.form.controls).forEach(e=>{this.userDataService.medicalRecordValue[e]=this.form.value[e],console.log(e,this.form.get(e).value)}),this.userDataService.saveMedicalRecord(),this.modalCtrl.dismiss(),location.reload()}toggleCustom(){this.form.patchValue({tubeType:"",subType:"",sizeID:"",shaftLength:""}),console.log(this.form.value.customize)}selectedTubeType(){console.log(this.form.value.tubeType),this.subTypeList=this.tubeTypes[this.form.value.tubeType],this.form.get("subType").setValue(""),this.form.get("sizeID").setValue(""),this.form.get("shaftLength").setValue(""),this.shaftLength=""}selectedSubTubeType(){console.log(this.subTypeList),console.log(this.form.value.subType),this.sizeIDList=this.subTypeList[this.form.value.subType],this.form.get("sizeID").setValue(""),this.form.get("shaftLength").setValue(""),this.shaftLength=""}selectedSize(){this.shaftLength=this.sizeIDList[this.form.value.sizeID],this.form.get("shaftLength").setValue(this.shaftLength)}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(r.M),s.Hb(n.a),s.Hb(a.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-tracheostomy-details"]],decls:26,vars:3,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["formControlName","customize",3,"ionChange"],[4,"ngIf"],["type","text","formControlName","suctionLength"],["formControlName","tubeType",3,"ionChange"],[4,"ngFor","ngForOf"],["formControlName","subType",3,"ionChange"],["formControlName","sizeID",3,"ionChange"],["formControlName","shaftLength",1,"length"],[3,"value"],["type","text","formControlName","tubeType"],["type","text","formControlName","subType"],["type","text","formControlName","sizeID"],["type","text","formControlName","shaftLength"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Tracheostomy Details "),s.Jb(),s.Jb(),s.Kb(16,"ion-item"),s.Kb(17,"ion-label"),s.jc(18,"Manual input"),s.Jb(),s.Kb(19,"ion-toggle",6),s.Sb("ionChange",function(){return t.toggleCustom()}),s.Jb(),s.Jb(),s.ic(20,m,24,12,"div",7),s.ic(21,f,17,0,"div",7),s.Kb(22,"ion-item"),s.Kb(23,"ion-label"),s.jc(24,"Suction Length (mm): "),s.Jb(),s.Ib(25,"ion-input",8),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(9),s.ac("ngIf",!t.form.value.customize),s.xb(1),s.ac("ngIf",t.form.value.customize))},directives:[r.s,r.J,r.h,r.g,r.H,r.o,n.k,n.h,n.c,r.y,r.z,r.x,r.w,r.I,r.c,n.g,n.b,l.l,r.v,r.Q,r.C,r.P,l.k,r.D],pipes:[l.f],styles:["ion-input[_ngcontent-%COMP%]:last-child{text-align:end}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{color:#1e90ff}ion-select[_ngcontent-%COMP%]{max-width:70%;padding:0 10px 0 0}ion-label[_ngcontent-%COMP%]{padding:0;min-width:90px}.length[_ngcontent-%COMP%]{text-align:end}"]}),e})()},TR9v:function(e,t,i){"use strict";i.d(t,"a",function(){return h});var o=i("mrSG"),n=i("3Pt+"),s=i("6g0+"),r=i("fXoL"),a=i("TEn/"),l=i("DPk/"),c=i("6/gD"),b=i("ofXK");function u(e,t){if(1&e){const e=r.Lb();r.Kb(0,"ion-col",13),r.Kb(1,"ion-img",14),r.Sb("click",function(){r.ec(e);const i=t.$implicit;return r.Ub().openViewer(i.webviewPath)}),r.Jb(),r.Jb()}if(2&e){const e=t.$implicit;r.xb(1),r.ac("src",e.webviewPath)}}let h=(()=>{class e{constructor(e,t,i,o){this.modalCtrl=e,this.fb=t,this.userDataService=i,this.photoService=o,this.history={},this.tuple=[],this.operativeHistoryString="",this.operativeHistoryJSON={},this.photos=[],this.form=this.fb.group({date:["",n.j.required],type:["",n.j.required],details:["",n.j.required]})}ngOnInit(){this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString)),this.history=this.operativeHistoryJSON[this.index],this.form.get("date").setValue(this.history.date),this.form.get("type").setValue(this.history.type),this.form.get("details").setValue(this.history.details),""!=this.history.photos&&(this.photos=JSON.parse(this.history.photos)),this.photoService.loadSaved(this.photos)}addPhotoToGallery(){return Object(o.a)(this,void 0,void 0,function*(){this.history.photos=yield this.photoService.addNewToGallery(this.photos),this.photos=JSON.parse(this.history.photos)})}openViewer(e){return Object(o.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:s.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});yield t.present()})}save(){return Object(o.a)(this,void 0,void 0,function*(){Object.keys(this.form.controls).forEach(e=>{this.history[e]=this.form.value[e],console.log(e,this.history[e])}),console.log("photos",this.history.photos),this.operativeHistoryJSON[this.index]=this.history,this.operativeHistoryString=JSON.stringify(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=this.operativeHistoryString,console.log(this.userDataService.medicalRecordValue.operativeHistory),this.userDataService.saveMedicalRecord(),location.reload()})}dismiss(){this.modalCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.M),r.Hb(n.a),r.Hb(l.a),r.Hb(c.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-view-operative-history"]],inputs:{index:"index"},decls:35,vars:2,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],[3,"formGroup"],["lines","full"],["placeholder","Select Date","display-format","D MMM YYYY","picker-format","D MMM YYYY","formControlName","date",2,"color","dodgerblue"],["formControlName","type","placeholder","Operation Type",2,"color","dodgerblue","text-align","end"],["position","stacked"],["rows","5","formControlName","details"],["lines","full",3,"click"],["name","add-circle-outline",2,"color","dodgerblue"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"src","click"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Kb(3,"ion-button",1),r.Sb("click",function(){return t.dismiss()}),r.Ib(4,"ion-icon",2),r.jc(5,"Back"),r.Jb(),r.Jb(),r.Kb(6,"ion-title"),r.jc(7,"Edit and View"),r.Jb(),r.Kb(8,"ion-buttons",3),r.Kb(9,"ion-button",1),r.Sb("click",function(){return t.save()}),r.jc(10,"Save"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(11,"ion-content"),r.Kb(12,"form",4),r.Kb(13,"ion-list"),r.Kb(14,"ion-list-header",5),r.Kb(15,"ion-label"),r.jc(16," Operative History "),r.Jb(),r.Jb(),r.Kb(17,"ion-item"),r.Kb(18,"ion-label"),r.jc(19,"Date"),r.Jb(),r.Ib(20,"ion-datetime",6),r.Jb(),r.Kb(21,"ion-item"),r.Kb(22,"ion-label"),r.jc(23,"Type"),r.Jb(),r.Ib(24,"ion-input",7),r.Jb(),r.Kb(25,"ion-item",5),r.Kb(26,"ion-label",8),r.jc(27,"Details"),r.Jb(),r.Ib(28,"ion-textarea",9),r.Jb(),r.Jb(),r.Jb(),r.Kb(29,"ion-item",10),r.Sb("click",function(){return t.addPhotoToGallery()}),r.Ib(30,"ion-icon",11),r.jc(31," Add pictures "),r.Jb(),r.Kb(32,"ion-grid"),r.Kb(33,"ion-row"),r.ic(34,u,2,1,"ion-col",12),r.Jb(),r.Jb(),r.Jb()),2&e&&(r.xb(12),r.ac("formGroup",t.form),r.xb(22),r.ac("ngForOf",t.photos))},directives:[a.s,a.J,a.h,a.g,a.t,a.H,a.o,n.k,n.h,n.c,a.y,a.z,a.x,a.w,a.p,a.P,n.g,n.b,a.v,a.Q,a.G,a.r,a.B,b.k,a.n,a.u],styles:[""]}),e})()},ZaV5:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n});const o=async(e,t,i,o,n)=>{if(e)return e.attachViewToDom(t,i,n,o);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof i?t.ownerDocument&&t.ownerDocument.createElement(i):i;return o&&o.forEach(e=>s.classList.add(e)),n&&Object.assign(s,n),t.appendChild(s),s.componentOnReady&&await s.componentOnReady(),s},n=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,i){"use strict";i.d(t,"a",function(){return o});const o={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const o=e*t/i-e+"ms",n=2*Math.PI*t/i;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const o=t/i,n=e*o-e+"ms",s=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":n}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}}},nuTe:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var o=i("mrSG"),n=i("3Pt+"),s=i("fXoL"),r=i("TEn/"),a=i("DPk/");let l=(()=>{class e{constructor(e,t,i){this.modalCtrl=e,this.fb=t,this.userDataService=i,this.form=this.fb.group({allergies:["",n.j.required],medications:["",n.j.required],otherMedicalConditions:["",n.j.required]})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),Object.keys(this.form.controls).forEach(e=>{this.form.get(e).setValue(this.userDataService.medicalRecordValue[e]),console.log(e,this.form.get(e).value)})})}dismiss(){this.modalCtrl.dismiss()}save(){Object.keys(this.form.controls).forEach(e=>{this.userDataService.medicalRecordValue[e]=this.form.value[e],console.log(e,this.form.get(e).value)}),this.userDataService.saveMedicalRecord(),this.modalCtrl.dismiss(),location.reload()}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(r.M),s.Hb(n.a),s.Hb(a.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-medical-conditions"]],decls:30,vars:1,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["autoGrow","true","rows","2","placeholder","Enter any known allergies","formControlName","allergies"],["autoGrow","true","rows","2","placeholder","Enter current medications","formControlName","medications"],["autoGrow","true","rows","2","placeholder","Enter other medical conditions","formControlName","otherMedicalConditions"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Allergies "),s.Jb(),s.Jb(),s.Kb(16,"ion-item",5),s.Ib(17,"ion-textarea",6),s.Jb(),s.Jb(),s.Kb(18,"ion-list"),s.Kb(19,"ion-list-header",5),s.Kb(20,"ion-label"),s.jc(21," Medications "),s.Jb(),s.Jb(),s.Kb(22,"ion-item",5),s.Ib(23,"ion-textarea",7),s.Jb(),s.Jb(),s.Kb(24,"ion-list"),s.Kb(25,"ion-list-header",5),s.Kb(26,"ion-label"),s.jc(27," Other Medical Conditions "),s.Jb(),s.Jb(),s.Kb(28,"ion-item",5),s.Ib(29,"ion-textarea",8),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form))},directives:[r.s,r.J,r.h,r.g,r.H,r.o,n.k,n.h,n.c,r.y,r.z,r.x,r.w,r.G,r.Q,n.g,n.b],styles:[""]}),e})()},qULd:function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"d",function(){return l}),i.d(t,"e",function(){return a});const o={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},n=()=>{o.selection()},s=()=>{o.selectionStart()},r=()=>{o.selectionChanged()},a=()=>{o.selectionEnd()},l=e=>{o.impact(e)}},sWAx:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var o=i("mrSG"),n=i("3Pt+"),s=i("gcOT"),r=i("fXoL"),a=i("Oz3r"),l=i("EFyh"),c=i("TEn/"),b=i("ofXK");const{Browser:u,LocalNotifications:h}=s.f;let d=(()=>{class e{constructor(e,t,i,o,s){this.appointmentService=e,this.loginService=t,this.modalCtrl=i,this.alertController=o,this.fb=s,this.appointmentList=[],this.form=this.fb.group({appointmentDate:["",n.j.required],alarmDateTime:["",n.j.required],title:["",n.j.required],location:["",n.j.required],doctor:["",n.j.required]})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){this.appointment=this.appointmentService.appointments[this.index],console.log(this.appointment),Object.keys(this.appointmentService.appointments).forEach(e=>{this.appointmentList.push(this.appointmentService.appointments[e])}),console.log("saved"),console.log("Initiate appointment")})}openMap(){return Object(o.a)(this,void 0,void 0,function*(){const e=encodeURI("https://www.google.com/maps/search/?api=1&query="+this.appointment.location);yield u.open({url:e})})}edit(){return Object(o.a)(this,void 0,void 0,function*(){this.modalCtrl.dismiss()})}delete(){return Object(o.a)(this,void 0,void 0,function*(){console.log("delete appointment"),console.log(h.getPending()),this.appointmentList.splice(this.index,1),this.appointmentService.appointments={};for(let e=0;e<this.appointmentList.length;e++)this.appointmentService.appointments[e]=this.appointmentList[e];this.appointmentService.saveValue(),location.reload()})}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.a),r.Hb(l.a),r.Hb(c.M),r.Hb(c.b),r.Hb(n.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-saved-appointment"]],inputs:{index:"index"},decls:46,vars:11,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],["color","danger",3,"click"],["lines","none"],["name","calendar-clear-outline","slot","start"],["name","time-outline","slot","start"],["id","map","color","success","expand","block",3,"click"],["slot","start","name","navigate-circle-outline"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Kb(3,"ion-button",1),r.Sb("click",function(){return t.edit()}),r.Ib(4,"ion-icon",2),r.jc(5,"Back"),r.Jb(),r.Jb(),r.Kb(6,"ion-title"),r.jc(7,"Appointments"),r.Jb(),r.Kb(8,"ion-buttons",3),r.Kb(9,"ion-button",4),r.Sb("click",function(){return t.delete()}),r.jc(10,"Delete"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(11,"ion-content"),r.Kb(12,"ion-card"),r.Kb(13,"ion-item"),r.Kb(14,"ion-label"),r.jc(15,"Title:"),r.Jb(),r.Kb(16,"ion-label"),r.jc(17),r.Jb(),r.Jb(),r.Kb(18,"ion-item"),r.Kb(19,"ion-label"),r.jc(20,"Doctor:"),r.Jb(),r.Kb(21,"ion-label"),r.jc(22),r.Jb(),r.Jb(),r.Kb(23,"ion-item",5),r.Kb(24,"ion-label"),r.jc(25,"Location:"),r.Jb(),r.Kb(26,"ion-label"),r.jc(27),r.Jb(),r.Jb(),r.Jb(),r.Kb(28,"ion-card"),r.Kb(29,"ion-item"),r.Ib(30,"ion-icon",6),r.Kb(31,"ion-label"),r.jc(32,"Date"),r.Jb(),r.Kb(33,"ion-label"),r.jc(34),r.Vb(35,"date"),r.Jb(),r.Jb(),r.Kb(36,"ion-item",5),r.Ib(37,"ion-icon",7),r.Kb(38,"ion-label"),r.jc(39,"Time"),r.Jb(),r.Kb(40,"ion-label"),r.jc(41),r.Vb(42,"date"),r.Jb(),r.Jb(),r.Jb(),r.Kb(43,"ion-button",8),r.Sb("click",function(){return t.openMap()}),r.Ib(44,"ion-icon",9),r.jc(45," Show Location on Google Map "),r.Jb(),r.Jb()),2&e&&(r.xb(17),r.kc(t.appointment.title),r.xb(5),r.kc(t.appointment.doctor),r.xb(5),r.kc(t.appointment.location),r.xb(7),r.kc(r.Xb(35,5,t.appointment.appointmentDate,"d MMM y")),r.xb(7),r.kc(r.Xb(42,8,t.appointment.appointmentDate,"HH:mm")))},directives:[c.s,c.J,c.h,c.g,c.t,c.H,c.o,c.i,c.w,c.x],pipes:[b.d],styles:["#map[_ngcontent-%COMP%]{width:90%;margin:10% auto auto}#delete[_ngcontent-%COMP%]{margin-top:100px}"]}),e})()},tWnK:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var o=i("mrSG"),n=i("3Pt+"),s=i("fXoL"),r=i("TEn/"),a=i("DPk/"),l=i("ofXK");function c(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-select-option",18),s.jc(2),s.Jb(),s.Jb()),2&e){const e=t.$implicit;s.xb(1),s.bc("value",e),s.xb(1),s.kc(e)}}function b(e,t){if(1&e&&(s.Kb(0,"div"),s.Kb(1,"ion-item"),s.Kb(2,"ion-label"),s.jc(3,"Airway Grade"),s.Jb(),s.Kb(4,"ion-select",9),s.Kb(5,"ion-select-option",10),s.jc(6,"1"),s.Jb(),s.Kb(7,"ion-select-option",11),s.jc(8,"2"),s.Jb(),s.Kb(9,"ion-select-option",12),s.jc(10,"3"),s.Jb(),s.Kb(11,"ion-select-option",13),s.jc(12,"4"),s.Jb(),s.Jb(),s.Jb(),s.Kb(13,"ion-item"),s.Kb(14,"ion-label"),s.jc(15,"Endotracheal tube size"),s.Jb(),s.Kb(16,"ion-select",14),s.ic(17,c,3,2,"div",15),s.Jb(),s.Jb(),s.Kb(18,"ion-item"),s.Kb(19,"ion-label",16),s.jc(20,"Details"),s.Jb(),s.Ib(21,"ion-textarea",17),s.Jb(),s.Jb()),2&e){const e=s.Ub();s.xb(17),s.ac("ngForOf",e.tubeSizeList)}}let u=(()=>{class e{constructor(e,t,i){this.modalCtrl=e,this.fb=t,this.userDataService=i,this.tubeSizeList=["2.5","3.0","3.5","4.0","4.5","5.0","6.0","7.0","8.0"],this.form=this.fb.group({pathology:["",n.j.required],intubatation:["",n.j.required],airwayGrade:["",n.j.required],tubeSize:["",n.j.required],details:["",n.j.required]})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),Object.keys(this.form.controls).forEach(e=>{this.form.get(e).setValue(this.userDataService.medicalRecordValue[e]),console.log(e,this.form.get(e).value)})})}dismiss(){this.modalCtrl.dismiss()}save(){Object.keys(this.form.controls).forEach(e=>{this.userDataService.medicalRecordValue[e]=this.form.value[e],console.log(e,this.form.get(e).value)}),this.userDataService.saveMedicalRecord(),location.reload()}intubatation(){console.log(this.form.value.intubatation)}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(r.M),s.Hb(n.a),s.Hb(a.a))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-edit-pathology"]],inputs:{isModal:"isModal"},decls:27,vars:2,consts:[["slot","start"],["color","danger",3,"click"],["slot","end"],[3,"click"],[3,"formGroup"],["lines","full"],["rows","6","placeholder","Enter reasons","formControlName","pathology"],["formControlName","intubatation",3,"ionChange"],[4,"ngIf"],["formControlName","airwayGrade","interface","action-sheet"],["value","1"],["value","2"],["value","3"],["value","4"],["formControlName","tubeSize"],[4,"ngFor","ngForOf"],["position","stacked"],["rows","4","placeholder","Enter details","formControlName","details"],[3,"value"]],template:function(e,t){1&e&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Kb(3,"ion-button",1),s.Sb("click",function(){return t.dismiss()}),s.jc(4,"Cancel"),s.Jb(),s.Jb(),s.Kb(5,"ion-title"),s.jc(6,"Edit"),s.Jb(),s.Kb(7,"ion-buttons",2),s.Kb(8,"ion-button",3),s.Sb("click",function(){return t.save()}),s.jc(9,"Done"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(10,"ion-content"),s.Kb(11,"form",4),s.Kb(12,"ion-list"),s.Kb(13,"ion-list-header",5),s.Kb(14,"ion-label"),s.jc(15," Reason for Tracheostomy "),s.Jb(),s.Jb(),s.Kb(16,"ion-item",5),s.Ib(17,"ion-textarea",6),s.Jb(),s.Jb(),s.Kb(18,"ion-list"),s.Kb(19,"ion-list-header",5),s.Kb(20,"ion-label"),s.jc(21," Airway Condition "),s.Jb(),s.Jb(),s.Kb(22,"ion-item"),s.Kb(23,"ion-label"),s.jc(24,"Is Upper Airway Intubatable?"),s.Jb(),s.Kb(25,"ion-toggle",7),s.Sb("ionChange",function(){return t.intubatation()}),s.Jb(),s.Jb(),s.ic(26,b,22,1,"div",8),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(11),s.ac("formGroup",t.form),s.xb(15),s.ac("ngIf",1==t.form.value.intubatation))},directives:[r.s,r.J,r.h,r.g,r.H,r.o,n.k,n.h,n.c,r.y,r.z,r.x,r.w,r.G,r.Q,n.g,n.b,r.I,r.c,l.l,r.C,r.P,r.D,l.k],styles:["ion-item[_ngcontent-%COMP%]{margin-top:5px}"]}),e})()}}]);