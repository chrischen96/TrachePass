(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{fQm2:function(e,o,t){"use strict";t.r(o),t.d(o,"PhotoRecordPageModule",function(){return v});var n=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),c=t("tyNb"),l=t("mrSG"),s=t("6g0+"),b=t("fXoL"),a=t("6/gD"),d=t("EFyh");function h(e,o){if(1&e){const e=b.Mb();b.Lb(0,"ion-button",9),b.Tb("click",function(){return b.fc(e),b.Vb().changeMode()}),b.kc(1," Edit "),b.Kb()}}function f(e,o){if(1&e){const e=b.Mb();b.Lb(0,"ion-button",10),b.Tb("click",function(){return b.fc(e),b.Vb().changeMode()}),b.kc(1," Done "),b.Kb()}}function u(e,o){if(1&e){const e=b.Mb();b.Lb(0,"ion-col",11),b.Lb(1,"ion-img",12),b.Tb("click",function(){b.fc(e);const t=o.index,n=o.$implicit,i=b.Vb();return i.editmode?i.alertDeleteConfirm(t):i.openViewer(n.webviewPath)}),b.Kb(),b.Kb()}if(2&e){const e=o.$implicit;b.xb(1),b.bc("src",e.webviewPath)}}function m(e,o){if(1&e){const e=b.Mb();b.Lb(0,"ion-fab",13),b.Lb(1,"ion-fab-button",9),b.Tb("click",function(){return b.fc(e),b.Vb().addPhotoToGallery()}),b.Jb(2,"ion-icon",14),b.Kb(),b.Kb()}}const p=[{path:"",component:(()=>{class e{constructor(e,o,t,n){this.photoService=e,this.alertController=o,this.modalController=t,this.loginService=n,this.editmode=!1}ngOnInit(){return Object(l.a)(this,void 0,void 0,function*(){yield this.photoService.loadSaved([])})}changeMode(){this.editmode=!1===this.editmode,console.log(this.editmode)}addPhotoToGallery(){return Object(l.a)(this,void 0,void 0,function*(){yield this.photoService.addNewToGallery([])})}resetGallery(){this.photoService.reset()}removePhotoFromGallery(e){console.log(e),this.photoService.removePhoto(e)}alertDeleteConfirm(e){return Object(l.a)(this,void 0,void 0,function*(){const o=yield this.alertController.create({header:"Confirm Delete",message:"The selected photo will be <strong>Deleted</strong>!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Delete",cssClass:"alert",handler:o=>{this.removePhotoFromGallery(e)}}]});yield o.present()})}alertResetConfirm(e){return Object(l.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm Delete",message:"The Photo Record will be <strong>Resetted</strong>!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Delete",handler:e=>{this.resetGallery()}}]});yield e.present()})}openViewer(e){return Object(l.a)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:s.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});yield o.present()})}}return e.\u0275fac=function(o){return new(o||e)(b.Ib(a.a),b.Ib(r.b),b.Ib(r.P),b.Ib(d.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-photo-record"]],decls:14,vars:5,consts:[[3,"translucent"],["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["overflow-scroll","true"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed","style","margin-bottom: 15%;",4,"ngIf"],[3,"click"],["color","danger",3,"click"],["size","6"],[3,"src","click"],["vertical","bottom","horizontal","center","slot","fixed",2,"margin-bottom","15%"],["name","camera"]],template:function(e,o){1&e&&(b.Lb(0,"ion-header",0),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.kc(5," Photo Record "),b.Kb(),b.Lb(6,"ion-buttons",3),b.jc(7,h,2,0,"ion-button",4),b.jc(8,f,2,0,"ion-button",5),b.Kb(),b.Kb(),b.Kb(),b.Lb(9,"ion-content",6),b.Lb(10,"ion-grid"),b.Lb(11,"ion-row"),b.jc(12,u,2,1,"ion-col",7),b.Kb(),b.Kb(),b.jc(13,m,3,0,"ion-fab",8),b.Kb()),2&e&&(b.bc("translucent",!0),b.xb(7),b.bc("ngIf",!o.editmode),b.xb(1),b.bc("ngIf",o.editmode),b.xb(4),b.bc("ngForOf",o.photoService.photos),b.xb(1),b.bc("ngIf",!o.editmode))},directives:[r.v,r.M,r.h,r.e,r.f,r.K,n.l,r.p,r.u,r.E,n.k,r.g,r.o,r.x,r.r,r.s,r.w],styles:[".alert[_ngcontent-%COMP%]{color:red}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(o){return new(o||e)},imports:[[c.i.forChild(p)],c.i]}),e})(),v=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(o){return new(o||e)},imports:[[n.b,i.d,r.N,g]]}),e})()}}]);