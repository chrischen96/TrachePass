(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"7wo0":function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsPageModule",function(){return m});var o=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("mrSG"),c=n("gcOT"),l=n("fXoL"),d=n("WdVq"),b=n("DPk/"),g=n("EFyh");function u(e,t){if(1&e){const e=l.Mb();l.Lb(0,"div",9),l.Lb(1,"ion-button",10),l.Tb("click",function(){return l.fc(e),l.Vb().resetStorage()}),l.Jb(2,"ion-icon",11),l.Lb(3,"ion-text",4),l.kc(4,"Reset Storage"),l.Kb(),l.Kb(),l.Kb()}}function h(e,t){1&e&&(l.Lb(0,"div",12),l.Lb(1,"ion-text"),l.kc(2,"Storage has been reseted."),l.Kb(),l.Kb())}const{Storage:f}=c.e,p=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.alertController=e,this.barcodeScanner=t,this.userDataService=n,this.LoginService=o,this.isResetStorage=!1,this.barcodeScannerOptions={showTorchButton:!0,showFlipCameraButton:!0}}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){yield this.userDataService.loadUserProfile(),console.log("started app")})}alertScanCode(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm Update!",message:"The record in the App will be replaced by the values scanned from QR Code",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Confirm",handler:e=>{this.scanCode()}}]});yield e.present()})}scanCode(){return Object(a.a)(this,void 0,void 0,function*(){yield this.barcodeScanner.scan().then(e=>{console.log(e),this.scannedData=JSON.parse(e.text),console.log("Scanning User Data"),console.log(this.scannedData.userProfile),console.log(typeof this.scannedData.userProfile),console.log("Scanning Medical Data"),console.log(this.scannedData.medicalRecord),console.log(typeof this.scannedData.medicalRecord),console.log("ending Data"),f.set({key:this.userDataService.userProfileKey,value:this.scannedData.userProfile}),f.set({key:this.userDataService.medicalRecordKey,value:this.scannedData.medicalRecord})}).catch(e=>{console.log("Error",e)})})}encodData(){return Object(a.a)(this,void 0,void 0,function*(){this.userDataService.convertToString(),yield this.barcodeScanner.encode(this.barcodeScanner.Encode.TEXT_TYPE,this.userDataService.userProfileString).then(e=>{console.log(e),this.encodeData=e},e=>{console.log("Error occured : "+e)})})}resetStorage(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Reset Storage",message:"All data will be deleted.",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: cancel")}},{text:"Delete",handler:e=>{f.clear(),this.isResetStorage=!0}}]});yield e.present(),console.log("Storage Cleared")})}}return e.\u0275fac=function(t){return new(t||e)(l.Ib(s.b),l.Ib(d.a),l.Ib(b.a),l.Ib(g.a))},e.\u0275cmp=l.Cb({type:e,selectors:[["app-settings"]],decls:18,vars:2,consts:[["slot","start"],["defaultHref","home"],["color","warning","expand","block","routerLink","version-history",2,"margin-bottom","5%"],["slot","start","name","reload-outline"],["slot","end"],["color","danger","expand","block","routerLink","change-pw",2,"margin-bottom","5%"],["slot","start","name","lock-closed-outline"],["id","reset",4,"ngIf"],["id","isReset",4,"ngIf"],["id","reset"],["color","medium","expand","block",3,"click"],["slot","start","name","trash-outline"],["id","isReset"]],template:function(e,t){1&e&&(l.Lb(0,"ion-header"),l.Lb(1,"ion-toolbar"),l.Lb(2,"ion-buttons",0),l.Jb(3,"ion-back-button",1),l.Kb(),l.Lb(4,"ion-title"),l.kc(5,"Settings"),l.Kb(),l.Kb(),l.Kb(),l.Lb(6,"ion-content"),l.Lb(7,"div"),l.Lb(8,"ion-button",2),l.Jb(9,"ion-icon",3),l.Lb(10,"ion-text",4),l.kc(11,"Version History"),l.Kb(),l.Kb(),l.Lb(12,"ion-button",5),l.Jb(13,"ion-icon",6),l.Lb(14,"ion-text",4),l.kc(15,"Change Password"),l.Kb(),l.Kb(),l.Kb(),l.jc(16,u,5,0,"div",7),l.jc(17,h,3,0,"div",8),l.Kb()),2&e&&(l.xb(16),l.bc("ngIf",!t.isResetStorage),l.xb(1),l.bc("ngIf",t.isResetStorage))},directives:[s.v,s.M,s.h,s.e,s.f,s.K,s.p,s.g,s.S,r.h,s.w,s.I,o.l],styles:["div[_ngcontent-%COMP%]{width:80%;margin:10% auto auto}ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;left:10%}ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{position:absolute;left:30%}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:8%}#isReset[_ngcontent-%COMP%], #reset[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:10%}#isReset[_ngcontent-%COMP%]{width:80%;text-align:center}#isReset[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:large}#isReset[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:red}"]}),e})()}];let C=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(p)],r.i]}),e})(),m=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[o.b,i.d,s.N,C]]}),e})()}}]);