!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{fQm2:function(n,o,r){"use strict";r.r(o),r.d(o,"PhotoRecordPageModule",function(){return C});var i=r("ofXK"),c=r("3Pt+"),a=r("TEn/"),s=r("tyNb"),l=r("mrSG"),u=r("6g0+"),b=r("fXoL"),f=r("6/gD"),d=r("EFyh");function h(e,t){if(1&e){var n=b.Mb();b.Lb(0,"ion-button",9),b.Tb("click",function(){return b.fc(n),b.Vb().changeMode()}),b.kc(1," Edit "),b.Kb()}}function m(e,t){if(1&e){var n=b.Mb();b.Lb(0,"ion-button",10),b.Tb("click",function(){return b.fc(n),b.Vb().changeMode()}),b.kc(1," Done "),b.Kb()}}function v(e,t){if(1&e){var n=b.Mb();b.Lb(0,"ion-col",11),b.Lb(1,"ion-img",12),b.Tb("click",function(){b.fc(n);var e=t.index,o=t.$implicit,r=b.Vb();return r.editmode?r.alertDeleteConfirm(e):r.openViewer(o.webviewPath)}),b.Kb(),b.Kb()}if(2&e){var o=t.$implicit;b.xb(1),b.bc("src",o.webviewPath)}}function p(e,t){if(1&e){var n=b.Mb();b.Lb(0,"ion-fab",13),b.Lb(1,"ion-fab-button",9),b.Tb("click",function(){return b.fc(n),b.Vb().addPhotoToGallery()}),b.Jb(2,"ion-icon",14),b.Kb(),b.Kb()}}var g,w,k,y=[{path:"",component:(g=function(){function n(t,o,r,i){e(this,n),this.photoService=t,this.alertController=o,this.modalController=r,this.loginService=i,this.editmode=!1}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.photoService.loadSaved([]);case 2:case"end":return e.stop()}},e,this)}))}},{key:"changeMode",value:function(){this.editmode=!1===this.editmode,console.log(this.editmode)}},{key:"addPhotoToGallery",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.photoService.addNewToGallery([]);case 2:case"end":return e.stop()}},e,this)}))}},{key:"resetGallery",value:function(){this.photoService.reset()}},{key:"removePhotoFromGallery",value:function(e){console.log(e),this.photoService.removePhoto(e)}},{key:"alertDeleteConfirm",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"Confirm Delete",message:"The selected photo will be <strong>Deleted</strong>!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Delete",cssClass:"alert",handler:function(t){o.removePhotoFromGallery(e)}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"alertResetConfirm",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Confirm Delete",message:"The Photo Record will be <strong>Resetted</strong>!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Delete",handler:function(e){n.resetGallery()}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"openViewer",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:u.b,componentProps:{src:e},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}}])&&t(o.prototype,r),i&&t(o,i),n}(),g.\u0275fac=function(e){return new(e||g)(b.Ib(f.a),b.Ib(a.b),b.Ib(a.P),b.Ib(d.a))},g.\u0275cmp=b.Cb({type:g,selectors:[["app-photo-record"]],decls:14,vars:5,consts:[[3,"translucent"],["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["overflow-scroll","true"],["size","6",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","center","slot","fixed","style","margin-bottom: 15%;",4,"ngIf"],[3,"click"],["color","danger",3,"click"],["size","6"],[3,"src","click"],["vertical","bottom","horizontal","center","slot","fixed",2,"margin-bottom","15%"],["name","camera"]],template:function(e,t){1&e&&(b.Lb(0,"ion-header",0),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.kc(5," Photo Record "),b.Kb(),b.Lb(6,"ion-buttons",3),b.jc(7,h,2,0,"ion-button",4),b.jc(8,m,2,0,"ion-button",5),b.Kb(),b.Kb(),b.Kb(),b.Lb(9,"ion-content",6),b.Lb(10,"ion-grid"),b.Lb(11,"ion-row"),b.jc(12,v,2,1,"ion-col",7),b.Kb(),b.Kb(),b.jc(13,p,3,0,"ion-fab",8),b.Kb()),2&e&&(b.bc("translucent",!0),b.xb(7),b.bc("ngIf",!t.editmode),b.xb(1),b.bc("ngIf",t.editmode),b.xb(4),b.bc("ngForOf",t.photoService.photos),b.xb(1),b.bc("ngIf",!t.editmode))},directives:[a.v,a.M,a.h,a.e,a.f,a.K,i.l,a.p,a.u,a.E,i.k,a.g,a.o,a.x,a.r,a.s,a.w],styles:[".alert[_ngcontent-%COMP%]{color:red}"]}),g)}],x=((k=function t(){e(this,t)}).\u0275mod=b.Gb({type:k}),k.\u0275inj=b.Fb({factory:function(e){return new(e||k)},imports:[[s.i.forChild(y)],s.i]}),k),C=((w=function t(){e(this,t)}).\u0275mod=b.Gb({type:w}),w.\u0275inj=b.Fb({factory:function(e){return new(e||w)},imports:[[i.b,c.d,a.N,x]]}),w)}}])}();