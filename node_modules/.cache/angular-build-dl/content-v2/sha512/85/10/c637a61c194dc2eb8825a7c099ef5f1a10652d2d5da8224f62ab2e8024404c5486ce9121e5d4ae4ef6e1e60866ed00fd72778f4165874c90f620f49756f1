(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{tiJM:function(t,i,e){"use strict";e.r(i),e.d(i,"OperativeHistoryPageModule",function(){return g});var o=e("ofXK"),s=e("3Pt+"),r=e("TEn/"),n=e("tyNb"),c=e("mrSG"),a=e("8x4H"),l=e("fXoL"),h=e("DPk/");function b(t,i){1&t&&(l.Nb(0,"ion-card"),l.Nb(1,"ion-card-header"),l.Nb(2,"ion-card-title"),l.mc(3,"No History"),l.Mb(),l.Mb(),l.Mb())}function d(t,i){if(1&t){const t=l.Ob();l.Nb(0,"ion-card",3),l.Vb("click",function(){l.hc(t);const e=i.index;return l.Xb().delete(e)}),l.Nb(1,"ion-item",6),l.Nb(2,"ion-label",7),l.mc(3),l.Yb(4,"date"),l.Mb(),l.Mb(),l.Nb(5,"ion-item",8),l.Nb(6,"ion-label",9),l.Nb(7,"h3"),l.mc(8),l.Mb(),l.Mb(),l.Mb(),l.Nb(9,"ion-card-content"),l.mc(10),l.Mb(),l.Mb()}if(2&t){const t=i.$implicit;l.xb(3),l.nc(l.ac(4,3,t.date,"d MMM y")),l.xb(5),l.oc("",t.type," Details"),l.xb(2),l.oc(" ",t.details," ")}}const p=[{path:"",component:(()=>{class t{constructor(t,i,e){this.modalCtrl=t,this.userDataService=i,this.actionSheetController=e,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[]}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){if(yield this.userDataService.loadMedicalRecord(),this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,console.log(this.operativeHistoryString),""!=this.operativeHistoryString&&null!=this.operativeHistoryString){this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),console.log(this.operativeHistoryJSON),Object.keys(this.operativeHistoryJSON).forEach(t=>{this.histories.push(JSON.parse(this.operativeHistoryJSON[t])),console.log(this.histories)});for(let t=0;t<this.histories.length;t++)for(let i=t+1;i<this.histories.length;i++)if(new Date(this.histories[t].date).getTime()<new Date(this.histories[i].date).getTime()){let e=this.histories[t];this.histories[t]=this.histories[i],this.histories[i]=e}}console.log(this.histories)})}edit(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:a.a,backdropDismiss:!1,componentProps:{isModal:!0}})).present()})}delete(t){return Object(c.a)(this,void 0,void 0,function*(){const i=yield this.actionSheetController.create({header:"Edit",buttons:[{text:"Delete",role:"destructive",handler:()=>{console.log("Delete clicked"),console.log(t),this.histories.splice(t,1),console.log(this.histories),this.operativeHistoryJSON={};for(let t=0;t<this.histories.length;t++)console.log(t.toString()),this.operativeHistoryJSON[t.toString()]=JSON.stringify(this.histories[t]);console.log(this.histories),console.log(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(this.operativeHistoryJSON),this.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});yield i.present()})}}return t.\u0275fac=function(i){return new(i||t)(l.Ib(r.P),l.Ib(h.a),l.Ib(r.a))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(t,i){1&t&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar"),l.Nb(2,"ion-buttons",0),l.Jb(3,"ion-back-button",1),l.Mb(),l.Nb(4,"ion-title"),l.mc(5,"Operative History"),l.Mb(),l.Nb(6,"ion-buttons",2),l.Nb(7,"ion-button",3),l.Vb("click",function(){return i.edit()}),l.mc(8,"Add"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(9,"ion-content"),l.lc(10,b,4,0,"ion-card",4),l.lc(11,d,11,6,"ion-card",5),l.Mb()),2&t&&(l.xb(10),l.dc("ngIf",0==i.histories.length),l.xb(1),l.dc("ngForOf",i.histories))},directives:[r.v,r.M,r.h,r.e,r.f,r.K,r.g,r.p,o.l,o.k,r.i,r.k,r.m,r.z,r.A,r.j],pipes:[o.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;font-size:14px;color:#000}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(i){return new(i||t)},imports:[[n.i.forChild(p)],n.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(i){return new(i||t)},imports:[[o.b,s.d,r.N,u]]}),t})()}}]);