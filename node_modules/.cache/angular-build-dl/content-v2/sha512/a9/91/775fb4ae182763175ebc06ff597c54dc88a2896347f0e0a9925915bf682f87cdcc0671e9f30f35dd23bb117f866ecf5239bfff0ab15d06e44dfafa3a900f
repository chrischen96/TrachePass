(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{tiJM:function(t,i,e){"use strict";e.r(i),e.d(i,"OperativeHistoryPageModule",function(){return y});var o=e("ofXK"),r=e("3Pt+"),n=e("TEn/"),s=e("tyNb"),c=e("mrSG"),a=e("8x4H"),l=e("TR9v"),b=e("fXoL"),d=e("DPk/"),h=e("6/gD");function p(t,i){1&t&&(b.Kb(0,"ion-card"),b.Kb(1,"ion-card-header"),b.Kb(2,"ion-card-title"),b.jc(3,"No History"),b.Jb(),b.Jb(),b.Jb())}function u(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-card",3),b.Sb("click",function(){b.ec(t);const e=i.index;return b.Ub().choose(e)}),b.Kb(1,"ion-item",6),b.Kb(2,"ion-label",7),b.jc(3),b.Vb(4,"date"),b.Jb(),b.Jb(),b.Kb(5,"ion-item",8),b.Kb(6,"ion-label",9),b.Kb(7,"h3"),b.jc(8),b.Jb(),b.Jb(),b.Jb(),b.Kb(9,"ion-card-content"),b.jc(10),b.Jb(),b.Jb()}if(2&t){const t=i.$implicit;b.xb(3),b.lc(" ",b.Xb(4,3,t.date,"d MMM y")," "),b.xb(5),b.lc("",t.type," Details"),b.xb(2),b.lc(" ",t.details," ")}}const v=[{path:"",component:(()=>{class t{constructor(t,i,e,o){this.modalCtrl=t,this.userDataService=i,this.actionSheetController=e,this.photoService=o,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[],this.photos=[]}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){yield this.userDataService.loadMedicalRecord(),this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),Object.keys(this.operativeHistoryJSON).forEach(t=>{this.histories.push(this.operativeHistoryJSON[t])}))})}edit(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:a.a,backdropDismiss:!1,componentProps:{isModal:!0}})).present()})}viewPhoto(t){return Object(c.a)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:l.a,backdropDismiss:!1,componentProps:{index:t}})).present()})}choose(t){return Object(c.a)(this,void 0,void 0,function*(){const i=yield this.actionSheetController.create({header:"Options",buttons:[{text:"View and Edit",handler:()=>{this.viewPhoto(t)}},{text:"Delete",role:"destructive",handler:()=>{console.log("Delete clicked"),console.log(t),this.histories.splice(t,1),console.log(this.histories),this.operativeHistoryJSON={};for(let t=0;t<this.histories.length;t++)console.log(t.toString()),this.operativeHistoryJSON[t]=this.histories[t];console.log(this.histories),console.log(this.operativeHistoryJSON),this.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(this.operativeHistoryJSON),this.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});yield i.present()})}}return t.\u0275fac=function(i){return new(i||t)(b.Hb(n.M),b.Hb(d.a),b.Hb(n.a),b.Hb(h.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(t,i){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-buttons",0),b.Ib(3,"ion-back-button",1),b.Jb(),b.Kb(4,"ion-title"),b.jc(5,"Operative History"),b.Jb(),b.Kb(6,"ion-buttons",2),b.Kb(7,"ion-button",3),b.Sb("click",function(){return i.edit()}),b.jc(8,"Add"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(9,"ion-content"),b.ic(10,p,4,0,"ion-card",4),b.ic(11,u,11,6,"ion-card",5),b.Jb()),2&t&&(b.xb(10),b.ac("ngIf",0==i.histories.length),b.xb(1),b.ac("ngForOf",i.histories))},directives:[n.s,n.J,n.h,n.e,n.f,n.H,n.g,n.o,o.l,o.k,n.i,n.k,n.m,n.w,n.x,n.j],pipes:[o.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;color:#000}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(v)],s.i]}),t})(),y=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[o.b,r.d,n.K,f]]}),t})()}}]);