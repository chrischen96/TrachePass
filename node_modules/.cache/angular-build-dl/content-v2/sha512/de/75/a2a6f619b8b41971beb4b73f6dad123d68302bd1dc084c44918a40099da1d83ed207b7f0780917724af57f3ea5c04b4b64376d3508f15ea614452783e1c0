!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{tiJM:function(o,i,r){"use strict";r.r(i),r.d(i,"OperativeHistoryPageModule",function(){return S});var n=r("ofXK"),s=r("3Pt+"),a=r("TEn/"),c=r("tyNb"),l=r("mrSG"),u=r("8x4H"),b=r("TR9v"),p=r("fXoL"),h=r("DPk/"),d=r("6/gD");function f(e,t){1&e&&(p.Lb(0,"ion-card"),p.Lb(1,"ion-card-header"),p.Lb(2,"ion-card-title"),p.kc(3,"No History"),p.Kb(),p.Kb(),p.Kb())}function v(e,t){if(1&e){var o=p.Mb();p.Lb(0,"ion-card",3),p.Tb("click",function(){p.fc(o);var e=t.index;return p.Vb().choose(e)}),p.Lb(1,"ion-item",6),p.Lb(2,"ion-label",7),p.kc(3),p.Wb(4,"date"),p.Kb(),p.Kb(),p.Lb(5,"ion-item",8),p.Lb(6,"ion-label",9),p.Lb(7,"h3"),p.kc(8),p.Kb(),p.Kb(),p.Kb(),p.Lb(9,"ion-card-content"),p.kc(10),p.Kb(),p.Kb()}if(2&e){var i=t.$implicit;p.xb(3),p.mc(" ",p.Yb(4,3,i.date,"d MMM y")," "),p.xb(5),p.mc("",i.type," Details"),p.xb(2),p.mc(" ",i.details," ")}}var g,m,y,k=[{path:"",component:(g=function(){function o(t,i,r,n){e(this,o),this.modalCtrl=t,this.userDataService=i,this.actionSheetController=r,this.photoService=n,this.operativeHistoryJSON={},this.operativeHistoryString="",this.histories=[],this.photos=[]}var i,r,n;return i=o,(r=[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDataService.loadMedicalRecord();case 2:this.operativeHistoryString=this.userDataService.medicalRecordValue.operativeHistory,console.log(this.operativeHistoryString),""!=this.operativeHistoryString&&null!=this.operativeHistoryString&&(this.operativeHistoryJSON=JSON.parse(this.operativeHistoryString),console.log(this.operativeHistoryJSON),Object.keys(this.operativeHistoryJSON).forEach(function(e){t.histories.push(t.operativeHistoryJSON[e]),console.log(t.histories)}));case 5:case"end":return e.stop()}},e,this)}))}},{key:"edit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:u.a,backdropDismiss:!1,componentProps:{isModal:!0}});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"viewPhoto",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:b.a,backdropDismiss:!1,componentProps:{index:e}});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"choose",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var o,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Options",buttons:[{text:"View and Edit",handler:function(){i.viewPhoto(e)}},{text:"Delete",role:"destructive",handler:function(){console.log("Delete clicked"),console.log(e),i.histories.splice(e,1),console.log(i.histories),i.operativeHistoryJSON={};for(var t=0;t<i.histories.length;t++)console.log(t.toString()),i.operativeHistoryJSON[t]=i.histories[t];var o=Object.keys(i.operativeHistoryJSON)[Object.keys(i.operativeHistoryJSON).length-1];delete i.operativeHistoryJSON[o],console.log(i.histories),console.log(i.operativeHistoryJSON),i.userDataService.medicalRecordValue.operativeHistory=JSON.stringify(i.operativeHistoryJSON),i.userDataService.saveMedicalRecord()}},{text:"Cancel",role:"cancel"}]});case 2:return o=t.sent,t.next=5,o.present();case 5:case"end":return t.stop()}},t,this)}))}}])&&t(i.prototype,r),n&&t(i,n),o}(),g.\u0275fac=function(e){return new(e||g)(p.Ib(a.P),p.Ib(h.a),p.Ib(a.a),p.Ib(d.a))},g.\u0275cmp=p.Cb({type:g,selectors:[["app-operative-history"]],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/medical-record"],["slot","end"],[3,"click"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],[2,"font-weight","bold","color","mediumseagreen"],["lines","none"],[2,"margin-bottom","0%"]],template:function(e,t){1&e&&(p.Lb(0,"ion-header"),p.Lb(1,"ion-toolbar"),p.Lb(2,"ion-buttons",0),p.Jb(3,"ion-back-button",1),p.Kb(),p.Lb(4,"ion-title"),p.kc(5,"Operative History"),p.Kb(),p.Lb(6,"ion-buttons",2),p.Lb(7,"ion-button",3),p.Tb("click",function(){return t.edit()}),p.kc(8,"Add"),p.Kb(),p.Kb(),p.Kb(),p.Kb(),p.Lb(9,"ion-content"),p.jc(10,f,4,0,"ion-card",4),p.jc(11,v,11,6,"ion-card",5),p.Kb()),2&e&&(p.xb(10),p.bc("ngIf",0==t.histories.length),p.xb(1),p.bc("ngForOf",t.histories))},directives:[a.v,a.M,a.h,a.e,a.f,a.K,a.g,a.p,n.l,n.k,a.i,a.k,a.m,a.z,a.A,a.j],pipes:[n.d],styles:["h3[_ngcontent-%COMP%]:first-child{font-weight:700;color:#797979;margin-bottom:5px}ion-card-content[_ngcontent-%COMP%]{padding-top:0;font-size:14px;color:#000}"]}),g)}],O=((y=function t(){e(this,t)}).\u0275mod=p.Gb({type:y}),y.\u0275inj=p.Fb({factory:function(e){return new(e||y)},imports:[[c.i.forChild(k)],c.i]}),y),S=((m=function t(){e(this,t)}).\u0275mod=p.Gb({type:m}),m.\u0275inj=p.Fb({factory:function(e){return new(e||m)},imports:[[n.b,s.d,a.N,O]]}),m)}}])}();